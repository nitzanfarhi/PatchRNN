commit 8487b2044b0fb253ae62b5c935856fbc78d60697
Author: Sytyi Nick <nsytyi@gmail.com>
Date:   Thu Aug 11 17:54:20 2011 +0000

    Fixed bug when links&tags of super tag overrid links of tag,
    
    ...dropping special context-based info.

diff --git a/src/tools/schema/tag.cpp b/src/tools/schema/tag.cpp
index 55b94d5db2..b5e593e26c 100644
--- a/src/tools/schema/tag.cpp
+++ b/src/tools/schema/tag.cpp
@@ -257,6 +257,7 @@ void class_tag::add_tag(const std::string &path, const class_tag &tag,
 			it->second.add_keys(tag.keys_);
 			it->second.add_links(tag.links_);
 		}
+		links_.erase (tag.get_name ());
 		return ;
 	}
 	std::string::size_type pos = path.find('/');
@@ -282,7 +283,9 @@ void class_tag::append_super(const class_tag &tag,const std::string & path){
 	add_keys(tag.keys_);
 	add_links(tag.links_);
 	for (tag_map::const_iterator i = tag.tags_.begin();i!=tag.tags_.end();++i){
+		links_.erase(i->first);
 		add_link(path + "/" + i->first);
+
 	}
 }
 

