commit ff2c222c379645cb7825b8ddc222142dcaea1677
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Jun 2 23:37:14 2008 +0000

    matroskadec: fix potential mem leak
    may or may not fix CID134 and CID135
    
    Originally committed as revision 13636 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavformat/matroskadec.c b/libavformat/matroskadec.c
index e2990e45db..c2b46ae9f7 100644
--- a/libavformat/matroskadec.c
+++ b/libavformat/matroskadec.c
@@ -505,6 +505,7 @@ ebml_read_ascii (MatroskaDemuxContext *matroska,
         offset_t pos = url_ftell(pb);
         av_log(matroska->ctx, AV_LOG_ERROR,
                "Read error at pos. %"PRIu64" (0x%"PRIx64")\n", pos, pos);
+        av_free(*str);
         return AVERROR(EIO);
     }
     (*str)[size] = '\0';

