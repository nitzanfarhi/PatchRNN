commit 22e4988673df322b98c1d38782d4d8aa98d3a518
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue Dec 11 00:00:54 2012 +0100

    opt: fix memleak on error of range_array
    
    Fixes CID747739
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libavutil/opt.c b/libavutil/opt.c
index d388b7d46e..48078e3274 100644
--- a/libavutil/opt.c
+++ b/libavutil/opt.c
@@ -1279,6 +1279,7 @@ int av_opt_query_ranges_default(AVOptionRanges **ranges_arg, void *obj, const ch
 fail:
     av_free(ranges);
     av_free(range);
+    av_free(range_array);
     return ret;
 }
 

