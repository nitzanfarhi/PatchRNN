commit ed612d1c664fbbee6efac360fd57e3236afed54b
Author: jakemsr <jakemsr@openbsd.org>
Date:   Sun Dec 21 21:25:01 2008 +0000

    move the codec specific widget initialization out of
    azalia_widget_label_widgets to right after the generic widget
    initialization.  nothing uses this yet.

diff --git a/sys/dev/pci/azalia.c b/sys/dev/pci/azalia.c
index c23d56de6ee..8d9e80015f2 100644
--- a/sys/dev/pci/azalia.c
+++ b/sys/dev/pci/azalia.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: azalia.c,v 1.83 2008/12/21 20:47:55 jakemsr Exp $	*/
+/*	$OpenBSD: azalia.c,v 1.84 2008/12/21 21:25:01 jakemsr Exp $	*/
 /*	$NetBSD: azalia.c,v 1.20 2006/05/07 08:31:44 kent Exp $	*/
 
 /*-
@@ -1293,6 +1293,8 @@ azalia_codec_init(codec_t *this)
 		if (err)
 			return err;
 #endif
+		if (this->init_widget != NULL)
+			this->init_widget(this, &this->w[i], this->w[i].nid);
 	}
 	/* Find widgets without any enabled inputs and disable them.
 	 * Must be done after all widgets are initialized and
@@ -1890,8 +1892,6 @@ azalia_widget_label_widgets(codec_t *codec)
 				    wtypes[w->type]);
 			break;
 		}
-		if (codec->init_widget != NULL)
-			codec->init_widget(codec, w, w->nid);
 	}
 
 	/* Rename mixers and selectors that connect to only one other

