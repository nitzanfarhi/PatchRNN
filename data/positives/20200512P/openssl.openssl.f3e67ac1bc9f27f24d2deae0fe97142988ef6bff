commit f3e67ac1bc9f27f24d2deae0fe97142988ef6bff
Author: Bodo MÃ¶ller <bodo@openssl.org>
Date:   Mon Aug 2 20:09:23 1999 +0000

    fix previous modification -- if ssl->cert is NULL, don't follow the pointer.

diff --git a/ssl/ssl_lib.c b/ssl/ssl_lib.c
index 0b30ccf918..72b7e3aa4e 100644
--- a/ssl/ssl_lib.c
+++ b/ssl/ssl_lib.c
@@ -575,6 +575,8 @@ int SSL_check_private_key(SSL *ssl)
 		SSLerr(SSL_F_SSL_CHECK_PRIVATE_KEY,ERR_R_PASSED_NULL_PARAMETER);
 		return(0);
 		}
+	if (ssl->cert == NULL)
+		return 0;
 	if (ssl->cert->key->x509 == NULL)
 		{
 		SSLerr(SSL_F_SSL_CHECK_PRIVATE_KEY,SSL_R_NO_CERTIFICATE_ASSIGNED);

