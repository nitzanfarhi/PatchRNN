commit 9248b61f54955e56212f3ae4c8a7ab704f7ad01c
Author: Lou Berger <lberger@labn.net>
Date:   Tue Jan 12 13:41:47 2016 -0500

    lib: treat realloc of null pointer as alloc Now use zalloc rather than alloc with null. Fixes issue seen in bgp check tests.
    
    Signed-off-by: Lou Berger <lberger@labn.net>

diff --git a/lib/memory.c b/lib/memory.c
index 172ddfc4..269520d5 100644
--- a/lib/memory.c
+++ b/lib/memory.c
@@ -108,6 +108,9 @@ zrealloc (int type, void *ptr, size_t size)
 {
   void *memory;
 
+  if (ptr == NULL)              /* is really alloc */
+      return zcalloc(type, size);
+
   memory = realloc (ptr, size);
   if (memory == NULL)
     zerror ("realloc", type, size);

