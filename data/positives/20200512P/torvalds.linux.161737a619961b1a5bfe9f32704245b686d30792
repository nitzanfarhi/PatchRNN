commit 161737a619961b1a5bfe9f32704245b686d30792
Author: Kirill Tkhai <tkhai@yandex.ru>
Date:   Mon Feb 10 22:36:23 2014 +0400

    staging: slicoss: Fix possible reuse of freed memory in timer function
    
    Do not call kfree() till timer function is finished.
    
    [This was found using grep. Compiled tested only]
    
    Signed-off-by: Kirill Tkhai <tkhai@yandex.ru>
    CC: Joe Perches <joe@perches.com>
    CC: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/slicoss/slicoss.c b/drivers/staging/slicoss/slicoss.c
index 1426ca49bfe8..e0de4979e1cb 100644
--- a/drivers/staging/slicoss/slicoss.c
+++ b/drivers/staging/slicoss/slicoss.c
@@ -2970,7 +2970,7 @@ static void slic_card_cleanup(struct sliccard *card)
 {
 	if (card->loadtimerset) {
 		card->loadtimerset = 0;
-		del_timer(&card->loadtimer);
+		del_timer_sync(&card->loadtimer);
 	}
 
 	slic_debug_card_destroy(card);

