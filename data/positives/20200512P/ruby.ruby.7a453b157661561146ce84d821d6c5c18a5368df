commit 7a453b157661561146ce84d821d6c5c18a5368df
Author: shyouhei <shyouhei@b2dd03c8-39d4-4d8f-98ff-823fe69b080e>
Date:   Fri Feb 16 02:10:52 2018 +0000

    non-constant aggregate initializer is a C99ism
    
    
    git-svn-id: svn+ssh://ci.ruby-lang.org/ruby/trunk@62419 b2dd03c8-39d4-4d8f-98ff-823fe69b080e

diff --git a/mjit.c b/mjit.c
index 7bbc30f6c0..50254fe671 100644
--- a/mjit.c
+++ b/mjit.c
@@ -597,11 +597,14 @@ make_pch(void)
 # ifdef __clang__
         "-emit-pch",
 # endif
-        "-o", pch_file, header_file,
+        "-o", NULL, NULL,
         NULL,
     };
     char **args;
+    int len = sizeof(rest_args) / sizeof(const char *);
 
+    rest_args[len - 2] = header_file;
+    rest_args[len - 3] = pch_file;
     verbose(2, "Creating precompiled header");
     args = form_args(3, CC_COMMON_ARGS, CC_CODEFLAG_ARGS, rest_args);
     if (args == NULL) {

