commit 379ebf0796071210c61ea17ba3f08cbc5e260894
Author: Dan Carpenter <dan.carpenter@oracle.com>
Date:   Thu Jul 12 15:29:29 2018 +0300

    NFS: silence a harmless uninitialized variable warning
    
    kstrtoul() can return -ERANGE so Smatch complains that "num" can be
    uninitialized.  We check that it's within bounds so it's not a huge
    deal.
    
    Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com>
    Signed-off-by: Anna Schumaker <Anna.Schumaker@Netapp.com>

diff --git a/fs/nfs/super.c b/fs/nfs/super.c
index bdf39fa1bfbc..ac4b2f005778 100644
--- a/fs/nfs/super.c
+++ b/fs/nfs/super.c
@@ -2899,7 +2899,7 @@ static int param_set_portnr(const char *val, const struct kernel_param *kp)
 	if (!val)
 		return -EINVAL;
 	ret = kstrtoul(val, 0, &num);
-	if (ret == -EINVAL || num > NFS_CALLBACK_MAXPORTNR)
+	if (ret || num > NFS_CALLBACK_MAXPORTNR)
 		return -EINVAL;
 	*((unsigned int *)kp->arg) = num;
 	return 0;

