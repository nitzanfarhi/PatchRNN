commit 346a38e0016096ea235d93d6da335c82d562971c
Author: Leif Walsh <leif@tokutek.com>
Date:   Wed Apr 17 00:01:17 2013 -0400

    refs #5671 fix an off-by-one error
    
    
    git-svn-id: file:///svn/toku/tokudb@50065 c7de825b-a66e-492c-adef-691d508d4ae1

diff --git a/ft/ft-flusher.cc b/ft/ft-flusher.cc
index 4cf5cbcdd2b..f890c39102a 100644
--- a/ft/ft-flusher.cc
+++ b/ft/ft-flusher.cc
@@ -1253,7 +1253,7 @@ maybe_merge_pinned_nonleaf_nodes(
     XREALLOC_N(new_n_children-1, a->childkeys);
     toku_copy_dbt(&a->childkeys[old_n_children-1], *parent_splitk);
     a->totalchildkeylens += parent_splitk->size;
-    for (int i = 0; i < b->n_children; ++i) {
+    for (int i = 0; i < b->n_children - 1; ++i) {
         toku_copy_dbt(&a->childkeys[old_n_children + i], b->childkeys[i]);
         a->totalchildkeylens += b->childkeys[i].size;
         toku_init_dbt(&b->childkeys[i]);

