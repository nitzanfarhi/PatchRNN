commit 6c450bdf13ebe110821a74960936cec936edae49
Author: Andrey Smirnov <andrew.smirnov@gmail.com>
Date:   Fri Jul 6 19:41:05 2018 -0700

    mfd: rave-sp: Initialize flow control and parity of the port
    
    Relying on serial port defaults for flow control and parity can result
    in complete breakdown of communication with RAVE SP on some platforms
    where defaults are not what we need them to be. One such case is
    VF610-base ZII SPU3 board (not supported upstream). To avoid this
    problem in the future, add code to explicitly configure both.
    
    Signed-off-by: Andrey Smirnov <andrew.smirnov@gmail.com>
    Signed-off-by: Lee Jones <lee.jones@linaro.org>

diff --git a/drivers/mfd/rave-sp.c b/drivers/mfd/rave-sp.c
index a90ec4986b22..aa75d5841ca0 100644
--- a/drivers/mfd/rave-sp.c
+++ b/drivers/mfd/rave-sp.c
@@ -766,6 +766,13 @@ static int rave_sp_probe(struct serdev_device *serdev)
 		return ret;
 
 	serdev_device_set_baudrate(serdev, baud);
+	serdev_device_set_flow_control(serdev, false);
+
+	ret = serdev_device_set_parity(serdev, SERDEV_PARITY_NONE);
+	if (ret) {
+		dev_err(dev, "Failed to set parity\n");
+		return ret;
+	}
 
 	ret = rave_sp_get_status(sp);
 	if (ret) {

