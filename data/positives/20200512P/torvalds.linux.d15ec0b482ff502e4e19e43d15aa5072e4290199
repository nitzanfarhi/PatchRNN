commit d15ec0b482ff502e4e19e43d15aa5072e4290199
Author: Lihua Yao <ylhuajnu@163.com>
Date:   Wed Aug 15 23:20:34 2018 +0800

    ALSA: ac97: fix check of pm_runtime_get_sync failure
    
    pm_runtime_get_sync returns negative on failure.
    
    Fixes: 74426fbff66e ("ALSA: ac97: add an ac97 bus")
    Signed-off-by: Lihua Yao <ylhuajnu@163.com>
    Acked-by: Robert Jarzmik <robert.jarzmik@free.fr>
    Cc: <stable@vger.kernel.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

diff --git a/sound/ac97/bus.c b/sound/ac97/bus.c
index 7a0dfca03a57..640812cb2152 100644
--- a/sound/ac97/bus.c
+++ b/sound/ac97/bus.c
@@ -529,7 +529,7 @@ static int ac97_bus_remove(struct device *dev)
 	int ret;
 
 	ret = pm_runtime_get_sync(dev);
-	if (ret)
+	if (ret < 0)
 		return ret;
 
 	ret = adrv->remove(adev);

