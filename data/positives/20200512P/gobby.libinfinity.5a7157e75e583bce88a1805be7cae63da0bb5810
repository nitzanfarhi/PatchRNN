commit 5a7157e75e583bce88a1805be7cae63da0bb5810
Author: Armin Burgmeier <armin@arbur.net>
Date:   Thu May 1 21:15:12 2014 +0200

    Fix an allocation problem in inf_text_fixline_buffer_buffer_insert_text()

diff --git a/libinftext/inf-text-fixline-buffer.c b/libinftext/inf-text-fixline-buffer.c
index f4c1e91..5aac06a 100644
--- a/libinftext/inf-text-fixline-buffer.c
+++ b/libinftext/inf-text-fixline-buffer.c
@@ -1137,7 +1137,7 @@ inf_text_fixline_buffer_buffer_insert_text(InfTextBuffer* buffer,
 
     priv->keep = g_realloc(
       priv->keep,
-      priv->n_keep + inf_text_chunk_get_length(chunk)
+      (priv->n_keep + inf_text_chunk_get_length(chunk)) * sizeof(guint)
     );
 
     if(pos - buf_len < priv->n_keep)

