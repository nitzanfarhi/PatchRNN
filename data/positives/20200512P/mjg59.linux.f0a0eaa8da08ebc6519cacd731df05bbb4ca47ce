commit f0a0eaa8da08ebc6519cacd731df05bbb4ca47ce
Author: Dave Chinner <david@fromorbit.com>
Date:   Wed Jan 20 10:50:06 2010 +1100

    xfs: suppress spurious uninitialised var warning in xfs_bmapi()
    
    Initialise the xfs_bmalloca_t structure to zero to avoid uninitialised
    variable warnings. This is done by zeroing the arg structure rather than
    using the uninitialised_var() trick so we know for certain that the
    structure is correctly initialised as xfs_bmapi is a very complex
    function and it is difficult to prove warnings are spurious.
    
    Signed-off-by: Dave Chinner <david@fromorbit.com>
    Reviewed-by: Christoph Hellwig <hch@lst.de>

diff --git a/fs/xfs/xfs_bmap.c b/fs/xfs/xfs_bmap.c
index 7c6d9acd7154..1869fb973819 100644
--- a/fs/xfs/xfs_bmap.c
+++ b/fs/xfs/xfs_bmap.c
@@ -4471,7 +4471,7 @@ xfs_bmapi(
 	xfs_fsblock_t	abno;		/* allocated block number */
 	xfs_extlen_t	alen;		/* allocated extent length */
 	xfs_fileoff_t	aoff;		/* allocated file offset */
-	xfs_bmalloca_t	bma;		/* args for xfs_bmap_alloc */
+	xfs_bmalloca_t	bma = { 0 };	/* args for xfs_bmap_alloc */
 	xfs_btree_cur_t	*cur;		/* bmap btree cursor */
 	xfs_fileoff_t	end;		/* end of mapped file region */
 	int		eof;		/* we've hit the end of extents */

