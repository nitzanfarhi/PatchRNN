commit 7268e3f449a7ae762dcc5b72cb8a36d7ed3362e2
Author: Alexander Larsson <alexl@redhat.com>
Date:   Fri Mar 25 16:14:46 2011 +0100

    Don't leak sidebar widgets
    
    Sidebar widgets are normal widgets these days and should be standard
    floating stuff owned by the container they end up with. So, we
    should no longer ref_sink them.

diff --git a/src/nautilus-places-sidebar.c b/src/nautilus-places-sidebar.c
index cfccaa8df..ed8addf81 100644
--- a/src/nautilus-places-sidebar.c
+++ b/src/nautilus-places-sidebar.c
@@ -3350,7 +3350,6 @@ nautilus_places_sidebar_new (NautilusWindow *window)
 	
 	sidebar = g_object_new (nautilus_places_sidebar_get_type (), NULL);
 	nautilus_places_sidebar_set_parent_window (sidebar, window);
-	g_object_ref_sink (sidebar);
 
 	return GTK_WIDGET (sidebar);
 }
diff --git a/src/nautilus-tree-sidebar.c b/src/nautilus-tree-sidebar.c
index cc38574a2..f44121010 100644
--- a/src/nautilus-tree-sidebar.c
+++ b/src/nautilus-tree-sidebar.c
@@ -1639,7 +1639,6 @@ nautilus_tree_sidebar_new (NautilusWindow *window)
 	
 	sidebar = g_object_new (fm_tree_view_get_type (), NULL);
 	fm_tree_view_set_parent_window (sidebar, window);
-	g_object_ref_sink (sidebar);
 
 	return GTK_WIDGET (sidebar);
 }

