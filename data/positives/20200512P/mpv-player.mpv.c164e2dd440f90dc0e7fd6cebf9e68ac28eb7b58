commit c164e2dd440f90dc0e7fd6cebf9e68ac28eb7b58
Author: nicodvb <nicodvb@b3059339-0415-0410-9bf9-f77b7e298cf2>
Date:   Sun Mar 12 12:13:37 2006 +0000

    check sh_video before seeking; closes cid 56
    
    
    git-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@17822 b3059339-0415-0410-9bf9-f77b7e298cf2

diff --git a/libmpdemux/demux_mpg.c b/libmpdemux/demux_mpg.c
index cfe45f2ab4..8ff38881ce 100644
--- a/libmpdemux/demux_mpg.c
+++ b/libmpdemux/demux_mpg.c
@@ -752,6 +752,7 @@ void demux_seek_mpg(demuxer_t *demuxer,float rel_seek_secs,float audio_delay, in
 	      continue;
 	    }
           }
+	  if(!sh_video) break;
           i=sync_video_packet(d_video);
           if(sh_video->format == 0x10000004) {	//mpeg4
             if(i==0x1B6) {			//vop (frame) startcode

