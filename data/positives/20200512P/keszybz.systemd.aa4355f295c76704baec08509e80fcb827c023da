commit aa4355f295c76704baec08509e80fcb827c023da
Author: Zbigniew Jędrzejewski-Szmek <zbyszek@in.waw.pl>
Date:   Tue Apr 26 21:23:56 2011 +0200

    strv: Fix gcc unitialized variable warning
    
    Since strv_* functions handle null arguments, this warning is actually
    valid.
    
    src/strv.c: In function ‘strv_copy’:
    src/strv.c:68:21: warning: ‘k’ may be used uninitialized in this function [-Wuninitialized]

diff --git a/src/strv.c b/src/strv.c
index 71b77c9bb..f15aa8736 100644
--- a/src/strv.c
+++ b/src/strv.c
@@ -67,11 +67,11 @@ void strv_free(char **l) {
 char **strv_copy(char **l) {
         char **r, **k;
 
-        if (!(r = new(char*, strv_length(l)+1)))
+        if (!(k = r = new(char*, strv_length(l)+1)))
                 return NULL;
 
         if (l)
-                for (k = r; *l; k++, l++)
+                for (; *l; k++, l++)
                         if (!(*k = strdup(*l)))
                                 goto fail;
 

