commit fe00bcbf8a124980a38ce395ed6422d41be17374
Author: Michal Nazarewicz <mina86@mina86.com>
Date:   Thu Sep 11 18:52:49 2014 +0200

    usb: f_fs: replace BUG in dead-code with less serious WARN_ON
    
    Even though the BUG() in __ffs_event_add is a dead-code, it is still
    better to warn rather then crash the system if that code ever gets
    executed.
    
    Reported-by: Felipe Balbi <balbi@ti.com>
    Signed-off-by: Michal Nazarewicz <mina86@mina86.com>
    Signed-off-by: Felipe Balbi <balbi@ti.com>

diff --git a/drivers/usb/gadget/function/f_fs.c b/drivers/usb/gadget/function/f_fs.c
index a345385a5abe..a86b0a231a8c 100644
--- a/drivers/usb/gadget/function/f_fs.c
+++ b/drivers/usb/gadget/function/f_fs.c
@@ -2337,7 +2337,8 @@ static void __ffs_event_add(struct ffs_data *ffs,
 		break;
 
 	default:
-		BUG();
+		WARN(1, "%d: unknown event, this should not happen\n", type);
+		return;
 	}
 
 	{

