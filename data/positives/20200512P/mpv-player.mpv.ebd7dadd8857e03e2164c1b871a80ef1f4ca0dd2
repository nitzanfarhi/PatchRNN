commit ebd7dadd8857e03e2164c1b871a80ef1f4ca0dd2
Author: reimar <reimar@b3059339-0415-0410-9bf9-f77b7e298cf2>
Date:   Sat Oct 1 12:35:18 2005 +0000

    Check for eof instead of decoding the same data over and over.
    The whole code could use a lot more checks on return values...
    
    
    git-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@16625 b3059339-0415-0410-9bf9-f77b7e298cf2

diff --git a/libmpcodecs/ad_realaud.c b/libmpcodecs/ad_realaud.c
index 949414adfc..6d6d6a4acc 100644
--- a/libmpcodecs/ad_realaud.c
+++ b/libmpcodecs/ad_realaud.c
@@ -432,6 +432,7 @@ static int decode_audio(sh_audio_t *sh,unsigned char *buf,int minlen,int maxlen)
   
 #if 1
   if(sh->a_in_buffer_len<=0){
+		if (sh->ds->eof) return 0;
       // fill the buffer!
 		if (sh->format == mmioFOURCC('1','4','_','4')) {
 			demux_read_data(sh->ds, sh->a_in_buffer, sh->wf->nBlockAlign);

