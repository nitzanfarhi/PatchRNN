commit 4fa426021426bb1846b3e86dee74517e481e089f
Author: Emil Goode <emilgoode@gmail.com>
Date:   Wed Jul 2 11:25:51 2014 +0200

    Staging: rtl8192e: Fix potential NULL pointer dereference
    
    We need to make sure the struct rtllib_device pointer ieee is not NULL
    after the goto rx_dropped label since it is dereferenced there.
    
    Signed-off-by: Emil Goode <emilgoode@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/rtl8192e/rtllib_rx.c b/drivers/staging/rtl8192e/rtllib_rx.c
index 60de54cc601f..7db3e7445428 100644
--- a/drivers/staging/rtl8192e/rtllib_rx.c
+++ b/drivers/staging/rtl8192e/rtllib_rx.c
@@ -1496,7 +1496,8 @@ int rtllib_rx(struct rtllib_device *ieee, struct sk_buff *skb,
 	return ret;
 
  rx_dropped:
-	ieee->stats.rx_dropped++;
+	if (ieee)
+		ieee->stats.rx_dropped++;
 	return 0;
 }
 EXPORT_SYMBOL(rtllib_rx);

