commit 0dec30b9788b12fdae5d5b69fc366a28bb688d80
Author: Nicolas Pitre <nico@cam.org>
Date:   Thu Apr 20 17:25:37 2006 -0400

    fix pack-object buffer size
    
    The input line has 40 _chars_ of sha1 and no 20 _bytes_. It should also
    account for the space before the pathname, and the terminating \n and \0.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Junio C Hamano <junkio@cox.net>

diff --git a/pack-objects.c b/pack-objects.c
index f7d621757..c0acc460b 100644
--- a/pack-objects.c
+++ b/pack-objects.c
@@ -1231,7 +1231,7 @@ static void setup_progress_signal(void)
 int main(int argc, char **argv)
 {
 	SHA_CTX ctx;
-	char line[PATH_MAX + 20];
+	char line[40 + 1 + PATH_MAX + 2];
 	int window = 10, depth = 10, pack_to_stdout = 0;
 	struct object_entry **list;
 	int num_preferred_base = 0;

