commit e1c46ff78afac43471b25c50b00747bc3da334bf
Author: Tomasz Sterna <tomek@xiaoka.com>
Date:   Tue Jul 21 15:26:23 2015 +0200

    Do not attempt to clean not open session

diff --git a/c2s/c2s.c b/c2s/c2s.c
index eb0175a..d111bc6 100644
--- a/c2s/c2s.c
+++ b/c2s/c2s.c
@@ -574,7 +574,7 @@ static int _c2s_client_mio_callback(mio_t m, mio_action_t a, mio_fd_t fd, void *
 
             /* call the session end callback to allow for authreg
              * module to cleanup private data */
-            if(sess->host->ar->sess_end != NULL)
+            if(sess->host && sess->host->ar->sess_end != NULL)
                 (sess->host->ar->sess_end)(sess->host->ar, sess);
 
             /* force free authreg_private if pointer is still set */

