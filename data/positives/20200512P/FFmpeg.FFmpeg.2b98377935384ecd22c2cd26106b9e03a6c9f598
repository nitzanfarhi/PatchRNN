commit 2b98377935384ecd22c2cd26106b9e03a6c9f598
Author: Diego Biurrun <diego@biurrun.de>
Date:   Wed Apr 18 18:47:16 2012 +0200

    dv: Initialize encoder tables during encoder init.

diff --git a/libavcodec/dv.c b/libavcodec/dv.c
index 034daac2d7..9c0893a47a 100644
--- a/libavcodec/dv.c
+++ b/libavcodec/dv.c
@@ -294,8 +294,6 @@ av_cold int ff_dvvideo_init(AVCodecContext *avctx)
             ff_dv_rl_vlc[i].run   = run;
         }
         ff_free_vlc(&dv_vlc);
-
-        dv_vlc_map_tableinit();
     }
 
     /* Generic DSP setup */
@@ -338,6 +336,8 @@ static av_cold int dvvideo_init_encoder(AVCodecContext *avctx)
         return AVERROR(EINVAL);
     }
 
+    dv_vlc_map_tableinit();
+
     return ff_dvvideo_init(avctx);
 }
 

