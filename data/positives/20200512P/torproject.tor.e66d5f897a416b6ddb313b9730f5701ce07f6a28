commit e66d5f897a416b6ddb313b9730f5701ce07f6a28
Author: Roger Dingledine <arma@torproject.org>
Date:   Sun Oct 17 04:44:02 2004 +0000

    fix a seg fault with exitredirect
    
    
    svn:r2555

diff --git a/src/or/config.c b/src/or/config.c
index 9ea398783..f50bd42f9 100644
--- a/src/or/config.c
+++ b/src/or/config.c
@@ -1094,6 +1094,7 @@ static int parse_redirect_line(or_options_t *options,
   tor_assert(line);
 
   r = tor_malloc_zero(sizeof(exit_redirect_t));
+  elements = smartlist_create();
   smartlist_split_string(elements, line->value, " ",
                          SPLIT_SKIP_SPACE|SPLIT_IGNORE_BLANK, 0);
   if (smartlist_len(elements) != 2) {

