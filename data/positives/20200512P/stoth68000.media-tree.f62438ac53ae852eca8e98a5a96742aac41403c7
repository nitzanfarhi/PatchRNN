commit f62438ac53ae852eca8e98a5a96742aac41403c7
Author: Paul Walmsley <pwalmsley@nvidia.com>
Date:   Mon Dec 9 18:40:48 2013 -0800

    ALSA: at73c213: clk_round_rate() can return a zero upon error
    
    Treat both negative and zero return values from clk_round_rate()
    as errors.  This is needed since subsequent patches will convert
    clk_round_rate()'s return value to be an unsigned type, rather
    than a signed type, since some clock sources can generate rates higher
    than (2^31)-1 Hz.
    
    Eventually, when calling clk_round_rate(), only a return value of
    zero will be considered a error.  All other values will be
    considered valid rates.  The comparison against values less than
    0 is kept to preserve the correct behavior in the meantime.
    
    Signed-off-by: Paul Walmsley <pwalmsley@nvidia.com>
    Acked-by: Hans-Christian Egtvedt <egtvedt@samfundet.no>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

diff --git a/sound/spi/at73c213.c b/sound/spi/at73c213.c
index 8e3d9a6c7a3b..25c38afaee49 100644
--- a/sound/spi/at73c213.c
+++ b/sound/spi/at73c213.c
@@ -174,7 +174,7 @@ static int snd_at73c213_set_bitrate(struct snd_at73c213 *chip)
 		dac_rate_new = 8 * (ssc_rate / ssc_div);
 
 		status = clk_round_rate(chip->board->dac_clk, dac_rate_new);
-		if (status < 0)
+		if (status <= 0)
 			return status;
 
 		/* Ignore difference smaller than 256 Hz. */

