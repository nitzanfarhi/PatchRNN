commit 878b4789196e3cd470f843854b6b09d963214659
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Mar 20 11:27:13 2006 +0100

    [ALSA] fix resource leak in usbmixer
    
    Modules: USB generic driver
    
    We may leak 'namelist' in sound/usb/usbmixer.c::parse_audio_selector_unit()
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

diff --git a/sound/usb/usbmixer.c b/sound/usb/usbmixer.c
index 0bfea7237395..8d08b34a1cb5 100644
--- a/sound/usb/usbmixer.c
+++ b/sound/usb/usbmixer.c
@@ -1468,6 +1468,7 @@ static int parse_audio_selector_unit(struct mixer_build *state, int unitid, unsi
 	kctl = snd_ctl_new1(&mixer_selectunit_ctl, cval);
 	if (! kctl) {
 		snd_printk(KERN_ERR "cannot malloc kcontrol\n");
+		kfree(namelist);
 		kfree(cval);
 		return -ENOMEM;
 	}

