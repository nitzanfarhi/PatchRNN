commit 46ed18361327845670316ecc6ab13afba7cceb43
Author: Sami Kerola <kerolasa@iki.fi>
Date:   Sun Jul 13 18:13:38 2014 +0100

    whereis: avoid printing uninitialized string
    
    The patbuf[] needs to be filled before print out.
    
    Signed-off-by: Sami Kerola <kerolasa@iki.fi>

diff --git a/misc-utils/whereis.c b/misc-utils/whereis.c
index ba83b159b..5339abab2 100644
--- a/misc-utils/whereis.c
+++ b/misc-utils/whereis.c
@@ -408,13 +408,12 @@ static void lookup(const char *pattern, struct wh_dirlist *ls, int want)
 	int count = 0;
 	char *wait = NULL, *p;
 
-	DBG(printf("lookup dirs for '%s' (%s)", patbuf, pattern));
-
 	/* canonicalize pattern -- remove path suffix etc. */
 	p = strrchr(pattern, '/');
 	p = p ? p + 1 : (char *) pattern;
 	strncpy(patbuf, p, PATH_MAX);
 	patbuf[PATH_MAX - 1] = '\0';
+	DBG(printf("lookup dirs for '%s' (%s)", patbuf, pattern));
 	p = strrchr(patbuf, '.');
 	if (p)
 		*p = '\0';

