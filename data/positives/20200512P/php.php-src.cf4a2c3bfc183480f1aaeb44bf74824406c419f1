commit cf4a2c3bfc183480f1aaeb44bf74824406c419f1
Author: Zeev Suraski <zeev@php.net>
Date:   Sat May 29 23:37:26 1999 +0000

    That got fucked up when we went back to using uninitialized_zval

diff --git a/Zend/zend_execute_API.c b/Zend/zend_execute_API.c
index 3b32162d97..fcfcd1445b 100644
--- a/Zend/zend_execute_API.c
+++ b/Zend/zend_execute_API.c
@@ -412,7 +412,7 @@ ZEND_API inline void zend_assign_to_variable_reference(znode *result, zval **var
 	value_ptr = *value_ptr_ptr;
 	if (variable_ptr == EG(error_zval_ptr) || value_ptr==EG(error_zval_ptr)) {
 		variable_ptr_ptr = &EG(uninitialized_zval_ptr);
-	} else if (variable_ptr!=value_ptr) {
+	} else if (variable_ptr==&EG(uninitialized_zval) || variable_ptr!=value_ptr) {
 		variable_ptr->refcount--;
 		if (variable_ptr->refcount==0) {
 			zendi_zval_dtor(*variable_ptr);

