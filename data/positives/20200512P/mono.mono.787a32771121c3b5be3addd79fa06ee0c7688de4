commit 787a32771121c3b5be3addd79fa06ee0c7688de4
Author: Mark Probst <mark.probst@gmail.com>
Date:   Mon Aug 1 16:09:16 2011 +0200

    Set the WSQ TLS key to inited after initing it.
    
    This bug was introduced in the move to mono-tls.

diff --git a/mono/metadata/mono-wsq.c b/mono/metadata/mono-wsq.c
index ebb15517391..24b777153a9 100644
--- a/mono/metadata/mono-wsq.c
+++ b/mono/metadata/mono-wsq.c
@@ -32,7 +32,11 @@ static gboolean wsq_tlskey_inited = FALSE;
 void
 mono_wsq_init ()
 {
+	if (wsq_tlskey_inited)
+		return;
+
 	mono_native_tls_alloc (wsq_tlskey, NULL);
+	wsq_tlskey_inited = TRUE;
 }
 
 void

