commit 2029141cf3ae1104b4dd33063abec2bc6b9cba19
Author: gpoirier <gpoirier@b3059339-0415-0410-9bf9-f77b7e298cf2>
Date:   Mon Aug 21 09:28:01 2006 +0000

    fix null pointer check in add_subtitles,
    patch by Konstantin G. Khlebikov % koct9i A gmail P com %
    
    
    git-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@19474 b3059339-0415-0410-9bf9-f77b7e298cf2

diff --git a/mplayer.c b/mplayer.c
index 98ca062461..a6e00e3736 100644
--- a/mplayer.c
+++ b/mplayer.c
@@ -814,7 +814,7 @@ void add_subtitles(char *filename, float fps, int silent)
 #ifdef USE_ASS
     if (ass_enabled)
         asst = ass_read_file(filename);
-    if (ass_enabled && !asst)
+    if (ass_enabled && subd && !asst)
         asst = ass_read_subdata(subd, fps);
 
     if (!asst && !subd && !silent)

