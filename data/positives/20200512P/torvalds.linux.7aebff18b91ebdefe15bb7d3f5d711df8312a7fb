commit 7aebff18b91ebdefe15bb7d3f5d711df8312a7fb
Author: Younger Liu <younger.liu@huawei.com>
Date:   Wed Sep 11 14:19:59 2013 -0700

    ocfs2: free path in ocfs2_remove_inode_range()
    
    In ocfs2_remove_inode_range(), there is a memory leak.  The variable path
    has allocated memory with ocfs2_new_path_from_et(), but it is not free.
    
    Signed-off-by: Younger Liu <younger.liu@huawei.com>
    Reviewed-by: Jie Liu <jeff.liu@oracle.com>
    Cc: Mark Fasheh <mfasheh@suse.com>
    Cc: Joel Becker <jlbec@evilplan.org>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

diff --git a/fs/ocfs2/file.c b/fs/ocfs2/file.c
index 409c549ae02a..4f8197caa487 100644
--- a/fs/ocfs2/file.c
+++ b/fs/ocfs2/file.c
@@ -1796,6 +1796,7 @@ static int ocfs2_remove_inode_range(struct inode *inode,
 	ocfs2_truncate_cluster_pages(inode, byte_start, byte_len);
 
 out:
+	ocfs2_free_path(path);
 	ocfs2_schedule_truncate_log_flush(osb, 1);
 	ocfs2_run_deallocs(osb, &dealloc);
 

