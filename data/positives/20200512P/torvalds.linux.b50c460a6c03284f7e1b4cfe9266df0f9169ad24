commit b50c460a6c03284f7e1b4cfe9266df0f9169ad24
Author: Rupesh Gujare <rupesh.gujare@atmel.com>
Date:   Thu Aug 1 18:45:02 2013 +0100

    staging: ozwpan: Set farewell report length.
    
    Fixes a bug where we were not setting length field causing wrong
    report size to be copied.
    
    Signed-off-by: Rupesh Gujare <rupesh.gujare@atmel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/ozwpan/ozproto.c b/drivers/staging/ozwpan/ozproto.c
index ec602863feca..084307a1083f 100644
--- a/drivers/staging/ozwpan/ozproto.c
+++ b/drivers/staging/ozwpan/ozproto.c
@@ -296,6 +296,7 @@ static void oz_add_farewell(struct oz_pd *pd, u8 ep_num, u8 index,
 		return;
 	f->ep_num = ep_num;
 	f->index = index;
+	f->len = len;
 	memcpy(f->report, report, len);
 	oz_dbg(ON, "RX: Adding farewell report\n");
 	spin_lock(&g_polling_lock);

