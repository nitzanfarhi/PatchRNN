commit 62dc0e36eba4afb94821aef68ebe84019ed55797
Author: Timo Sirainen <cras@irssi.org>
Date:   Mon May 21 23:50:13 2001 +0000

    scrolling in empty windows crashed
    
    
    git-svn-id: http://svn.irssi.org/repos/irssi/trunk@1511 dbcabf3a-b0e7-0310-adc4-f8d773084564

diff --git a/src/fe-text/textbuffer-view.c b/src/fe-text/textbuffer-view.c
index 2199a887..f3a74080 100644
--- a/src/fe-text/textbuffer-view.c
+++ b/src/fe-text/textbuffer-view.c
@@ -510,6 +510,9 @@ static int view_scroll(TEXT_BUFFER_VIEW_REC *view, GList **lines, int *subline,
 {
 	int linecount, realcount, scroll_visible;
 
+	if (*lines == NULL)
+                return 0;
+
 	/* scroll down */
 	scroll_visible = lines == &view->startline;
 

