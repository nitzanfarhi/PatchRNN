commit 350bb359fa5e31e3dfae8be6b1ce7ee3495f0da7
Author: André Goddard Rosa <andre.goddard@gmail.com>
Date:   Fri Feb 5 16:01:05 2010 -0200

    bionic: fix memory leak in get_malloc_leak_info() error path
    
    Signed-off-by: André Goddard Rosa <andre.goddard@gmail.com>

diff --git a/libc/bionic/malloc_leak.c b/libc/bionic/malloc_leak.c
index 06f99fb66..9796382b2 100644
--- a/libc/bionic/malloc_leak.c
+++ b/libc/bionic/malloc_leak.c
@@ -198,7 +198,7 @@ void get_malloc_leak_info(uint8_t** info, size_t* overallSize,
     // debug_log("info = %p\n", info);
     if (*info == NULL) {
         *overallSize = 0;
-        goto done;
+        goto out_nomem_info;
     }
 
     // debug_log("sorting list...\n");
@@ -220,6 +220,7 @@ void get_malloc_leak_info(uint8_t** info, size_t* overallSize,
         head += *infoSize;
     }
 
+out_nomem_info:
     dlfree(list);
 
 done:

