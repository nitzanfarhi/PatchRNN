commit 17ac4952d2d4b0e139c11df3688e841c28ee29a9
Author: Morris Jette <jette@schedmd.com>
Date:   Fri Jan 12 10:01:59 2018 -0700

    Fix possible memory leak
    
    This should never happen with a valid feature specificiaton
    Coverity CID 181927

diff --git a/src/slurmctld/node_scheduler.c b/src/slurmctld/node_scheduler.c
index 7c66c35b26..3bf6411a6d 100644
--- a/src/slurmctld/node_scheduler.c
+++ b/src/slurmctld/node_scheduler.c
@@ -1361,6 +1361,14 @@ _get_req_features(struct node_set *node_set_ptr, int node_set_size,
 			}
 		}
 		list_iterator_destroy(feat_iter);
+		if (paren_bitmap) {
+			if (job_ptr->details) {
+				error("%s: Job %u has bad feature expression: %s",
+				      __func__, job_ptr->job_id,
+				      job_ptr->details->features);
+			}
+			bit_free(paren_bitmap);
+		}
 	}
 
 	/* restore most of job state and accumulate remaining resources */

