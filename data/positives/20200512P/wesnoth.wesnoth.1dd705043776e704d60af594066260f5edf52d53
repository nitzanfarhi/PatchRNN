commit 1dd705043776e704d60af594066260f5edf52d53
Author: uso <uso>
Date:   Thu Feb 7 17:32:58 2008 +0000

    check for linger mode first to prevent a crash if the game runs out of turns

diff --git a/src/playmp_controller.cpp b/src/playmp_controller.cpp
index cf9e4cdd6f..1b1a31eca9 100644
--- a/src/playmp_controller.cpp
+++ b/src/playmp_controller.cpp
@@ -193,7 +193,7 @@ void playmp_controller::play_human_turn(){
 			throw e;
 		}
 
-		if (current_team().countdown_time() > 0 &&  ( level_["mp_countdown"] == "yes" ) && !linger_){
+		if (!linger_ && (current_team().countdown_time() > 0) && (level_["mp_countdown"] == "yes")) {
 			SDL_Delay(1);
 			const int ticks = SDL_GetTicks();
 			int new_time = current_team().countdown_time()-maximum<int>(1,(ticks - cur_ticks));
@@ -230,7 +230,6 @@ void playmp_controller::play_human_turn(){
 
 				throw end_turn_exception();
 			}
-
 		}
 
 		gui_->draw();

