commit 5f2d25efa4c4567fa72b70de4e041252c72aa10e
Author: Tomas Henzl <thenzl@redhat.com>
Date:   Fri Jun 6 14:06:30 2014 +0200

    be2iscsi: add an missing goto in error path
    
    a jump to 'free_memory' is apparently missing
    
    Signed-off-by: Tomas Henzl <thenzl@redhat.com>
    Reviewed-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: Christoph Hellwig <hch@lst.de>

diff --git a/drivers/scsi/be2iscsi/be_main.c b/drivers/scsi/be2iscsi/be_main.c
index 554349029628..56467df3d6de 100644
--- a/drivers/scsi/be2iscsi/be_main.c
+++ b/drivers/scsi/be2iscsi/be_main.c
@@ -4198,6 +4198,8 @@ static int hba_setup_cid_tbls(struct beiscsi_hba *phba)
 		kfree(phba->ep_array);
 		phba->ep_array = NULL;
 		ret = -ENOMEM;
+
+		goto free_memory;
 	}
 
 	for (i = 0; i < phba->params.cxns_per_ctrl; i++) {

