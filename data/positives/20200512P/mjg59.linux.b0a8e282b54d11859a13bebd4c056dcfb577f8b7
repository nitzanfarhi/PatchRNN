commit b0a8e282b54d11859a13bebd4c056dcfb577f8b7
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Sun Jan 11 15:18:17 2015 -0800

    Bluetooth: Add BUILD_BUG_ON for size of struct sockaddr_hci
    
    This adds an extra check for ensuring that the size of sockaddr_hci
    does not grow larger than sockaddr.
    
    Signed-off-by: Marcel Holtmann <marcel@holtmann.org>
    Signed-off-by: Johan Hedberg <johan.hedberg@intel.com>

diff --git a/net/bluetooth/hci_sock.c b/net/bluetooth/hci_sock.c
index 2c245fdf319a..e176a988625e 100644
--- a/net/bluetooth/hci_sock.c
+++ b/net/bluetooth/hci_sock.c
@@ -1230,6 +1230,8 @@ int __init hci_sock_init(void)
 {
 	int err;
 
+	BUILD_BUG_ON(sizeof(struct sockaddr_hci) > sizeof(struct sockaddr));
+
 	err = proto_register(&hci_sk_proto, 0);
 	if (err < 0)
 		return err;

