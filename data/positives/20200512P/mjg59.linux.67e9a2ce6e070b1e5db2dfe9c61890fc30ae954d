commit 67e9a2ce6e070b1e5db2dfe9c61890fc30ae954d
Author: Aaro Koskinen <aaro.koskinen@iki.fi>
Date:   Sun Jan 4 19:34:13 2015 +0200

    hsi: nokia-modem: fix uninitialized device pointer
    
    modem->device was never initialized. This resulted in logs such as:
    
    [  241.386322] (NULL device *): CMT rst line change detected
    
    Signed-off-by: Aaro Koskinen <aaro.koskinen@iki.fi>
    Signed-off-by: Sebastian Reichel <sre@kernel.org>

diff --git a/drivers/hsi/clients/nokia-modem.c b/drivers/hsi/clients/nokia-modem.c
index f0c21458962c..eb4dc63dbc93 100644
--- a/drivers/hsi/clients/nokia-modem.c
+++ b/drivers/hsi/clients/nokia-modem.c
@@ -162,6 +162,7 @@ static int nokia_modem_probe(struct device *dev)
 		return -ENOMEM;
 	}
 	dev_set_drvdata(dev, modem);
+	modem->device = dev;
 
 	irq = irq_of_parse_and_map(np, 0);
 	if (!irq) {

