commit e4c38cc36e287d46a56a98066cc368ee6fdd1968
Author: Thomas Hindoe Paaboel Andersen <phomes@gmail.com>
Date:   Sun Aug 31 22:54:40 2014 +0200

    journal-remote: fix check if realloc failed

diff --git a/src/journal-remote/journal-remote-parse.c b/src/journal-remote/journal-remote-parse.c
index dfb87d49a..e7eb1516f 100644
--- a/src/journal-remote/journal-remote-parse.c
+++ b/src/journal-remote/journal-remote-parse.c
@@ -478,7 +478,7 @@ int process_source(RemoteSource *source, bool compress, bool seal) {
                 char *tmp;
 
                 tmp = realloc(source->buf, target);
-                if (tmp)
+                if (!tmp)
                         log_warning("Failed to reallocate buffer to (smaller) size %zu",
                                     target);
                 else {

