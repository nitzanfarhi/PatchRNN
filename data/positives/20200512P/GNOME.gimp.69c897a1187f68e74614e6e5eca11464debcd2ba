commit 69c897a1187f68e74614e6e5eca11464debcd2ba
Author: Michael Natterer <mitch@gimp.org>
Date:   Sat Mar 9 20:16:24 2013 +0100

    app: fix crash in GEGL tool when an operation specific tool was used before
    
    gimp_image_map_tool_initialize(): add the saved settings combo only if
    we have a config object.

diff --git a/app/tools/gimpimagemaptool.c b/app/tools/gimpimagemaptool.c
index 975f654059..c14c52a3d0 100644
--- a/app/tools/gimpimagemaptool.c
+++ b/app/tools/gimpimagemaptool.c
@@ -368,7 +368,7 @@ gimp_image_map_tool_initialize (GimpTool     *tool,
                                G_CALLBACK (gimp_image_map_tool_response),
                                G_OBJECT (image_map_tool), 0);
 
-      if (klass->settings_name)
+      if (image_map_tool->config && klass->settings_name)
         {
           GtkWidget *settings_ui;
           gchar     *settings_filename;

