commit 3511649498eec2eace541e44cf963b35caaccf87
Author: Pierre Joye <pajoye@php.net>
Date:   Fri Apr 7 14:04:36 2006 +0000

    - revert last commit, something else went wrong

diff --git a/ext/sockets/sockets.c b/ext/sockets/sockets.c
index 1a6c211ea7..d706674baf 100644
--- a/ext/sockets/sockets.c
+++ b/ext/sockets/sockets.c
@@ -871,7 +871,6 @@ PHP_FUNCTION(socket_read)
 			php_sock->error = errno;
 			SOCKETS_G(last_error) = errno;
 		} else {
-			efree(tmpbuf);
 			PHP_SOCKET_ERROR(php_sock, "unable to read from socket", errno);
 		}
 

