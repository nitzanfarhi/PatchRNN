commit 618f98bc1a831ace290a08954cd1148959425169
Author: Havoc Pennington <hp@redhat.com>
Date:   Fri Dec 17 03:06:47 1999 +0000

    return if the icon being set is NULL. This may be fixing a symptom rather
    
    1999-12-20  Havoc Pennington  <hp@redhat.com>
    
    * libnautilus/gnome-icon-container.c (set_kbd_current): return if
    the icon being set is NULL. This may be fixing a symptom rather
    than a problem.

diff --git a/libnautilus-extensions/gnome-icon-container.c b/libnautilus-extensions/gnome-icon-container.c
index b44f2813f..20f831856 100644
--- a/libnautilus-extensions/gnome-icon-container.c
+++ b/libnautilus-extensions/gnome-icon-container.c
@@ -940,6 +940,9 @@ set_kbd_current (GnomeIconContainer *container,
 
 	priv->kbd_current = icon;
 
+	if (priv->kbd_current == NULL)
+		return;
+	
 	icon_get_text_bounding_box (icon, &x1, &y1, &x2, &y2);
 
 	gnome_canvas_item_set (priv->kbd_navigation_rectangle,
diff --git a/libnautilus-private/gnome-icon-container.c b/libnautilus-private/gnome-icon-container.c
index b44f2813f..20f831856 100644
--- a/libnautilus-private/gnome-icon-container.c
+++ b/libnautilus-private/gnome-icon-container.c
@@ -940,6 +940,9 @@ set_kbd_current (GnomeIconContainer *container,
 
 	priv->kbd_current = icon;
 
+	if (priv->kbd_current == NULL)
+		return;
+	
 	icon_get_text_bounding_box (icon, &x1, &y1, &x2, &y2);
 
 	gnome_canvas_item_set (priv->kbd_navigation_rectangle,
diff --git a/libnautilus/gnome-icon-container.c b/libnautilus/gnome-icon-container.c
index b44f2813f..20f831856 100644
--- a/libnautilus/gnome-icon-container.c
+++ b/libnautilus/gnome-icon-container.c
@@ -940,6 +940,9 @@ set_kbd_current (GnomeIconContainer *container,
 
 	priv->kbd_current = icon;
 
+	if (priv->kbd_current == NULL)
+		return;
+	
 	icon_get_text_bounding_box (icon, &x1, &y1, &x2, &y2);
 
 	gnome_canvas_item_set (priv->kbd_navigation_rectangle,

