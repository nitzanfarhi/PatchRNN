commit ee303e9eb413f10ec04906a89015848f1bd975a2
Author: Danny Auble <da@schedmd.com>
Date:   Fri Feb 21 10:29:26 2014 -0800

    Fix minor memory leak when updating a partition's QOS without a QOS list.

diff --git a/src/slurmctld/read_config.c b/src/slurmctld/read_config.c
index 3a38fb0def..aea6e4fb18 100644
--- a/src/slurmctld/read_config.c
+++ b/src/slurmctld/read_config.c
@@ -580,6 +580,7 @@ extern void qos_list_build(char *qos, bitstr_t **qos_bits)
 	bitstr_t *tmp_qos_bitstr;
 
 	if (!qos) {
+		FREE_NULL_BITMAP(*qos_bits);
 		*qos_bits = NULL;
 		return;
 	}

