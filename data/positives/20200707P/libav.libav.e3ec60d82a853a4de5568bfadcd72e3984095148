commit e3ec60d82a853a4de5568bfadcd72e3984095148
Author: Art Clarke <aclarke@vlideshow.com>
Date:   Wed Jun 18 08:30:50 2008 +0000

    free private streamcontext when closing demuxer, fix memory leak, patch by Art Clarke, aclarke at vlideshow dot com
    
    Originally committed as revision 13800 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavformat/mov.c b/libavformat/mov.c
index 76c25a3e4..5f3577c4d 100644
--- a/libavformat/mov.c
+++ b/libavformat/mov.c
@@ -1899,6 +1899,7 @@ static int mov_read_close(AVFormatContext *s)
         av_freep(&sc->drefs);
         if (sc->pb && sc->pb != s->pb)
             url_fclose(sc->pb);
+        av_freep(&sc);
     }
     if(mov->dv_demux){
         for(i=0; i<mov->dv_fctx->nb_streams; i++){

