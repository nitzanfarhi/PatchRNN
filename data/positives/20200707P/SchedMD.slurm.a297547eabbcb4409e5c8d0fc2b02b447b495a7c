commit a297547eabbcb4409e5c8d0fc2b02b447b495a7c
Author: Moe Jette <jette1@llnl.gov>
Date:   Fri Apr 23 17:22:01 2010 +0000

    check for NULL pointer

diff --git a/src/common/gres.c b/src/common/gres.c
index 5865b12244..dc7d954786 100644
--- a/src/common/gres.c
+++ b/src/common/gres.c
@@ -648,6 +648,9 @@ extern void gres_plugin_node_state_log(List gres_list, char *node_name)
 	ListIterator gres_iter;
 	gres_node_state_t *gres_ptr;
 
+	if (gres_list == NULL)
+		return;
+
 	(void) gres_plugin_init();
 
 	slurm_mutex_lock(&gres_context_lock);

