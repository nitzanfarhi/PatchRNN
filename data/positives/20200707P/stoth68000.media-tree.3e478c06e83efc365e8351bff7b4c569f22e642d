commit 3e478c06e83efc365e8351bff7b4c569f22e642d
Author: Mauro Carvalho Chehab <mchehab@redhat.com>
Date:   Fri Jan 9 08:38:47 2009 -0300

    V4L/DVB (10209): tveeprom: Properly initialize tuner type (BZ#11367)
    
    If Hauppauge eeprom is corrupted, the driver returns tuner = 0, instead
    of TUNER_ABSENT.
    
    This makes the drivers to initialize tuner, instead of handling the
    manual parameter.
    
    Since the tuner core rejects that a tuner to have their type changed,
    this breaks the manual tuner override.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>

diff --git a/drivers/media/video/tveeprom.c b/drivers/media/video/tveeprom.c
index 3b0b84c2e451..78277abb733b 100644
--- a/drivers/media/video/tveeprom.c
+++ b/drivers/media/video/tveeprom.c
@@ -427,6 +427,9 @@ void tveeprom_hauppauge_analog(struct i2c_client *c, struct tveeprom *tvee,
 	const char *t_fmt_name2[8] = { " none", "", "", "", "", "", "", "" };
 
 	memset(tvee, 0, sizeof(*tvee));
+	tvee->tuner_type = TUNER_ABSENT;
+	tvee->tuner2_type = TUNER_ABSENT;
+
 	done = len = beenhere = 0;
 
 	/* Different eeprom start offsets for em28xx, cx2388x and cx23418 */

