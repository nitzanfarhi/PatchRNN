commit e1e1ccb5b8cedf419d0a0c8f69373ab42b4f4cd7
Author: Bron Gondwana <brong@fastmail.fm>
Date:   Sun Dec 21 20:35:44 2014 +1100

    req_tgt free

diff --git a/imap/httpd.c b/imap/httpd.c
index 77e37d2ba..4438c652e 100644
--- a/imap/httpd.c
+++ b/imap/httpd.c
@@ -1447,6 +1447,9 @@ static void cmdloop(void)
 	if (txn.req_hdrs) spool_free_hdrcache(txn.req_hdrs);
 	free_hash_table(&txn.req_qparams, (void (*)(void *)) &freestrlist);
 
+	/* XXX - split this into a req_tgt cleanup */
+	free(txn.req_tgt.userid);
+
 	if (txn.flags.conn & CONN_CLOSE) {
 	    buf_free(&txn.buf);
 	    buf_free(&txn.req_body.payload);

