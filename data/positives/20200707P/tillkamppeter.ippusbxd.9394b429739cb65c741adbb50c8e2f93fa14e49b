commit 9394b429739cb65c741adbb50c8e2f93fa14e49b
Author: Eric Fiselier <eric@efcs.ca>
Date:   Sat Jun 7 18:34:07 2014 -0600

    free_packet now handles null pointers

diff --git a/src/http.c b/src/http.c
index 1ea722a..f8c3f93 100644
--- a/src/http.c
+++ b/src/http.c
@@ -173,6 +173,8 @@ struct http_packet_t *packet_new(struct http_message_t *parent_msg)
 
 void free_packet(struct http_packet_t *pkt)
 {
-	free(pkt->buffer);
-	free(pkt);
+    if (pkt) {
+        free(pkt->buffer);
+        free(pkt);
+    }
 }

