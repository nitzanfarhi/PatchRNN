commit 9c99f08991b38bf6ab62ffe9013ee46ff41d66d0
Author: Axel Lin <axel.lin@gmail.com>
Date:   Mon Sep 27 15:10:11 2010 +0800

    wm831x_power: Add missing kfree(wm831x_power) in wm831x_power_remove()
    
    Signed-off-by: Axel Lin <axel.lin@gmail.com>
    Acked-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
    Signed-off-by: Anton Vorontsov <cbouatmailru@gmail.com>

diff --git a/drivers/power/wm831x_power.c b/drivers/power/wm831x_power.c
index a57a94150cb8..ddf8cf5f3204 100644
--- a/drivers/power/wm831x_power.c
+++ b/drivers/power/wm831x_power.c
@@ -611,6 +611,7 @@ static __devexit int wm831x_power_remove(struct platform_device *pdev)
 	power_supply_unregister(&wm831x_power->battery);
 	power_supply_unregister(&wm831x_power->wall);
 	power_supply_unregister(&wm831x_power->usb);
+	kfree(wm831x_power);
 	return 0;
 }
 

