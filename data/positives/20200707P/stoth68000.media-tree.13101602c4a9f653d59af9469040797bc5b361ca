commit 13101602c4a9f653d59af9469040797bc5b361ca
Author: Geert Uytterhoeven <geert@linux-m68k.org>
Date:   Wed Feb 11 11:23:38 2015 +0100

    openvswitch: Add missing initialization in validate_and_copy_set_tun()
    
    net/openvswitch/flow_netlink.c: In function ‘validate_and_copy_set_tun’:
    net/openvswitch/flow_netlink.c:1749: warning: ‘err’ may be used uninitialized in this function
    
    If ipv4_tun_from_nlattr() returns a different positive value than
    OVS_TUNNEL_KEY_ATTR_GENEVE_OPTS, err will be uninitialized, and
    validate_and_copy_set_tun() may return an undefined value instead of a
    zero success indicator. Initialize err to zero to fix this.
    
    Fixes: 1dd144cf5b4b47e1 ("openvswitch: Support VXLAN Group Policy extension")
    Signed-off-by: Geert Uytterhoeven <geert@linux-m68k.org>
    Acked-by: Thomas Graf <tgraf@suug.ch>
    Acked-by: Pravin B Shelar <pshelar@nicira.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/net/openvswitch/flow_netlink.c b/net/openvswitch/flow_netlink.c
index 993281e6278d..3829328c5a76 100644
--- a/net/openvswitch/flow_netlink.c
+++ b/net/openvswitch/flow_netlink.c
@@ -1746,7 +1746,7 @@ static int validate_and_copy_set_tun(const struct nlattr *attr,
 	struct sw_flow_key key;
 	struct ovs_tunnel_info *tun_info;
 	struct nlattr *a;
-	int err, start, opts_type;
+	int err = 0, start, opts_type;
 
 	ovs_match_init(&match, &key, NULL);
 	opts_type = ipv4_tun_from_nlattr(nla_data(attr), &match, false, log);

