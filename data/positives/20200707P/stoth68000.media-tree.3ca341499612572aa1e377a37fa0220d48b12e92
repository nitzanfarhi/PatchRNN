commit 3ca341499612572aa1e377a37fa0220d48b12e92
Author: Guennadi Liakhovetski <g.liakhovetski@gmx.de>
Date:   Mon May 24 10:55:16 2010 +0200

    ASoC: fix uninitialised variable in siu_dai.c
    
    Signed-off-by: Guennadi Liakhovetski <g.liakhovetski@gmx.de>
    Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>

diff --git a/sound/soc/sh/siu_dai.c b/sound/soc/sh/siu_dai.c
index 5452d19607e1..c86c0858d6e2 100644
--- a/sound/soc/sh/siu_dai.c
+++ b/sound/soc/sh/siu_dai.c
@@ -587,6 +587,8 @@ static int siu_dai_prepare(struct snd_pcm_substream *substream,
 		ret = siu_dai_spbstart(port_info);
 		if (ret < 0)
 			goto fail;
+	} else {
+		ret = 0;
 	}
 
 	port_info->play_cap |= self;

