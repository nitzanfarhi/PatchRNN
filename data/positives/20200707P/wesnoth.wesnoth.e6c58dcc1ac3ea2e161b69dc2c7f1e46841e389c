commit e6c58dcc1ac3ea2e161b69dc2c7f1e46841e389c
Author: gfgtdf <f492343@rmqkr.net>
Date:   Wed Mar 30 15:26:19 2016 +0200

    fix segfault during loadingscreen.

diff --git a/src/display.cpp b/src/display.cpp
index 8d5ac94cb7..d4395270c7 100644
--- a/src/display.cpp
+++ b/src/display.cpp
@@ -46,6 +46,7 @@
 #include "units/drawer.hpp"
 #include "whiteboard/manager.hpp"
 #include "show_dialog.hpp"
+#include "gui/dialogs/loadscreen.hpp"
 
 #include <SDL_image.h>
 
@@ -3782,6 +3783,9 @@ void display::handle_window_event(const SDL_Event& event) {
 }
 
 void display::handle_event(const SDL_Event& event) {
+	if (gui2::tloadscreen::displaying()) {
+		return;
+	}
 	if (event.type == DRAW_ALL_EVENT) {
 		draw();
 	}

