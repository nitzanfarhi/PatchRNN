commit 69a27a4ec68e7a2ea6e481b950d11f5aea42c814
Author: Jeff Garzik <jeff@garzik.org>
Date:   Fri May 20 20:54:51 2011 -0400

    irc: #bitcoin is overflowing.  split up into 100 randomly-joined channels.
    
    From laszlo

diff --git a/src/irc.cpp b/src/irc.cpp
index 5dc1d6430..a76374d14 100644
--- a/src/irc.cpp
+++ b/src/irc.cpp
@@ -339,9 +339,16 @@ void ThreadIRCSeed2(void* parg)
                 Send(hSocket, strprintf("NICK %s\r", strMyName.c_str()).c_str());
             }
         }
-
-        Send(hSocket, fTestNet ? "JOIN #bitcoinTEST\r" : "JOIN #bitcoin\r");
-        Send(hSocket, fTestNet ? "WHO #bitcoinTEST\r"  : "WHO #bitcoin\r");
+        
+        if (fTestNet) {
+            Send(hSocket, "JOIN #bitcoinTEST\r");
+            Send(hSocket, "WHO #bitcoinTEST\r");
+        } else {
+            // randomly join #bitcoin00-#bitcoin99
+            int channel_number = GetRandInt(100);
+            Send(hSocket, strprintf("JOIN #bitcoin%02d\r", channel_number).c_str());
+            Send(hSocket, strprintf("WHO #bitcoin%02d\r", channel_number).c_str());
+        }
 
         int64 nStart = GetTime();
         string strLine;

