commit 5e6ca894cfc50690366a501be52e7248f3574d06
Author: Anna Henningsen <anna@addaleax.net>
Date:   Wed May 9 19:52:53 2018 +0200

    src: fix nullptr dereference for signal during startup
    
    This fixes a test failure when running
    `test/parallel/test-child-process-spawnsync-kill-signal.js`
    under load. What would happen is that `SignalExit()` tries
    to shutdown the tracing agent, which might not have been set
    up by the point that Node.js receives the signal.
    
    PR-URL: https://github.com/nodejs/node/pull/20637
    Reviewed-By: Colin Ihrig <cjihrig@gmail.com>
    Reviewed-By: James M Snell <jasnell@gmail.com>
    Reviewed-By: Tobias Nie√üen <tniessen@tnie.de>
    Reviewed-By: Ben Noordhuis <info@bnoordhuis.nl>

diff --git a/src/node.cc b/src/node.cc
index d71303570b..5ddbf99150 100644
--- a/src/node.cc
+++ b/src/node.cc
@@ -327,7 +327,8 @@ static struct {
   }
 
   void StopTracingAgent() {
-    tracing_agent_->Stop();
+    if (tracing_agent_)
+      tracing_agent_->Stop();
   }
 
   tracing::Agent* GetTracingAgent() const {

