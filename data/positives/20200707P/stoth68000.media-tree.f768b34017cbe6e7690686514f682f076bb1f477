commit f768b34017cbe6e7690686514f682f076bb1f477
Author: Samuel Ortiz <sameo@linux.intel.com>
Date:   Tue May 28 15:41:32 2013 +0200

    NFC: llcp: Set the LLC Link Management well known service bit
    
    In order to advertise our LLCP support properly and to follow the LLCP
    specs requirements, we need to initialize the WKS (Well-Known Services)
    bitfield to 1 as SAP 0 is the only mandatory supported service.
    
    Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>

diff --git a/net/nfc/llcp_core.c b/net/nfc/llcp_core.c
index 47746a088f8f..d45bcbbc9f78 100644
--- a/net/nfc/llcp_core.c
+++ b/net/nfc/llcp_core.c
@@ -1590,6 +1590,7 @@ int nfc_llcp_register_device(struct nfc_dev *ndev)
 	local->lto = 150; /* 1500 ms */
 	local->rw = LLCP_MAX_RW;
 	local->miux = cpu_to_be16(LLCP_MAX_MIUX);
+	local->local_wks = 0x1; /* LLC Link Management */
 
 	nfc_llcp_build_gb(local);
 

