commit d1f1af2dbf8207db590853a59bec465c4f68cfdc
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Mar 2 10:35:29 2009 +0100

    ALSA: hda - Intialize more codec fields in snd_hda_codec_reset()
    
    Initiailize forgotten fields in snd_hda_codec_reset().
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

diff --git a/sound/pci/hda/hda_codec.c b/sound/pci/hda/hda_codec.c
index 5dceee8a113b..3b44c789f23b 100644
--- a/sound/pci/hda/hda_codec.c
+++ b/sound/pci/hda/hda_codec.c
@@ -1519,6 +1519,9 @@ int snd_hda_codec_reset(struct hda_codec *codec)
 	codec->num_pcms = 0;
 	codec->pcm_info = NULL;
 	codec->preset = NULL;
+	memset(&codec->patch_ops, 0, sizeof(codec->patch_ops));
+	codec->slave_dig_outs = NULL;
+	codec->spdif_status_reset = 0;
 	module_put(codec->owner);
 	codec->owner = NULL;
 

