commit 31f019a7687f1101e2b4f30e9191887acd9d48b6
Author: Greg Hudson <ghudson@mit.edu>
Date:   Tue May 5 16:30:19 2009 +0000

    In krb5_get_in_tkt, free the whole encoded request (since the
    structure was allocated by encode_krb5_as_req), not just the contents.
    
    ticket: 6401
    
    git-svn-id: svn://anonsvn.mit.edu/krb5/trunk@22310 dc483132-0cff-0310-8789-dd5450dbe970

diff --git a/src/lib/krb5/krb/get_in_tkt.c b/src/lib/krb5/krb/get_in_tkt.c
index 5acc19aa5..018676dbe 100644
--- a/src/lib/krb5/krb/get_in_tkt.c
+++ b/src/lib/krb5/krb/get_in_tkt.c
@@ -649,7 +649,7 @@ krb5_get_in_tkt(krb5_context context,
 	retval = send_as_request(context, encoded_request,
 				 krb5_princ_realm(context, request.client), &err_reply,
 				 &as_reply, &use_master);
-	krb5_free_data_contents(context, encoded_request);
+	krb5_free_data(context, encoded_request);
 	if (retval != 0)
 	    goto cleanup;
 

