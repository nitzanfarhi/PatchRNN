commit c9aa4cfdb12dd3cff1195cb20947b7d43897eed7
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Dec 14 00:38:23 2011 +0100

    avplay: clear pkt_temp when pkt is freed.
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Marton Balint <cus@passwd.hu>
    Signed-off-by: Justin Ruggles <justin.ruggles@gmail.com>

diff --git a/avplay.c b/avplay.c
index 5fcfaa68e..bf1ac1b3f 100644
--- a/avplay.c
+++ b/avplay.c
@@ -2102,6 +2102,7 @@ static int audio_decode_frame(VideoState *is, double *pts_ptr)
         /* free the current packet */
         if (pkt->data)
             av_free_packet(pkt);
+        memset(pkt_temp, 0, sizeof(*pkt_temp));
 
         if (is->paused || is->audioq.abort_request) {
             return -1;

