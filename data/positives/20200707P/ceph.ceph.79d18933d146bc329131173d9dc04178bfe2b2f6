commit 79d18933d146bc329131173d9dc04178bfe2b2f6
Author: Greg Farnum <gregf@hq.newdream.net>
Date:   Thu Sep 23 16:36:37 2010 -0700

    mds: zero out the layout in handle_client_setlayout
    
    Could have led to an invalid layout by mistake.

diff --git a/src/mds/Server.cc b/src/mds/Server.cc
index ea9f03ec7a..279d9f0124 100644
--- a/src/mds/Server.cc
+++ b/src/mds/Server.cc
@@ -2924,6 +2924,7 @@ void Server::handle_client_setlayout(MDRequest *mdr)
   // validate layout
   // FIXME: only set striping parameters, for now.
   ceph_file_layout layout;
+  memset(&layout, 0, sizeof(layout));
 
   if (req->head.args.setlayout.layout.fl_object_size > 0)
     layout.fl_object_size = req->head.args.setlayout.layout.fl_object_size;

