commit cddf148028f525be8176e7f1cbbf4f862bd287f6
Author: Harald Hoyer <harald@redhat.com>
Date:   Wed Apr 17 18:23:17 2013 +0200

    fixup 8c68a7017 and cast to (unsigned long)

diff --git a/src/journal/sd-journal.c b/src/journal/sd-journal.c
index ba6c1cd30..6d0f363fa 100644
--- a/src/journal/sd-journal.c
+++ b/src/journal/sd-journal.c
@@ -1248,11 +1248,11 @@ static void check_network(sd_journal *j, int fd) {
                 return;
 
         j->on_network =
-                (unsigned) sfs.f_type == CIFS_MAGIC_NUMBER ||
-                (unsigned) sfs.f_type == CODA_SUPER_MAGIC ||
-                (unsigned) sfs.f_type == NCP_SUPER_MAGIC ||
-                (unsigned) sfs.f_type == NFS_SUPER_MAGIC ||
-                (unsigned) sfs.f_type == SMB_SUPER_MAGIC;
+                (unsigned long) sfs.f_type == CIFS_MAGIC_NUMBER ||
+                (unsigned long) sfs.f_type == CODA_SUPER_MAGIC ||
+                (unsigned long) sfs.f_type == NCP_SUPER_MAGIC ||
+                (unsigned long) sfs.f_type == NFS_SUPER_MAGIC ||
+                (unsigned long) sfs.f_type == SMB_SUPER_MAGIC;
 }
 
 static int add_file(sd_journal *j, const char *prefix, const char *filename) {
diff --git a/src/readahead/readahead-collect.c b/src/readahead/readahead-collect.c
index 6d7db4fae..735bd8e3e 100644
--- a/src/readahead/readahead-collect.c
+++ b/src/readahead/readahead-collect.c
@@ -505,7 +505,7 @@ done:
         on_ssd = fs_on_ssd(root) > 0;
         log_debug("On SSD: %s", yes_no(on_ssd));
 
-        on_btrfs = statfs(root, &sfs) >= 0 && (unsigned) sfs.f_type == BTRFS_SUPER_MAGIC;
+        on_btrfs = statfs(root, &sfs) >= 0 && (unsigned long) sfs.f_type == BTRFS_SUPER_MAGIC;
         log_debug("On btrfs: %s", yes_no(on_btrfs));
 
         if (asprintf(&pack_fn_new, "%s/.readahead.new", root) < 0) {
diff --git a/src/shared/util.c b/src/shared/util.c
index 3a6efe3fc..f59c19df2 100644
--- a/src/shared/util.c
+++ b/src/shared/util.c
@@ -2779,8 +2779,8 @@ int rm_rf_children_dangerous(int fd, bool only_dirs, bool honour_sticky, struct
 
 static int is_temporary_fs(struct statfs *s) {
         assert(s);
-        return (unsigned) s->f_type == TMPFS_MAGIC ||
-                (unsigned) s->f_type == RAMFS_MAGIC;
+        return (unsigned long) s->f_type == TMPFS_MAGIC ||
+                (unsigned long) s->f_type == RAMFS_MAGIC;
 }
 
 int rm_rf_children(int fd, bool only_dirs, bool honour_sticky, struct stat *root_dev) {

