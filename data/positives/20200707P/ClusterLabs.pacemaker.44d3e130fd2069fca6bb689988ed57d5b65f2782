commit 44d3e130fd2069fca6bb689988ed57d5b65f2782
Author: Andrew Beekhof <andrew@beekhof.net>
Date:   Tue Mar 19 11:54:02 2013 +1100

    Fix: crmd: Suppress secondary errors when no metadata is found

diff --git a/crmd/lrm.c b/crmd/lrm.c
index fb345a1d1..d71d86cac 100644
--- a/crmd/lrm.c
+++ b/crmd/lrm.c
@@ -519,6 +519,10 @@ get_rsc_restart_list(lrmd_rsc_info_t * rsc, lrmd_event_data_t * op)
         key = NULL;
         reload->metadata = get_rsc_metadata(rsc->type, rsc->class, provider);
 
+        if(reload->metadata == NULL) {
+            goto cleanup;
+        }
+
         metadata = string2xml(reload->metadata);
         if (metadata == NULL) {
             crm_err("Metadata for %s::%s:%s is not valid XML",

