commit ebcc019926269e7e123d55ec92ff00c2688ca343
Author: Axel Lin <axel.lin@gmail.com>
Date:   Sun Nov 21 22:27:09 2010 -0800

    Input: ams_delta_serio - fix wrong kfree in ams_delta_serio_exit
    
    serio_unregister_port() will call put_device() to free the memory.
    Thus remove kfree(ams_delta_serio) after
    serio_unregister_port(ams_delta_serio).
    
    Signed-off-by: Axel Lin <axel.lin@gmail.com>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

diff --git a/drivers/input/serio/ams_delta_serio.c b/drivers/input/serio/ams_delta_serio.c
index 8f1770e1e08b..ebe955325677 100644
--- a/drivers/input/serio/ams_delta_serio.c
+++ b/drivers/input/serio/ams_delta_serio.c
@@ -172,6 +172,5 @@ static void __exit ams_delta_serio_exit(void)
 	free_irq(OMAP_GPIO_IRQ(AMS_DELTA_GPIO_PIN_KEYBRD_CLK), 0);
 	gpio_free(AMS_DELTA_GPIO_PIN_KEYBRD_CLK);
 	gpio_free(AMS_DELTA_GPIO_PIN_KEYBRD_DATA);
-	kfree(ams_delta_serio);
 }
 module_exit(ams_delta_serio_exit);

