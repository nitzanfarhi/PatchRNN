commit 53039f222c548bfc119eea6df4dca2b57550e271
Author: Matthew Garrett <mjg@redhat.com>
Date:   Fri Jun 1 11:02:36 2012 -0400

    toshiba_acpi: Fix mis-merge
    
    I managed to screw up the various backlight changes and ended up memsetting
    the props structure after it had already been populated. This should fix it.
    
    Signed-off-by: Matthew Garrett <mjg@redhat.com>

diff --git a/drivers/platform/x86/toshiba_acpi.c b/drivers/platform/x86/toshiba_acpi.c
index f88b9d22f39e..dab10f6edcd4 100644
--- a/drivers/platform/x86/toshiba_acpi.c
+++ b/drivers/platform/x86/toshiba_acpi.c
@@ -1095,9 +1095,9 @@ static int __devinit toshiba_acpi_setup_backlight(struct toshiba_acpi_dev *dev)
 	ret = get_tr_backlight_status(dev, &enabled);
 	dev->tr_backlight_supported = !ret;
 
+	memset(&props, 0, sizeof(props));
 	props.type = BACKLIGHT_PLATFORM;
 	props.max_brightness = HCI_LCD_BRIGHTNESS_LEVELS - 1;
-	memset(&props, 0, sizeof(props));
 
 	/* adding an extra level and having 0 change to transflective mode */
 	if (dev->tr_backlight_supported)

