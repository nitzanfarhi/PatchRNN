commit 92d8d4a8b0f4c6eba70f6e62b48e38bd005a56e6
Author: Jiri Olsa <jolsa@redhat.com>
Date:   Tue Jun 19 17:47:52 2012 +0200

    tracing/filter: Add missing initialization
    
    Add missing initialization for ret variable. Its initialization
    is based on the re_cnt variable, which is being set deep down
    in the ftrace_function_filter_re function.
    
    I'm not sure compilers would be smart enough to see this in near
    future, so killing the warning this way.
    
    Link: http://lkml.kernel.org/r/1340120894-9465-2-git-send-email-jolsa@redhat.com
    
    Signed-off-by: Jiri Olsa <jolsa@redhat.com>
    Signed-off-by: Steven Rostedt <rostedt@goodmis.org>

diff --git a/kernel/trace/trace_events_filter.c b/kernel/trace/trace_events_filter.c
index 431dba8b7542..c154797a7ff7 100644
--- a/kernel/trace/trace_events_filter.c
+++ b/kernel/trace/trace_events_filter.c
@@ -2002,7 +2002,7 @@ static int ftrace_function_set_regexp(struct ftrace_ops *ops, int filter,
 static int __ftrace_function_set_filter(int filter, char *buf, int len,
 					struct function_filter_data *data)
 {
-	int i, re_cnt, ret;
+	int i, re_cnt, ret = -EINVAL;
 	int *reset;
 	char **re;
 

