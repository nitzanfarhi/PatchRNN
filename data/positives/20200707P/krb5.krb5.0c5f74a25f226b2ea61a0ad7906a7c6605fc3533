commit 0c5f74a25f226b2ea61a0ad7906a7c6605fc3533
Author: Greg Hudson <ghudson@mit.edu>
Date:   Tue Jun 28 18:09:35 2016 -0400

    Fix leak in DB2 krb5_db_promote() implementation
    
    In krb5_db2_merge_nra_iterator(), free the entry loaded from the
    source DB.
    
    ticket: 8442 (new)
    target_version: 1.14-next
    target_version: 1.13-next
    tags: pullup

diff --git a/src/plugins/kdb/db2/kdb_db2.c b/src/plugins/kdb/db2/kdb_db2.c
index 84dadc326..c29867a7a 100644
--- a/src/plugins/kdb/db2/kdb_db2.c
+++ b/src/plugins/kdb/db2/kdb_db2.c
@@ -1377,6 +1377,7 @@ krb5_db2_merge_nra_iterator(krb5_pointer ptr, krb5_db_entry *entry)
         retval = 0;
     }
 
+    krb5_db_free_principal(nra->kcontext, s_entry);
     return retval;
 }
 

