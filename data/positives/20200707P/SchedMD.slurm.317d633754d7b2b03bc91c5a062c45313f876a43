commit 317d633754d7b2b03bc91c5a062c45313f876a43
Author: Danny Auble <da@schedmd.com>
Date:   Tue Oct 17 15:41:17 2017 -0600

    Fix regression from commit f5a3b44974f7

diff --git a/src/slurmctld/job_mgr.c b/src/slurmctld/job_mgr.c
index c8c43d55cc..96d2304ad2 100644
--- a/src/slurmctld/job_mgr.c
+++ b/src/slurmctld/job_mgr.c
@@ -2788,7 +2788,7 @@ static void _remove_job_hash(struct job_record *job_entry)
 	struct job_record *job_ptr, **job_pptr;
 
 	job_pptr = &job_hash[JOB_HASH_INX(job_entry->job_id)];
-	while ((job_pptr != NULL) &&
+	while ((job_pptr != NULL) && (*job_pptr != NULL) &&
 	       ((job_ptr = *job_pptr) != job_entry)) {
 		xassert(job_ptr->magic == JOB_MAGIC);
 		job_pptr = &job_ptr->job_next;

