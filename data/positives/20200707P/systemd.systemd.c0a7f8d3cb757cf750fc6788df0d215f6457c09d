commit c0a7f8d3cb757cf750fc6788df0d215f6457c09d
Author: Daniel Mack <daniel@zonque.org>
Date:   Thu Jun 4 15:39:49 2015 +0200

    core/mount: skip incomplete mountinfo entries
    
    Skip /proc/mountinfo entries for which libmount returns a NULL pointer
    for 'source' or 'target'. This happened on Semaphore CI's build servers
    when the test suite is run.

diff --git a/src/core/mount.c b/src/core/mount.c
index ba1dcf1e8..851b41351 100644
--- a/src/core/mount.c
+++ b/src/core/mount.c
@@ -1522,6 +1522,9 @@ static int mount_load_proc_self_mountinfo(Manager *m, bool set_flags) {
                 options = mnt_fs_get_options(fs);
                 fstype = mnt_fs_get_fstype(fs);
 
+                if (!device || !path)
+                        continue;
+
                 if (cunescape(device, UNESCAPE_RELAX, &d) < 0)
                         return log_oom();
 

