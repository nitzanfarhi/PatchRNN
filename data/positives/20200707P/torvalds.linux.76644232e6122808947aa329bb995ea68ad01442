commit 76644232e6122808947aa329bb995ea68ad01442
Author: Joe Stringer <joe@ovn.org>
Date:   Thu Sep 1 18:01:47 2016 -0700

    openvswitch: Free tmpl with tmpl_free.
    
    When an error occurs during conntrack template creation as part of
    actions validation, we need to free the template. Previously we've been
    using nf_ct_put() to do this, but nf_ct_tmpl_free() is more appropriate.
    
    Signed-off-by: Joe Stringer <joe@ovn.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/net/openvswitch/conntrack.c b/net/openvswitch/conntrack.c
index e054a748ff25..31045ef44a82 100644
--- a/net/openvswitch/conntrack.c
+++ b/net/openvswitch/conntrack.c
@@ -1367,7 +1367,7 @@ static void __ovs_ct_free_action(struct ovs_conntrack_info *ct_info)
 	if (ct_info->helper)
 		module_put(ct_info->helper->me);
 	if (ct_info->ct)
-		nf_ct_put(ct_info->ct);
+		nf_ct_tmpl_free(ct_info->ct);
 }
 
 void ovs_ct_init(struct net *net)

