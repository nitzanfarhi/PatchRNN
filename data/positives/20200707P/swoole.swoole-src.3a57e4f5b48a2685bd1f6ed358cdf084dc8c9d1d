commit 3a57e4f5b48a2685bd1f6ed358cdf084dc8c9d1d
Author: matyhtf <mikan.tenny@gmail.com>
Date:   Thu Apr 2 11:17:36 2015 +0800

    fixed sendfile core dump.

diff --git a/swoole_server.c b/swoole_server.c
index d53069c6..f4c7912f 100644
--- a/swoole_server.c
+++ b/swoole_server.c
@@ -1997,6 +1997,7 @@ PHP_FUNCTION(swoole_server_sendfile)
     memcpy(buffer, filename, send_data.info.len);
     buffer[send_data.info.len] = 0;
     send_data.info.len++;
+    send_data.length = 0;
 
     send_data.data = buffer;
     SW_CHECK_RETURN(serv->factory.finish(&serv->factory, &send_data));

