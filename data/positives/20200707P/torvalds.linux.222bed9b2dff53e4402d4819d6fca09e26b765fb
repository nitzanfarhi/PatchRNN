commit 222bed9b2dff53e4402d4819d6fca09e26b765fb
Author: Peter Chen <peter.chen@freescale.com>
Date:   Tue Sep 17 12:37:21 2013 +0800

    usb: chipidea: Fix memleak for ci->hw_bank.regmap when removal
    
    It needs to free ci->hw_bank.regmap explicitly since it is not managed
    resource.
    
    Signed-off-by: Peter Chen <peter.chen@freescale.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/usb/chipidea/core.c b/drivers/usb/chipidea/core.c
index 94626409559a..23763dcec069 100644
--- a/drivers/usb/chipidea/core.c
+++ b/drivers/usb/chipidea/core.c
@@ -605,6 +605,7 @@ static int ci_hdrc_remove(struct platform_device *pdev)
 	dbg_remove_files(ci);
 	free_irq(ci->irq, ci);
 	ci_role_destroy(ci);
+	kfree(ci->hw_bank.regmap);
 
 	return 0;
 }

