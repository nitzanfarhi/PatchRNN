commit 0dd1706c14abced200f8e5f83d2f86dc44cd9508
Author: Pierre Joye <pierre.php@gmail.com>
Date:   Wed Jul 20 17:00:16 2016 +0700

    possible null deref

diff --git a/src/gd_interpolation.c b/src/gd_interpolation.c
index 3f4b49f..2683490 100644
--- a/src/gd_interpolation.c
+++ b/src/gd_interpolation.c
@@ -1055,7 +1055,7 @@ gdImageScaleTwoPass(const gdImagePtr src, const unsigned int new_width,
         scale_pass_res = _gdScalePass(tmp_im, src_height, dst, new_height, new_width, VERTICAL);
 		if (scale_pass_res != 1) {
 			gdImageDestroy(dst);
-			if (src != tmp_im && tmp_im != NULL) {
+			if (tmp != NULL && src != tmp_im) {
 				gdImageDestroy(tmp_im);
 			}
 			return NULL;

