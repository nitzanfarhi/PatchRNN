commit 1e7b198e2e267b4d377e2737df6591a05457924f
Author: aaron <aaron@openbsd.org>
Date:   Tue Apr 25 19:05:43 2000 +0000

    Avoid divide-by-zero; from FreeBSD PR/8990 and NetBSD PR/6541. Use the same fix
    for now, at least until we determine if there is a more correct one.

diff --git a/sys/netinet/igmp.c b/sys/netinet/igmp.c
index bafe27857e2..5380ff5d09f 100644
--- a/sys/netinet/igmp.c
+++ b/sys/netinet/igmp.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: igmp.c,v 1.7 1999/12/28 07:17:38 itojun Exp $	*/
+/*	$OpenBSD: igmp.c,v 1.8 2000/04/25 19:05:43 aaron Exp $	*/
 /*	$NetBSD: igmp.c,v 1.15 1996/02/13 23:41:25 christos Exp $	*/
 
 /*
@@ -218,6 +218,8 @@ igmp_input(m, va_alist)
 			}
 
 			timer = igmp->igmp_code * PR_FASTHZ / IGMP_TIMER_SCALE;
+			if (timer == 0)
+				timer = 1;
 
 			/*
 			 * Start the timers in all of our membership records

