commit 3ffd0f7db59e59e5bd29d6817b9d577a6c918194
Author: Marko Kreen <markokr@gmail.com>
Date:   Sat Dec 8 13:09:10 2012 +0200

    Fix IPv6 address memcpy

diff --git a/src/dnslookup.c b/src/dnslookup.c
index f236a04..0c0efe9 100644
--- a/src/dnslookup.c
+++ b/src/dnslookup.c
@@ -167,7 +167,7 @@ static struct addrinfo *mk_addrinfo(const void *adr, int af)
 		sa6 = calloc(1, sizeof(*sa6));
 		if (!sa6)
 			goto failed;
-		memcpy(&sa6->sin6_addr, adr, sizeof(*sa6));
+		memcpy(&sa6->sin6_addr, adr, sizeof(sa6->sin6_addr));
 		sa6->sin6_family = af;
 		ai->ai_addr = (struct sockaddr *)sa6;
 		ai->ai_addrlen = sizeof(*sa6);

