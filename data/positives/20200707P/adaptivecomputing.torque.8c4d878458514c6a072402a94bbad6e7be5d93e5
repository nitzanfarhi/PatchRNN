commit 8c4d878458514c6a072402a94bbad6e7be5d93e5
Author: David Beer <dbeer@adaptivecomputing.com>
Date:   Fri Oct 30 13:43:46 2015 -0600

    Fix an infinite loop (patch from Martin Siegert).
    
    This only happens if cpusets are enabled and processes are in an
    uninterruptible state.

diff --git a/src/resmom/linux/cpuset.c b/src/resmom/linux/cpuset.c
index 8bd397092..706c1e1a5 100644
--- a/src/resmom/linux/cpuset.c
+++ b/src/resmom/linux/cpuset.c
@@ -784,10 +784,11 @@ int delete_cpuset(
        */
       else if (!strcmp(pdirent->d_name, "tasks"))
         {
+        slept = 0;
+
         do
           {
           npids = 0;
-          slept = 0;
           if ((fd = fopen(path, "r")) != NULL)
             {
             while ((fgets(tid, sizeof(tid), fd)) != NULL)

