commit a737abd11ac4eb9f4226fa8c9f1d9b5be12a96c1
Author: Cyrill Gorcunov <gorcunov@gmail.com>
Date:   Sat Jul 5 15:53:39 2008 +0400

    x86: e820 memmap - add checking for NULL early param
    
    Signed-off-by: Cyrill Gorcunov <gorcunov@gmail.com>
    Cc: Cyrill Gorcunov <gorcunov@gmail.com>
    Cc: akpm@linux-foundation.org
    Cc: andi@firstfloor.org
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

diff --git a/arch/x86/kernel/e820.c b/arch/x86/kernel/e820.c
index 292ebc7fe4d0..66fd5bd78318 100644
--- a/arch/x86/kernel/e820.c
+++ b/arch/x86/kernel/e820.c
@@ -1198,6 +1198,9 @@ static int __init parse_memmap_opt(char *p)
 	char *oldp;
 	u64 start_at, mem_size;
 
+	if (!p)
+		return -EINVAL;
+
 	if (!strcmp(p, "exactmap")) {
 #ifdef CONFIG_CRASH_DUMP
 		/*

