commit 49912f8e5706a686212eb9e10fac3e2abe9e1867
Author: Jason Summers <jason1@pobox.com>
Date:   Wed Apr 5 14:03:45 2017 -0400

    Fixed a memory leak in the BMP decoder
    
    Fixes issue #10

diff --git a/src/imagew-bmp.c b/src/imagew-bmp.c
index a40ed82..94619c5 100644
--- a/src/imagew-bmp.c
+++ b/src/imagew-bmp.c
@@ -988,6 +988,9 @@ IW_IMPL(int) iw_read_bmp_file(struct iw_context *ctx, struct iw_iodescr *iodescr
 done:
 	if(!retval) {
 		iw_set_error(ctx,"BMP read failed");
+		// If we didn't call iw_set_input_image, 'img' still belongs to us,
+		// so free its contents.
+		iw_free(ctx, img.pixels);
 	}
 	return retval;
 }

