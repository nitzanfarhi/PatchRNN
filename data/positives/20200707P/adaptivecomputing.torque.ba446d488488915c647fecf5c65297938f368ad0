commit ba446d488488915c647fecf5c65297938f368ad0
Author: Ken <knielson@adaptivecomputing.com>
Date:   Thu Mar 6 11:46:56 2014 -0700

    fixed to memory leaks for error cases in procs_requested.
    Patch submitted by Craig Prescott. TRQ-2498

diff --git a/src/server/node_manager.c b/src/server/node_manager.c
index 056038361..8e9ff07be 100644
--- a/src/server/node_manager.c
+++ b/src/server/node_manager.c
@@ -4564,6 +4564,8 @@ int procs_requested(
         if (proplist(&str, &prop, &num_procs, &num_gpus, &num_mics))
           {
           free(tmp_spec);
+          if (prop != NULL)
+            free_prop(prop);
           return(-1);
           }
         }
@@ -4576,6 +4578,8 @@ int procs_requested(
         {
         /* must be a prop list with no number in front */
         free(tmp_spec);
+        if (prop != NULL)
+          free_prop(prop);
 
         return(-1);
         }

