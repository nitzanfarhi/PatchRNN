commit 44caebd368a5174f8aa7b80076350385eb2c2f42
Author: Igor Pylypiv <igor.pylypiv@gmail.com>
Date:   Sun Mar 18 23:40:51 2018 -0700

    net: gemini: fix memory leak
    
    cppcheck report:
    [drivers/net/ethernet/cortina/gemini.c:543]: (error) Memory leak: skb_tab
    
    Signed-off-by: Igor Pylypiv <igor.pylypiv@gmail.com>
    Acked-by: Linus Walleij <linus.walleij@linaro.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/drivers/net/ethernet/cortina/gemini.c b/drivers/net/ethernet/cortina/gemini.c
index 5eb999af2c40..bd3f6e4d1341 100644
--- a/drivers/net/ethernet/cortina/gemini.c
+++ b/drivers/net/ethernet/cortina/gemini.c
@@ -540,6 +540,7 @@ static int gmac_setup_txqs(struct net_device *netdev)
 
 	if (port->txq_dma_base & ~DMA_Q_BASE_MASK) {
 		dev_warn(geth->dev, "TX queue base it not aligned\n");
+		kfree(skb_tab);
 		return -ENOMEM;
 	}
 

