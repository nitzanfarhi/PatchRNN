commit 5e76a1cb2ce0918ff2429fcfa2d5655dbd273c54
Author: Mariusz Kozlowski <m.kozlowski@tuxland.pl>
Date:   Mon Aug 6 18:05:27 2007 -0300

    V4L/DVB (5981): Zoran_driver.c: fix memset in ioctl
    
    Looks like memset() is zeroing wrong nr of bytes.
    
    Signed-off-by: Mariusz Kozlowski <m.kozlowski@tuxland.pl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

diff --git a/drivers/media/video/zoran_driver.c b/drivers/media/video/zoran_driver.c
index 4dbe2d449b50..d831ca16d9e9 100644
--- a/drivers/media/video/zoran_driver.c
+++ b/drivers/media/video/zoran_driver.c
@@ -3196,7 +3196,7 @@ zoran_do_ioctl (struct inode *inode,
 			"%s: VIDIOC_QUERYBUF - index=%d, type=%d\n",
 			ZR_DEVNAME(zr), buf->index, buf->type);
 
-		memset(buf, 0, sizeof(buf));
+		memset(buf, 0, sizeof(*buf));
 		buf->type = type;
 		buf->index = index;
 

