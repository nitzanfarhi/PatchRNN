commit 26bf232648033b80f967dd49dcf944664b70d84a
Author: Timo Sirainen <tss@iki.fi>
Date:   Thu Jan 9 01:35:09 2003 +0200

    Remove one of the previous speedups, it broke things
    
    --HG--
    branch : HEAD

diff --git a/src/lib/ostream.c b/src/lib/ostream.c
index 9d76f2597..348ecc2d1 100644
--- a/src/lib/ostream.c
+++ b/src/lib/ostream.c
@@ -99,6 +99,9 @@ ssize_t o_stream_send(struct ostream *stream, const void *data, size_t size)
 	if (stream->closed)
 		return -1;
 
+	if (size == 0)
+		return 0;
+
 	return _stream->send(_stream, data, size);
 }
 

