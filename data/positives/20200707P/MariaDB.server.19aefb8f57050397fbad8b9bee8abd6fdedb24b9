commit 19aefb8f57050397fbad8b9bee8abd6fdedb24b9
Author: Zardosht Kasheff <zardosht@tokutek.com>
Date:   Wed Apr 17 00:00:37 2013 -0400

    [t:4942], fix memory leak
    
    git-svn-id: file:///svn/toku/tokudb@43937 c7de825b-a66e-492c-adef-691d508d4ae1

diff --git a/ft/ftloader.c b/ft/ftloader.c
index 46569687a58..a4d06317deb 100644
--- a/ft/ftloader.c
+++ b/ft/ftloader.c
@@ -2221,6 +2221,7 @@ static int toku_loader_write_ft_from_q (FTLOADER bl,
         result = errno;
         dbout_destroy(&out);
         drain_writer_q(q);
+        toku_free(ft.h);
         return result;
     }
 
@@ -2236,6 +2237,7 @@ static int toku_loader_write_ft_from_q (FTLOADER bl,
         subtrees_info_destroy(&sts);
         dbout_destroy(&out);
         drain_writer_q(q);
+        toku_free(ft.h);
         return result;
     }
 
@@ -2438,6 +2440,7 @@ static int toku_loader_write_ft_from_q (FTLOADER bl,
     subtrees_info_destroy(&sts);
     dbout_destroy(&out);
     drain_writer_q(q);
+    toku_free(ft.h);
 
     return result;
 }

