commit 8453f712e78afd1f7eaf9a429971e451943352a8
Author: Wido den Hollander <wido@42on.com>
Date:   Sat Jan 17 13:56:20 2015 +0100

    mon: Do not allow empty pool names when creating
    
    Fixes: #10555
    
    Signed-off-by: Wido den Hollander <wido@42on.com>

diff --git a/src/mon/OSDMonitor.cc b/src/mon/OSDMonitor.cc
index 10e49a17c7..2130d408ff 100644
--- a/src/mon/OSDMonitor.cc
+++ b/src/mon/OSDMonitor.cc
@@ -3660,6 +3660,8 @@ int OSDMonitor::prepare_new_pool(string& name, uint64_t auid,
                                  const uint64_t expected_num_objects,
 				 stringstream &ss)
 {
+  if (name.length() == 0)
+    return -EINVAL;
   int r;
   r = prepare_pool_crush_ruleset(pool_type, erasure_code_profile,
 				 crush_ruleset_name, &crush_ruleset, ss);

