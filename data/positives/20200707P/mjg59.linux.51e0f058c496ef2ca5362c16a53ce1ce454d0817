commit 51e0f058c496ef2ca5362c16a53ce1ce454d0817
Author: Ingo Molnar <mingo@elte.hu>
Date:   Tue Nov 25 16:48:12 2008 -0800

    niu: fix warnings in drivers/net/niu.c
    
    these warnings:
    
      drivers/net/niu.c: In function ‘serdes_init_niu_1g_serdes’:
      drivers/net/niu.c:451: warning: ‘sig’ may be used uninitialized in this function
      drivers/net/niu.c: In function ‘serdes_init_niu_10g_serdes’:
      drivers/net/niu.c:550: warning: ‘sig’ may be used uninitialized in this function
    
    triggers because GCC does not recognize that the max_retry loop
    always initializes 'sig', due to max_retry != 0.
    
    Annotate them.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/drivers/net/niu.c b/drivers/net/niu.c
index f368e7472133..5b7b31d25be3 100644
--- a/drivers/net/niu.c
+++ b/drivers/net/niu.c
@@ -448,7 +448,7 @@ static int serdes_init_niu_1g_serdes(struct niu *np)
 	struct niu_link_config *lp = &np->link_config;
 	u16 pll_cfg, pll_sts;
 	int max_retry = 100;
-	u64 sig, mask, val;
+	u64 uninitialized_var(sig), mask, val;
 	u32 tx_cfg, rx_cfg;
 	unsigned long i;
 	int err;
@@ -547,7 +547,7 @@ static int serdes_init_niu_10g_serdes(struct niu *np)
 	struct niu_link_config *lp = &np->link_config;
 	u32 tx_cfg, rx_cfg, pll_cfg, pll_sts;
 	int max_retry = 100;
-	u64 sig, mask, val;
+	u64 uninitialized_var(sig), mask, val;
 	unsigned long i;
 	int err;
 

