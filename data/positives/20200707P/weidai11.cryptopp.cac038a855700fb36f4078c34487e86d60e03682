commit cac038a855700fb36f4078c34487e86d60e03682
Author: Jeffrey Walton <noloader@gmail.com>
Date:   Fri Jul 17 21:50:47 2015 -0400

    Cleared UBsan error using non-null pointer

diff --git a/queue.cpp b/queue.cpp
index ff2f0d31..6546522b 100644
--- a/queue.cpp
+++ b/queue.cpp
@@ -41,6 +41,7 @@ public:
 
 	inline size_t Put(const byte *begin, size_t length)
 	{
+		if(!begin || !length) return length;
 		size_t l = STDMIN(length, MaxSize()-m_tail);
 		if (buf+m_tail != begin)
 			memcpy(buf+m_tail, begin, l);
@@ -59,6 +60,7 @@ public:
 
 	inline size_t Peek(byte *target, size_t copyMax) const
 	{
+		if(!target || !copyMax) return 0;
 		size_t len = STDMIN(copyMax, m_tail-m_head);
 		memcpy(target, buf+m_head, len);
 		return len;

