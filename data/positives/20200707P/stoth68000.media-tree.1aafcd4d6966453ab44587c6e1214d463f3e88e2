commit 1aafcd4d6966453ab44587c6e1214d463f3e88e2
Author: Dimitris Papastamos <dp@opensource.wolfsonmicro.com>
Date:   Thu Oct 21 13:19:45 2010 +0100

    ASoC: soc-core: Fix codec->name memory leak
    
    Ensure that the codec->name is freed when unregistering the codec.
    
    Signed-off-by: Dimitris Papastamos <dp@opensource.wolfsonmicro.com>
    Acked-by: Liam Girdwood <lrg@slimlogic.co.uk>
    Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>

diff --git a/sound/soc/soc-core.c b/sound/soc/soc-core.c
index 862b1af5fbdf..70d9a7394b2b 100644
--- a/sound/soc/soc-core.c
+++ b/sound/soc/soc-core.c
@@ -3299,6 +3299,7 @@ void snd_soc_unregister_codec(struct device *dev)
 
 	if (codec->reg_cache)
 		kfree(codec->reg_cache);
+	kfree(codec->name);
 	kfree(codec);
 }
 EXPORT_SYMBOL_GPL(snd_soc_unregister_codec);

