commit b7f5d0114c708d6efd264a2c5e5a31cf292a9cec
Author: Alexander Graf <agraf@suse.de>
Date:   Tue Jan 17 15:11:28 2012 +0100

    KVM: PPC: Initialize linears with zeros
    
    RMAs and HPT preallocated spaces should be zeroed, so we don't accidently
    leak information from previous VM executions.
    
    Signed-off-by: Alexander Graf <agraf@suse.de>
    Acked-by: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Avi Kivity <avi@redhat.com>

diff --git a/arch/powerpc/kvm/book3s_hv_builtin.c b/arch/powerpc/kvm/book3s_hv_builtin.c
index 1c7e6ab5f9de..7caed1dfd7a4 100644
--- a/arch/powerpc/kvm/book3s_hv_builtin.c
+++ b/arch/powerpc/kvm/book3s_hv_builtin.c
@@ -152,6 +152,7 @@ static struct kvmppc_linear_info *kvm_alloc_linear(int type)
 		break;
 	}
 	spin_unlock(&linear_lock);
+	memset(ri->base_virt, 0, ri->npages << PAGE_SHIFT);
 	return ri;
 }
 

