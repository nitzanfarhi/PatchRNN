commit 1b170b84b19c88056ea5316deb5042eb4d593893
Author: Mark de Wever <koraq@xs4all.nl>
Date:   Thu Sep 20 15:39:40 2007 +0000

    Make sure all members are initialized in the constructor.

diff --git a/src/race.cpp b/src/race.cpp
index 530b8f5f49..f4a9a0b12d 100644
--- a/src/race.cpp
+++ b/src/race.cpp
@@ -129,24 +129,35 @@ static wide_string markov_generate_name(const markov_prefix_map& prefixes, size_
 	return originalRes;
 }
 
-unit_race::unit_race() : ntraits_(0), chain_size_(0), traits_(&empty_traits), global_traits_(true)
+unit_race::unit_race() : 
+		id_(),
+		name_(),
+		description_(),
+		ntraits_(0), 
+		chain_size_(0), 
+		traits_(&empty_traits), 
+		global_traits_(true)
 {
 }
 
-unit_race::unit_race(const config& cfg) : name_(cfg["name"]), ntraits_(atoi(cfg["num_traits"].c_str())),
-										  traits_(&cfg.get_children("trait")), global_traits_(!utils::string_bool(cfg["ignore_global_traits"]))
+unit_race::unit_race(const config& cfg) : 
+		id_(cfg["id"]),
+		name_(cfg["name"]), 
+		description_(cfg["description"]),
+		ntraits_(atoi(cfg["num_traits"].c_str())),
+		chain_size_(atoi(cfg["markov_chain_size"].c_str())),
+		traits_(&cfg.get_children("trait")), 
+		global_traits_(!utils::string_bool(cfg["ignore_global_traits"]))
+
 {
-	id_ = cfg["id"];
 	if(id_.empty()) {
 		// This code is only for compatibility with old race defs.
 		id_ = (cfg["name"]);
 	}
-	description_ = cfg["description"];
 	
 	names_[MALE] = utils::split(cfg["male_names"]);
 	names_[FEMALE] = utils::split(cfg["female_names"]);
 
-	chain_size_ = atoi(cfg["markov_chain_size"].c_str());
 	if(chain_size_ <= 0)
 		chain_size_ = 2;
 

