commit 8161d454085bd38e64076514c779c411576e9be2
Author: wm4 <wm4@nowhere>
Date:   Wed Jun 18 02:13:38 2014 +0200

    gl_video: fix refcounting

diff --git a/video/out/gl_video.c b/video/out/gl_video.c
index 2a24c073e5..b04fa97500 100644
--- a/video/out/gl_video.c
+++ b/video/out/gl_video.c
@@ -1726,6 +1726,7 @@ void gl_video_upload_image(struct gl_video *p, struct mp_image *mpi)
     p->osd_pts = mpi->pts;
 
     if (p->hwdec_active) {
+        talloc_free(vimg->hwimage);
         vimg->hwimage = mpi;
         p->have_image = true;
         return;

