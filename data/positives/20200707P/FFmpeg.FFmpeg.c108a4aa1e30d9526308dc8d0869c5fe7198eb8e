commit c108a4aa1e30d9526308dc8d0869c5fe7198eb8e
Author: Chris Kennedy <bitbytebit@gmail.com>
Date:   Tue Oct 18 12:00:48 2011 +0200

    fix memleak in packet corrupt dropping code

diff --git a/libavformat/utils.c b/libavformat/utils.c
index 333baa0290..d1fdef29c3 100644
--- a/libavformat/utils.c
+++ b/libavformat/utils.c
@@ -756,6 +756,7 @@ int av_read_packet(AVFormatContext *s, AVPacket *pkt)
             av_log(s, AV_LOG_WARNING,
                    "Dropped corrupted packet (stream = %d)\n",
                    pkt->stream_index);
+            av_free_packet(pkt);
             continue;
         }
 

