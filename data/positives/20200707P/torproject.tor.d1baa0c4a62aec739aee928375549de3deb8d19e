commit d1baa0c4a62aec739aee928375549de3deb8d19e
Author: Roger Dingledine <arma@torproject.org>
Date:   Wed Jan 11 03:20:53 2006 +0000

    we were leaking 3KB every time the entry guards changed, every time
    the controller called saveconf, and every 20 minutes.
    
    
    svn:r5788

diff --git a/src/or/config.c b/src/or/config.c
index 6104fb458..b18eb50ca 100644
--- a/src/or/config.c
+++ b/src/or/config.c
@@ -1719,6 +1719,7 @@ config_dump(config_format_t *fmt, void *options, int minimal)
   result = smartlist_join_strings(elements, "", 0, NULL);
   SMARTLIST_FOREACH(elements, char *, cp, tor_free(cp));
   smartlist_free(elements);
+  config_free(fmt, defaults);
   return result;
 }
 

