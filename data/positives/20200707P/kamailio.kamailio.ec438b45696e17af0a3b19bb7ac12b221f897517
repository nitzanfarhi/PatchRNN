commit ec438b45696e17af0a3b19bb7ac12b221f897517
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu May 14 19:16:26 2015 +0200

    core: safety check for linker when inserting xavp with index

diff --git a/xavp.c b/xavp.c
index 66398044b..1906fd824 100644
--- a/xavp.c
+++ b/xavp.c
@@ -732,6 +732,10 @@ int xavp_insert(sr_xavp_t *xavp, int idx, sr_xavp_t **list)
 		lst = crt;
 	}
 
+	if(lst==NULL) {
+		LM_ERR("cannot link the xavp\n");
+		return -1;
+	}
 	xavp->next = lst->next;
 	lst->next = xavp;
 

