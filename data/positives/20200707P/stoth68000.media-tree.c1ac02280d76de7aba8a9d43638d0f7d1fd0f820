commit c1ac02280d76de7aba8a9d43638d0f7d1fd0f820
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Sat Jun 14 18:51:06 2008 +0200

    pcmcia: check for pointer instead of pointer address
    
    Bug noted by Michael Buesch: checking for the pointer address is always true.
    This didn't matter much, for the very first check in pcmcia_release_window()
    was for the pointer pointing to something, and the return value is ignored
    here. Nonetheless, fix it.
    
    CC: Michael Buesch <mb@bu3sch.de>
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

diff --git a/drivers/pcmcia/pcmcia_resource.c b/drivers/pcmcia/pcmcia_resource.c
index 1d128fbd1a92..c8f77b889d42 100644
--- a/drivers/pcmcia/pcmcia_resource.c
+++ b/drivers/pcmcia/pcmcia_resource.c
@@ -966,7 +966,7 @@ void pcmcia_disable_device(struct pcmcia_device *p_dev) {
 	pcmcia_release_configuration(p_dev);
 	pcmcia_release_io(p_dev, &p_dev->io);
 	pcmcia_release_irq(p_dev, &p_dev->irq);
-	if (&p_dev->win)
+	if (p_dev->win)
 		pcmcia_release_window(p_dev->win);
 }
 EXPORT_SYMBOL(pcmcia_disable_device);

