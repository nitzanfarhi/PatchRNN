commit e4cb6abb2f46910c72178e2f987a0198f0fd10b1
Author: Thilo Borgmann <thilo.borgmann@googlemail.com>
Date:   Wed Nov 12 19:10:43 2014 +0100

    bgmc: fix sizeof arguments
    
    CC: libav-devel@libav.org
    Bug-Id: CID 608084 / CID 700724

diff --git a/libavcodec/bgmc.c b/libavcodec/bgmc.c
index c7f732e7bb..ad8baaecac 100644
--- a/libavcodec/bgmc.c
+++ b/libavcodec/bgmc.c
@@ -460,8 +460,8 @@ static uint8_t *bgmc_lut_getp(uint8_t *lut, int *lut_status, int delta)
 av_cold int ff_bgmc_init(AVCodecContext *avctx,
                          uint8_t **cf_lut, int **cf_lut_status)
 {
-    *cf_lut        = av_malloc(sizeof(*cf_lut)        * LUT_BUFF * 16 * LUT_SIZE);
-    *cf_lut_status = av_malloc(sizeof(*cf_lut_status) * LUT_BUFF);
+    *cf_lut        = av_malloc(sizeof(**cf_lut)        * LUT_BUFF * 16 * LUT_SIZE);
+    *cf_lut_status = av_malloc(sizeof(**cf_lut_status) * LUT_BUFF);
 
     if (!*cf_lut || !*cf_lut_status) {
         ff_bgmc_end(cf_lut, cf_lut_status);
@@ -469,7 +469,7 @@ av_cold int ff_bgmc_init(AVCodecContext *avctx,
         return AVERROR(ENOMEM);
     } else {
         // initialize lut_status buffer to a value never used to compare against
-        memset(*cf_lut_status, -1, sizeof(*cf_lut_status) * LUT_BUFF);
+        memset(*cf_lut_status, -1, sizeof(**cf_lut_status) * LUT_BUFF);
     }
 
     return 0;

