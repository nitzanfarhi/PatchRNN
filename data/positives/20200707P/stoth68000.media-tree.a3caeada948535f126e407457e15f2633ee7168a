commit a3caeada948535f126e407457e15f2633ee7168a
Author: Stephen Hemminger <shemminger@linux-foundation.org>
Date:   Mon May 14 12:38:13 2007 -0700

    sky2: MIB counter overflow handling
    
    Make sure that if we ever get a MIB counter overflow interrupt (normally
    masked off), that the IRQ is cleared.
    
    Signed-off-by: Stephen Hemminger <shemminger@linux-foundation.org>
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

diff --git a/drivers/net/sky2.c b/drivers/net/sky2.c
index bde28ad9797d..6e360f816605 100644
--- a/drivers/net/sky2.c
+++ b/drivers/net/sky2.c
@@ -2345,6 +2345,12 @@ static void sky2_mac_intr(struct sky2_hw *hw, unsigned port)
 		printk(KERN_INFO PFX "%s: mac interrupt status 0x%x\n",
 		       dev->name, status);
 
+	if (status & GM_IS_RX_CO_OV)
+		gma_read16(hw, port, GM_RX_IRQ_SRC);
+
+	if (status & GM_IS_TX_CO_OV)
+		gma_read16(hw, port, GM_TX_IRQ_SRC);
+
 	if (status & GM_IS_RX_FF_OR) {
 		++sky2->net_stats.rx_fifo_errors;
 		sky2_write8(hw, SK_REG(port, RX_GMF_CTRL_T), GMF_CLI_RX_FO);

