commit 32613f510c1a86317d9267b8f4f2e0445936713a
Author: Christian Stocker <chregu@php.net>
Date:   Tue Aug 10 08:00:06 2004 +0000

    Fix segfault on error in xslt

diff --git a/ext/xsl/xsltprocessor.c b/ext/xsl/xsltprocessor.c
index 58ce3c3240..1ed075a370 100644
--- a/ext/xsl/xsltprocessor.c
+++ b/ext/xsl/xsltprocessor.c
@@ -400,7 +400,10 @@ static xmlDocPtr php_xsl_apply_stylesheet(xsl_object *intern, xsltStylesheetPtr
 	char **params = NULL;
 	int clone;
 
-
+	if (style == NULL) {
+		php_error_docref(NULL TSRMLS_CC, E_WARNING, "No stylesheet associated to this object");
+		return NULL;
+	}
 	if (intern->parameter) {
 		params = php_xsl_xslt_make_params(intern->parameter, 0 TSRMLS_CC);
 	}

