commit 24dd01bfbce685395dc0ade71308326b3861187a
Author: Jeff Garzik <jeff@garzik.org>
Date:   Mon Aug 14 14:22:54 2006 -0400

    [libata] ata_piix: add missing kfree()
    
    Noticed by Andrew Morton.
    
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

diff --git a/drivers/ata/ata_piix.c b/drivers/ata/ata_piix.c
index 46c34fd5af8f..51d919c8073d 100644
--- a/drivers/ata/ata_piix.c
+++ b/drivers/ata/ata_piix.c
@@ -932,7 +932,11 @@ static int piix_init_one (struct pci_dev *pdev, const struct pci_device_id *ent)
 
 static void piix_host_stop(struct ata_host_set *host_set)
 {
+	struct piix_host_priv *hpriv = host_set->private_data;
+
 	ata_host_stop(host_set);
+
+	kfree(hpriv);
 }
 
 static int __init piix_init(void)

