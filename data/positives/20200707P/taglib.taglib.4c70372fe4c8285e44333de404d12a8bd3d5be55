commit 4c70372fe4c8285e44333de404d12a8bd3d5be55
Author: Lukáš Lalinský <lalinsky@gmail.com>
Date:   Wed Nov 4 15:37:21 2009 +0000

    Fixed a memory leak in FileRef's OGA format detection
    
    
    git-svn-id: svn://anonsvn.kde.org/home/kde/trunk/kdesupport/taglib@1044769 283d02a7-25f6-0310-bc7c-ecb5cbfe19da

diff --git a/taglib/fileref.cpp b/taglib/fileref.cpp
index e5d0feaf..fec4516d 100644
--- a/taglib/fileref.cpp
+++ b/taglib/fileref.cpp
@@ -227,6 +227,7 @@ File *FileRef::create(FileName fileName, bool readAudioProperties,
       File *file = new Ogg::FLAC::File(fileName, readAudioProperties, audioPropertiesStyle);
       if (file->isValid())
         return file;
+      delete file;
       return new Ogg::Vorbis::File(fileName, readAudioProperties, audioPropertiesStyle);
     }
     if(ext == "FLAC")

