commit 144f7a561d32ae9bc657a217e2b4c6dd9a0d7df9
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sat Feb 15 17:19:59 2014 +0100

    avcodec/fic: clear slice_data
    
    Fixes artifacts
    Fixes use of freed memory
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>
    Signed-off-by: Derek Buitenhuis <derek.buitenhuis@gmail.com>

diff --git a/libavcodec/fic.c b/libavcodec/fic.c
index 9453941b7..1dfa02d22 100644
--- a/libavcodec/fic.c
+++ b/libavcodec/fic.c
@@ -261,6 +261,7 @@ static int fic_decode_frame(AVCodecContext *avctx, void *data,
         av_log(avctx, AV_LOG_ERROR, "Could not allocate slice data.\n");
         return AVERROR(ENOMEM);
     }
+    memset(ctx->slice_data, 0, nslices * sizeof(ctx->slice_data[0]));
 
     for (slice = 0; slice < nslices; slice++) {
         unsigned slice_off = AV_RB32(src + tsize + FIC_HEADER_SIZE + slice * 4);

