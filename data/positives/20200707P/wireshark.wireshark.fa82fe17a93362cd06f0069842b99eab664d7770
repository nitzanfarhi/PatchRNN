commit fa82fe17a93362cd06f0069842b99eab664d7770
Author: Jakub Zawadzki <darkjames-ws@darkjames.pl>
Date:   Fri May 6 20:45:34 2011 +0000

    Move fpinf dereference after NULL check.
    
    svn path=/trunk/; revision=37012

diff --git a/epan/dissectors/packet-umts_mac.c b/epan/dissectors/packet-umts_mac.c
index ed2c347096..28b56e4497 100644
--- a/epan/dissectors/packet-umts_mac.c
+++ b/epan/dissectors/packet-umts_mac.c
@@ -420,12 +420,12 @@ static void dissect_mac_fdd_dch(tvbuff_t *tvb, packet_info *pinfo, proto_tree *t
 
 	macinf = p_get_proto_data(pinfo->fd, proto_umts_mac);
 	fpinf = p_get_proto_data(pinfo->fd, proto_fp);
-	pos = fpinf->cur_tb;
 	if (!macinf || !fpinf) {
 		proto_tree_add_text(dch_tree, tvb, 0, -1,
 			"Cannot dissect MAC frame because per-frame info is missing");
 		return;
 	}
+	pos = fpinf->cur_tb;
 	if (macinf->ctmux[pos]) {
 		proto_tree_add_bits_item(dch_tree, hf_mac_ct, tvb, 0, 4, FALSE);
 		bitoffs = 4;

