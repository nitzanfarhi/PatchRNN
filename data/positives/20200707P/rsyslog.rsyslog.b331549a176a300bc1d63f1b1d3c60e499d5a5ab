commit b331549a176a300bc1d63f1b1d3c60e499d5a5ab
Author: Rainer Gerhards <rgerhards@adiscon.com>
Date:   Fri Nov 17 13:04:26 2017 +0100

    omkafka bugfix: cosmetic memory leak upon rsyslog termination
    
    OS will cleanup, not a real issue, but pollutes memory debuggers.

diff --git a/plugins/omkafka/omkafka.c b/plugins/omkafka/omkafka.c
index b07ce11fb..60b9a787f 100644
--- a/plugins/omkafka/omkafka.c
+++ b/plugins/omkafka/omkafka.c
@@ -1235,11 +1235,12 @@ CODESTARTfreeInstance
 		free((void*) pData->confParams[i].name);
 		free((void*) pData->confParams[i].val);
 	}
+	free(pData->confParams);
 	for(int i = 0 ; i < pData->nTopicConfParams ; ++i) {
 		free((void*) pData->topicConfParams[i].name);
 		free((void*) pData->topicConfParams[i].val);
 	}
-
+	free(pData->topicConfParams);
 	pthread_rwlock_destroy(&pData->rkLock);
 	pthread_mutex_destroy(&pData->mutErrFile);
 	pthread_mutex_destroy(&pData->mutDynCache);

