commit d2be15bdda45b184d483754e434c9a1c8ed80a8e
Author: Li Dongyang <jerry87905@gmail.com>
Date:   Wed Jul 25 10:45:08 2012 +1000

    thinkpad_acpi: Fix a memory leak during module exit
    
    We should free the thinkpad_id.nummodel_str during exit as it's allocated
    in get_thinkpad_module_data().
    
    Signed-off-by: Li Dongyang <Jerry87905@gmail.com>
    Signed-off-by: Matthew Garrett <mjg@redhat.com>

diff --git a/drivers/platform/x86/thinkpad_acpi.c b/drivers/platform/x86/thinkpad_acpi.c
index c85b66602ee1..ae203558ac90 100644
--- a/drivers/platform/x86/thinkpad_acpi.c
+++ b/drivers/platform/x86/thinkpad_acpi.c
@@ -8970,6 +8970,7 @@ static void thinkpad_acpi_module_exit(void)
 	kfree(thinkpad_id.bios_version_str);
 	kfree(thinkpad_id.ec_version_str);
 	kfree(thinkpad_id.model_str);
+	kfree(thinkpad_id.nummodel_str);
 }
 
 

