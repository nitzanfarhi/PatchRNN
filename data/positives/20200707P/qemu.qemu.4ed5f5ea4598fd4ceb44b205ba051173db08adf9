commit 4ed5f5ea4598fd4ceb44b205ba051173db08adf9
Author: Andreas Färber <afaerber@suse.de>
Date:   Tue Apr 24 16:22:31 2012 +0200

    target-i386: Fix x86_cpuid_set_model_id()
    
    Don't assume zeroed cpuid_model[] fields.
    
    This didn't break anything yet but QOM properties should be able to set
    the value to something else without setting an intermediate zero string.
    
    Signed-off-by: Andreas Färber <afaerber@suse.de>
    Signed-off-by: Anthony Liguori <aliguori@us.ibm.com>

diff --git a/target-i386/cpu.c b/target-i386/cpu.c
index 3df53ca74b..e1517e65c6 100644
--- a/target-i386/cpu.c
+++ b/target-i386/cpu.c
@@ -627,6 +627,7 @@ static void x86_cpuid_set_model_id(CPUX86State *env, const char *model_id)
         model_id = "";
     }
     len = strlen(model_id);
+    memset(env->cpuid_model, 0, 48);
     for (i = 0; i < 48; i++) {
         if (i >= len) {
             c = '\0';

