commit e4f887ad20db0fb16d6851acb05c0410c11f63e3
Author: unknown <serg@serg.mylan>
Date:   Sun Jan 16 16:38:38 2005 +0100

    initialize mysql->charset in mysql_init

diff --git a/sql-common/client.c b/sql-common/client.c
index 7264605b247..3de2483ef75 100644
--- a/sql-common/client.c
+++ b/sql-common/client.c
@@ -1422,6 +1422,7 @@ mysql_init(MYSQL *mysql)
     bzero((char*) (mysql),sizeof(*(mysql)));
   mysql->options.connect_timeout= CONNECT_TIMEOUT;
   mysql->last_used_con= mysql->next_slave= mysql->master = mysql;
+  mysql->charset=default_charset_info;
   strmov(mysql->net.sqlstate, not_error_sqlstate);
   /*
     By default, we are a replication pivot. The caller must reset it

