commit 460b9230263f0af40c08d8e97f5f13aa69127bf6
Author: Nick Mathewson <nickm@torproject.org>
Date:   Mon May 15 18:13:20 2017 -0400

    fix a memory leak

diff --git a/src/or/consdiffmgr.c b/src/or/consdiffmgr.c
index 068f9c5ea..72a4f01dd 100644
--- a/src/or/consdiffmgr.c
+++ b/src/or/consdiffmgr.c
@@ -1758,6 +1758,7 @@ consensus_queue_compression_work(const char *consensus,
     config_line_prepend(&job->labels_in, LABEL_SIGNATORIES, signers);
     tor_free(signers);
     SMARTLIST_FOREACH(hexvoters, char *, cp, tor_free(cp));
+    smartlist_free(hexvoters);
   }
 
   if (background_compression) {

