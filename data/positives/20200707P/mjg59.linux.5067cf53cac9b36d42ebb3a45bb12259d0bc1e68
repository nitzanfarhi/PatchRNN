commit 5067cf53cac9b36d42ebb3a45bb12259d0bc1e68
Author: Jesper Juhl <jj@chaosbits.net>
Date:   Mon Jan 23 23:34:59 2012 +0100

    x86/boot-image: Don't leak phdrs in arch/x86/boot/compressed/misc.c::Parse_elf()
    
    We allocate memory with malloc(), but neglect to free it before
    the variable 'phdrs' goes out of scope --> leak.
    
    Signed-off-by: Jesper Juhl <jj@chaosbits.net>
    Link: http://lkml.kernel.org/r/alpine.LNX.2.00.1201232332590.8772@swampdragon.chaosbits.net
    [ Mostly harmless. ]
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

diff --git a/arch/x86/boot/compressed/misc.c b/arch/x86/boot/compressed/misc.c
index 3a19d04cebeb..7116dcba0c9e 100644
--- a/arch/x86/boot/compressed/misc.c
+++ b/arch/x86/boot/compressed/misc.c
@@ -321,6 +321,8 @@ static void parse_elf(void *output)
 		default: /* Ignore other PT_* */ break;
 		}
 	}
+
+	free(phdrs);
 }
 
 asmlinkage void decompress_kernel(void *rmode, memptr heap,

