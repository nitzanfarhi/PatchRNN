commit 331995e78385a0b9860f4c4c1766e842e61c450a
Author: Uwe Kleine-König <Uwe.Kleine-Koenig@digi.com>
Date:   Fri Jul 11 11:10:36 2008 +0200

    UIO: uio_pdrv: fix memory leak
    
    Thanks to Magnus Damm for pointing that out.
    
    Signed-off-by: Uwe Kleine-König <Uwe.Kleine-Koenig@digi.com>
    Cc: Magnus Damm <magnus.damm@gmail.com>
    Acked-by: Hans J. Koch <hjk@linutronix.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/drivers/uio/uio_pdrv.c b/drivers/uio/uio_pdrv.c
index 5d0d2e85d982..aa3bff8f93ab 100644
--- a/drivers/uio/uio_pdrv.c
+++ b/drivers/uio/uio_pdrv.c
@@ -88,6 +88,8 @@ static int uio_pdrv_remove(struct platform_device *pdev)
 
 	uio_unregister_device(pdata->uioinfo);
 
+	kfree(pdata);
+
 	return 0;
 }
 

