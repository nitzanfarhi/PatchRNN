commit aa3ee5f569fda51e54c224c0df60e187e9c5e582
Author: Axel Lin <axel.lin@ingics.com>
Date:   Sat Sep 26 17:15:47 2015 +0800

    dmaengine: zxdma: Fix off-by-one for testing valid pchan request
    
    The valid pchan range is 0 ~ d->dma_requests - 1.
    
    Signed-off-by: Axel Lin <axel.lin@ingics.com>
    Reviewed-by: Jun Nie <jun.nie@linaro.org>
    Signed-off-by: Vinod Koul <vinod.koul@intel.com>

diff --git a/drivers/dma/zx296702_dma.c b/drivers/dma/zx296702_dma.c
index 39915a6b7986..c017fcd8e07c 100644
--- a/drivers/dma/zx296702_dma.c
+++ b/drivers/dma/zx296702_dma.c
@@ -739,7 +739,7 @@ static struct dma_chan *zx_of_dma_simple_xlate(struct of_phandle_args *dma_spec,
 	struct dma_chan *chan;
 	struct zx_dma_chan *c;
 
-	if (request > d->dma_requests)
+	if (request >= d->dma_requests)
 		return NULL;
 
 	chan = dma_get_any_slave_channel(&d->slave);

