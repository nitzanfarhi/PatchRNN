commit ba430e0cfac25a2605b938b94f4a3b6c1a77e1d8
Author: Reimar DÃ¶ffinger <Reimar.Doeffinger@gmx.de>
Date:   Sun Sep 9 18:14:11 2007 +0000

    dsputil must be initialized before calling rtjpeg init.
    
    Originally committed as revision 10463 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavcodec/nuv.c b/libavcodec/nuv.c
index 79b0d50a62..d157383672 100644
--- a/libavcodec/nuv.c
+++ b/libavcodec/nuv.c
@@ -247,9 +247,9 @@ static int decode_init(AVCodecContext *avctx) {
     c->codec_frameheader = avctx->codec_tag == MKTAG('R', 'J', 'P', 'G');
     if (avctx->extradata_size)
         get_quant(avctx, c, avctx->extradata, avctx->extradata_size);
+    dsputil_init(&c->dsp, avctx);
     if (!codec_reinit(avctx, avctx->width, avctx->height, -1))
         return 1;
-    dsputil_init(&c->dsp, avctx);
     return 0;
 }
 

