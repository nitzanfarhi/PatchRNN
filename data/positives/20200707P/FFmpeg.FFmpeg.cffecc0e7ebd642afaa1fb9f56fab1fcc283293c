commit cffecc0e7ebd642afaa1fb9f56fab1fcc283293c
Author: Diego Biurrun <diego@biurrun.de>
Date:   Wed Nov 6 22:06:15 2013 +0100

    avfilter/graphparser: Directly free filter memory if initialization fails

diff --git a/libavfilter/graphparser.c b/libavfilter/graphparser.c
index 00764b68b6..e20dd626bc 100644
--- a/libavfilter/graphparser.c
+++ b/libavfilter/graphparser.c
@@ -130,6 +130,7 @@ static int create_filter(AVFilterContext **filt_ctx, AVFilterGraph *ctx, int ind
         if (args)
             av_log(log_ctx, AV_LOG_ERROR, " with args '%s'", args);
         av_log(log_ctx, AV_LOG_ERROR, "\n");
+        avfilter_free(*filt_ctx);
         return ret;
     }
 

