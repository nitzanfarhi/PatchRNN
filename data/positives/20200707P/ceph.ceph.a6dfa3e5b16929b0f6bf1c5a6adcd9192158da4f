commit a6dfa3e5b16929b0f6bf1c5a6adcd9192158da4f
Author: Sage Weil <sage@inktank.com>
Date:   Fri Aug 24 16:11:16 2012 -0700

    rgw: fix use-after-free
    
    Coverity cid 717405
    Signed-off-by: Sage Weil <sage@inktank.com>

diff --git a/src/rgw/rgw_main.cc b/src/rgw/rgw_main.cc
index 09ca073462..fdcb381d77 100644
--- a/src/rgw/rgw_main.cc
+++ b/src/rgw/rgw_main.cc
@@ -327,9 +327,9 @@ done:
   handler->put_op(op);
   rgwstore->destroy_context(s->obj_ctx);
   FCGX_Finish_r(fcgx);
-  delete req;
 
   dout(1) << "====== req done req=" << hex << req << dec << " http_status=" << http_ret << " ======" << dendl;
+  delete req;
 }
 
 class C_InitTimeout : public Context {

