commit 5275653fa12b30cea6e309cc03e518bfd00073a5
Author: Stelian Pop <stelian@popies.net>
Date:   Thu Apr 3 14:51:41 2008 +0200

    atmel_usba_udc: Add missing kfree() in usba_udc_remove()
    
    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

diff --git a/drivers/usb/gadget/atmel_usba_udc.c b/drivers/usb/gadget/atmel_usba_udc.c
index 71d3c5171f89..ddb7301a0138 100644
--- a/drivers/usb/gadget/atmel_usba_udc.c
+++ b/drivers/usb/gadget/atmel_usba_udc.c
@@ -1998,6 +1998,7 @@ static int __exit usba_udc_remove(struct platform_device *pdev)
 		gpio_free(udc->vbus_pin);
 
 	free_irq(udc->irq, udc);
+	kfree(usba_ep);
 	iounmap(udc->fifo);
 	iounmap(udc->regs);
 	clk_put(udc->hclk);

