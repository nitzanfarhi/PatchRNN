commit db8a53d86a71c948bd41dd12d1ff1d3351ec2746
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Fri Dec 13 00:27:25 2013 +0100

    avformat/sdp: fix memleak on error
    
    Fixes CID700640
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libavformat/sdp.c b/libavformat/sdp.c
index 0124218495..f844e4df5a 100644
--- a/libavformat/sdp.c
+++ b/libavformat/sdp.c
@@ -532,6 +532,7 @@ static char *sdp_write_media_attributes(char *buff, int size, AVCodecContext *c,
                 break;
             default:
                 av_log(c, AV_LOG_ERROR, "Unsupported pixel format.\n");
+                av_free(config);
                 return NULL;
             }
 

