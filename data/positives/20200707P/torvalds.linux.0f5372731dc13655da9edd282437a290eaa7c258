commit 0f5372731dc13655da9edd282437a290eaa7c258
Author: Tony Lindgren <tony@atomide.com>
Date:   Thu Jan 15 14:45:11 2015 -0800

    net: davinci_emac: Free clock after checking the frequency
    
    We only use clk_get() to get the frequency, the rest is done by
    the runtime PM calls. Let's free the clock too.
    
    Cc: Brian Hutchinson <b.hutchman@gmail.com>
    Cc: Felipe Balbi <balbi@ti.com>
    Signed-off-by: Tony Lindgren <tony@atomide.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/drivers/net/ethernet/ti/davinci_emac.c b/drivers/net/ethernet/ti/davinci_emac.c
index 5df339e9f67c..59fdcdd43ed1 100644
--- a/drivers/net/ethernet/ti/davinci_emac.c
+++ b/drivers/net/ethernet/ti/davinci_emac.c
@@ -1894,6 +1894,7 @@ static int davinci_emac_probe(struct platform_device *pdev)
 		return -EBUSY;
 	}
 	emac_bus_frequency = clk_get_rate(emac_clk);
+	devm_clk_put(&pdev->dev, emac_clk);
 
 	/* TODO: Probe PHY here if possible */
 

