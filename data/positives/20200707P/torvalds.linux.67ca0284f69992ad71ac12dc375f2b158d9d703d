commit 67ca0284f69992ad71ac12dc375f2b158d9d703d
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Sun Apr 23 19:59:23 2006 +0200

    [PATCH] USB: Resource leak fix for whiteheat driver
    
    We may return from drivers/usb/serial/whiteheat.c::whiteheat_attach()
    without freeing `result' if we leave via the no_firmware: label.
    
    Spotted by the coverity checker as #670
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/drivers/usb/serial/whiteheat.c b/drivers/usb/serial/whiteheat.c
index 557411c6e7c7..f806553cd9a4 100644
--- a/drivers/usb/serial/whiteheat.c
+++ b/drivers/usb/serial/whiteheat.c
@@ -508,6 +508,7 @@ static int whiteheat_attach (struct usb_serial *serial)
 	err("%s: Unable to retrieve firmware version, try replugging\n", serial->type->description);
 	err("%s: If the firmware is not running (status led not blinking)\n", serial->type->description);
 	err("%s: please contact support@connecttech.com\n", serial->type->description);
+	kfree(result);
 	return -ENODEV;
 
 no_command_private:

