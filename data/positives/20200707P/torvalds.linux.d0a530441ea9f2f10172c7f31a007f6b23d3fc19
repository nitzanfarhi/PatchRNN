commit d0a530441ea9f2f10172c7f31a007f6b23d3fc19
Author: Michael Hennerich <michael.hennerich@analog.com>
Date:   Thu Oct 7 13:27:37 2010 +0200

    staging: iio: iio_ring_rip_outer return immediately if rip_lots returns <= 0
    
    Acked-by: Jonathan Cameron <jic23@cam.ac.uk>
    Signed-off-by: Michael Hennerich <michael.hennerich@analog.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/drivers/staging/iio/industrialio-ring.c b/drivers/staging/iio/industrialio-ring.c
index edcf6be99ccb..d393ace0b41b 100644
--- a/drivers/staging/iio/industrialio-ring.c
+++ b/drivers/staging/iio/industrialio-ring.c
@@ -105,7 +105,7 @@ static ssize_t iio_ring_rip_outer(struct file *filp, char __user *buf,
 		return -EINVAL;
 	copied = rb->access.rip_lots(rb, count, &data, &dead_offset);
 
-	if (copied < 0) {
+	if (copied <= 0) {
 		ret = copied;
 		goto error_ret;
 	}

