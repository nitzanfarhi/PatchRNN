commit 63e557a51174f866246fccfa4470735fd4ca80ae
Author: ariane <ariane@openbsd.org>
Date:   Mon Jul 18 16:50:56 2011 +0000

    Allocations fit if [the end of free space] >= [the end of allocated space].
    Change > in comparison to >=.

diff --git a/sys/kern/subr_hibernate.c b/sys/kern/subr_hibernate.c
index 62843f6871f..ea15e4fc82b 100644
--- a/sys/kern/subr_hibernate.c
+++ b/sys/kern/subr_hibernate.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: subr_hibernate.c,v 1.14 2011/07/18 16:48:26 ariane Exp $	*/
+/*	$OpenBSD: subr_hibernate.c,v 1.15 2011/07/18 16:50:56 ariane Exp $	*/
 
 /*
  * Copyright (c) 2011 Ariane van der Steldt <ariane@stack.nl>
@@ -435,7 +435,7 @@ retry:
 			pg_addr = VM_PAGE_TO_PHYS(pig_pg);
 			piglet_addr = (pg_addr + (align - 1)) & ~(align - 1);
 
-			if (atop(pg_addr) + pig_pg->fpgsz >
+			if (atop(pg_addr) + pig_pg->fpgsz >=
 			    atop(piglet_addr) + sz) {
 				goto found;
 			}

