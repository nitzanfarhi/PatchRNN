commit 032ab7f99f5f4d2b98fbb32dd750eb4358bfd7ea
Author: aland <aland>
Date:   Mon Jan 21 07:46:01 2008 +0000

            request may be NULL

diff --git a/src/main/util.c b/src/main/util.c
index 6cd7a77a7..bfd3e48a4 100644
--- a/src/main/util.c
+++ b/src/main/util.c
@@ -142,6 +142,8 @@ void *request_data_get(REQUEST *request,
 {
 	request_data_t **last;
 
+	if (!request) return NULL;
+
 	for (last = &(request->data); *last != NULL; last = &((*last)->next)) {
 		if (((*last)->unique_ptr == unique_ptr) &&
 		    ((*last)->unique_int == unique_int)) {

