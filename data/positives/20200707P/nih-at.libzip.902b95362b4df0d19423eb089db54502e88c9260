commit 902b95362b4df0d19423eb089db54502e88c9260
Author: Thomas Klausner <tk@giga.or.at>
Date:   Mon Feb 12 11:55:36 2018 +0100

    Don't call ZIP_SOURCE_COMMAND_READ with length 0.

diff --git a/lib/zip_source_read.c b/lib/zip_source_read.c
index 2e95b97..83514c6 100644
--- a/lib/zip_source_read.c
+++ b/lib/zip_source_read.c
@@ -56,6 +56,10 @@ zip_source_read(zip_source_t *src, void *data, zip_uint64_t len) {
 	return 0;
     }
 
+    if (len == 0) {
+      return 0;
+    }
+
     bytes_read = 0;
     while (bytes_read < len) {
 	if ((n = _zip_source_call(src, (zip_uint8_t *)data + bytes_read, len - bytes_read, ZIP_SOURCE_READ)) < 0) {

