commit d495d436f431e9690ace7723b14506b48b1aa1f1
Author: Daniel Baumann <mail@daniel-baumann.ch>
Date:   Tue Jun 11 18:41:41 2013 +0200

    Using memcpy instead of strcpy to fix segfault with fortify, thanks to Dave Reisner <falconindy@jabber.org>.
    
    Signed-off-by: Daniel Baumann <mail@daniel-baumann.ch>

diff --git a/src/mkfs.fat.c b/src/mkfs.fat.c
index 6f2503a..d96f53d 100644
--- a/src/mkfs.fat.c
+++ b/src/mkfs.fat.c
@@ -743,10 +743,10 @@ static void setup_tables(void)
 	 * differently: The jump code is only 2 bytes (and m68k machine code
 	 * :-), then 6 bytes filler (ignored), then 3 byte serial number. */
 	bs.boot_jump[2] = 'm';
-	strcpy((char *)bs.system_id, "kdosf");
+	memcpy((char *)bs.system_id, "kdosf", strlen("kdosf"));
     }
     else
-	strcpy((char *)bs.system_id, "mkfs.fat");
+	memcpy((char *)bs.system_id, "mkfs.fat", strlen("mkfs.fat"));
     if (sectors_per_cluster)
 	bs.cluster_size = (char)sectors_per_cluster;
     if (size_fat == 32) {

