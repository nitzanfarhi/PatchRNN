commit 872419b69b785100e3b8722d41e32a4470f32337
Author: Greg Hudson <ghudson@mit.edu>
Date:   Sat Oct 2 11:48:06 2010 +0000

    In the krb5_kuserok implementation, fix an unintentional type change
    to "gobble" (was an int, was accidentally changed to a char) which
    could result in an infinite loop.
    
    ticket: 6792
    
    git-svn-id: svn://anonsvn.mit.edu/krb5/trunk@24413 dc483132-0cff-0310-8789-dd5450dbe970

diff --git a/src/lib/krb5/os/kuserok.c b/src/lib/krb5/os/kuserok.c
index 985bb1412..e1619f394 100644
--- a/src/lib/krb5/os/kuserok.c
+++ b/src/lib/krb5/os/kuserok.c
@@ -93,10 +93,10 @@ get_k5login_filename(krb5_context context, const char *luser,
 static enum result
 k5login_ok(krb5_context context, krb5_principal principal, const char *luser)
 {
-    int authoritative = TRUE;
+    int authoritative = TRUE, gobble;
     enum result result = REJECT;
     char *filename = NULL, *princname = NULL;
-    char gobble, *newline, linebuf[BUFSIZ], pwbuf[BUFSIZ];
+    char *newline, linebuf[BUFSIZ], pwbuf[BUFSIZ];
     struct stat sbuf;
     struct passwd pwx, *pwd;
     FILE *fp = NULL;

