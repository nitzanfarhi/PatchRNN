commit 58e9ff56382bdce340d50b6ff22c422dc617106c
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Mar 20 16:52:32 2006 +0000

    [ARM] Use kcalloc to allocate counter_config array rather than kmalloc
    
    We need this to be zero initialised.  Since this is an array, use kcalloc
    rather than kzalloc or kmalloc.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

diff --git a/arch/arm/oprofile/common.c b/arch/arm/oprofile/common.c
index de72902ad0ca..6f833358cd06 100644
--- a/arch/arm/oprofile/common.c
+++ b/arch/arm/oprofile/common.c
@@ -140,7 +140,7 @@ int __init oprofile_arch_init(struct oprofile_operations *ops)
 		if (ret < 0)
 			return ret;
 
-		counter_config = kmalloc(sizeof(struct op_counter_config) * spec->num_counters,
+		counter_config = kcalloc(spec->num_counters, sizeof(struct op_counter_config),
 					 GFP_KERNEL);
 		if (!counter_config)
 			return -ENOMEM;

