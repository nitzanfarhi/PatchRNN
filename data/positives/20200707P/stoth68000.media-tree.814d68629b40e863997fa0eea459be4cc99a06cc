commit 814d68629b40e863997fa0eea459be4cc99a06cc
Author: David Teigland <teigland@redhat.com>
Date:   Mon Jun 26 00:27:31 2006 -0700

    [PATCH] dm table split_args: handle no input
    
    Return sense if dm_split_args is called with a NULL input parameter.
    
    Signed-off-by: David Teigland <teigland@redhat.com>
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

diff --git a/drivers/md/dm-table.c b/drivers/md/dm-table.c
index b6183eda8106..10c9439635ca 100644
--- a/drivers/md/dm-table.c
+++ b/drivers/md/dm-table.c
@@ -590,6 +590,12 @@ int dm_split_args(int *argc, char ***argvp, char *input)
 	unsigned array_size = 0;
 
 	*argc = 0;
+
+	if (!input) {
+		*argvp = NULL;
+		return 0;
+	}
+
 	argv = realloc_argv(&array_size, argv);
 	if (!argv)
 		return -ENOMEM;

