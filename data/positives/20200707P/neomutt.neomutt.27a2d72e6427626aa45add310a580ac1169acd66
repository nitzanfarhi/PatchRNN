commit 27a2d72e6427626aa45add310a580ac1169acd66
Author: Thomas Roessler <roessler@does-not-exist.org>
Date:   Tue Nov 14 16:56:42 2000 +0000

    Try fixing a possible segmentation fault.  I'm not entirely sure how
    I produced it, but it's at least obvious where it happened.

diff --git a/curs_main.c b/curs_main.c
index 902a663eb..2bb2cd67f 100644
--- a/curs_main.c
+++ b/curs_main.c
@@ -439,7 +439,7 @@ int mutt_index_menu (void)
       imap_allow_reopen (Context);
 #endif
     
-      index_hint = (Context->vcount && menu->current < Context->vcount) ? CURHDR->index : 0;
+      index_hint = (Context->vcount && menu->current >= 0 && menu->current < Context->vcount) ? CURHDR->index : 0;
 
       if ((check = mx_check_mailbox (Context, &index_hint, 0)) < 0)
       {

