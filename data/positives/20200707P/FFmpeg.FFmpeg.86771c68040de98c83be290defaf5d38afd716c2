commit 86771c68040de98c83be290defaf5d38afd716c2
Author: Baptiste Coudurier <baptiste.coudurier@gmail.com>
Date:   Sun Jun 22 02:34:33 2008 +0000

    free pb
    
    Originally committed as revision 13872 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/ffserver.c b/ffserver.c
index fd1418f5b6..493d22e2ed 100644
--- a/ffserver.c
+++ b/ffserver.c
@@ -2500,6 +2500,7 @@ static int http_receive_data(HTTPContext *c)
             /* Now we have the actual streams */
             if (s->nb_streams != feed->nb_streams) {
                 av_close_input_stream(s);
+                av_free(pb);
                 goto fail;
             }
 
@@ -2508,6 +2509,7 @@ static int http_receive_data(HTTPContext *c)
                        s->streams[i]->codec, sizeof(AVCodecContext));
 
             av_close_input_stream(s);
+            av_free(pb);
         }
         c->buffer_ptr = c->buffer;
     }

