commit 944ee54c8ade27b83a02f1be1eb0af17ebd2eb09
Author: Andreas Granig <andreas.granig@inode.info>
Date:   Fri Jun 23 10:15:29 2006 +0000

    Fixed two mem-leaks in Path-handling.
    
    
    git-svn-id: https://openser.svn.sourceforge.net/svnroot/openser/trunk@924 689a6050-402a-0410-94f2-e92a70836424

diff --git a/modules_k/registrar/path.c b/modules_k/registrar/path.c
index 2f5274a64..3d7502d40 100644
--- a/modules_k/registrar/path.c
+++ b/modules_k/registrar/path.c
@@ -90,9 +90,12 @@ int build_path_vector(struct sip_msg *_m, str *path, str **received)
 				goto error;
 			}
 			for (;params; params = params->next) {
-				if (params->type == P_RECEIVED)
+				if (params->type == P_RECEIVED) {
 					*received = &hooks.contact.received->body;
+					break;
+				}
 			}
+			free_params(params);
 		}
 		free_rr(&route);
 	}

