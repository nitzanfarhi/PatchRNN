commit 9ecddfc8af288227421b7a1f284c96436cae226d
Author: Danny Auble <da@schedmd.com>
Date:   Wed Oct 30 13:33:38 2013 -0700

    Make sure we NULL the job_ptr to avoid issues

diff --git a/src/slurmctld/step_mgr.c b/src/slurmctld/step_mgr.c
index 65ce4f0719..4e469c77ce 100644
--- a/src/slurmctld/step_mgr.c
+++ b/src/slurmctld/step_mgr.c
@@ -294,6 +294,7 @@ static void _free_step_rec(struct step_record *step_ptr)
 		list_destroy(step_ptr->gres_list);
 	select_g_select_jobinfo_free(step_ptr->select_jobinfo);
 	xfree(step_ptr->ext_sensors);
+	step_ptr->job_ptr = NULL;
 	xfree(step_ptr);
 }
 

