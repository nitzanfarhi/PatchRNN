commit 7b5be147ee8ddbbddf866cb94600fde65f12f621
Author: Roger Dingledine <arma@torproject.org>
Date:   Thu Dec 18 05:15:11 2008 +0000

    fix a minor memory leak if we start up as a relay but don't
    have any files in the cached-status/ directory
    
    
    svn:r17671

diff --git a/src/or/networkstatus.c b/src/or/networkstatus.c
index 25db1e6de..e1488adfc 100644
--- a/src/or/networkstatus.c
+++ b/src/or/networkstatus.c
@@ -131,6 +131,7 @@ router_reload_v2_networkstatus(void)
   } else if (!smartlist_len(entries) && maybe_delete) {
     rmdir(filename);
     tor_free(filename);
+    smartlist_free(entries);
     return 0;
   }
   tor_free(filename);

