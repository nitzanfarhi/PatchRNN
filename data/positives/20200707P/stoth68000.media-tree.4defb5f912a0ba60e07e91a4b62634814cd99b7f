commit 4defb5f912a0ba60e07e91a4b62634814cd99b7f
Author: Colin Ian King <colin.king@canonical.com>
Date:   Fri Dec 2 15:18:06 2016 +0000

    orangefs: fix memory leak of string 'new' on exit path
    
    allocates string 'new' is not free'd on the exit path when
    cdm_element_count <= 0. Fix this by kfree'ing it.
    
    Fixes CoverityScan CID#1375923 "Resource Leak"
    
    Signed-off-by: Colin Ian King <colin.king@canonical.com>
    Signed-off-by: Mike Marshall <hubcap@omnibond.com>

diff --git a/fs/orangefs/orangefs-debugfs.c b/fs/orangefs/orangefs-debugfs.c
index 38887cc5577f..b5dbc9c6530c 100644
--- a/fs/orangefs/orangefs-debugfs.c
+++ b/fs/orangefs/orangefs-debugfs.c
@@ -671,8 +671,10 @@ int orangefs_prepare_debugfs_help_string(int at_boot)
 		 */
 		cdm_element_count =
 			orangefs_prepare_cdm_array(client_debug_array_string);
-		if (cdm_element_count <= 0)
+		if (cdm_element_count <= 0) {
+			kfree(new);
 			goto out;
+		}
 
 		for (i = 0; i < cdm_element_count; i++) {
 			strlcat(new, "\t", string_size);

