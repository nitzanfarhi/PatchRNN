commit 09cc2207b265d51dcbc28279623bf9c597fa3b46
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri May 31 17:05:40 2013 +0200

    pua: release lock on not finding temp dialog
    
    - patch by Halina Nowak

diff --git a/modules/pua/hash.c b/modules/pua/hash.c
index 9ad169b46..e3dea9995 100644
--- a/modules/pua/hash.c
+++ b/modules/pua/hash.c
@@ -334,8 +334,10 @@ int convert_temporary_dialog(ua_pres_t *dialog)
 	temp_dialog = get_temporary_dialog(dialog, hash_code);
 	if (temp_dialog)
 		delete_htable(temp_dialog, hash_code);
-	else
+	else {
+		lock_release(&HashT->p_records[hash_code].lock);
 		return -1;
+	}
 
 	insert_htable(dialog, hash_code);
 

