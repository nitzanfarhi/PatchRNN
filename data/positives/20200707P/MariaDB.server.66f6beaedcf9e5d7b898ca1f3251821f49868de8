commit 66f6beaedcf9e5d7b898ca1f3251821f49868de8
Author: marko <>
Date:   Tue Jul 4 21:34:25 2006 +0000

    mlog_parse_index(): Remove an off-by-one error in the bounds check that
    would cause the crash recovery of MLOG_COMP_PAGE_REORGANIZE to fail.
    (Bug #20855)

diff --git a/mtr/mtr0log.c b/mtr/mtr0log.c
index 37adfc83a9f..cc9afc4127e 100644
--- a/mtr/mtr0log.c
+++ b/mtr/mtr0log.c
@@ -536,7 +536,7 @@ mlog_parse_index(
 		n_uniq = mach_read_from_2(ptr);
 		ptr += 2;
 		ut_ad(n_uniq <= n);
-		if (end_ptr < ptr + (n + 1) * 2) {
+		if (end_ptr < ptr + n * 2) {
 			return(NULL);
 		}
 	} else {

