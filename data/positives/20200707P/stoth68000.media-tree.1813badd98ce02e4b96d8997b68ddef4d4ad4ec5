commit 1813badd98ce02e4b96d8997b68ddef4d4ad4ec5
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 11 14:36:52 2012 -0400

    NFSv4.1: Use kcalloc() to allocate zeroed arrays instead of kzalloc()
    
    Don't circumvent the array size checks.
    
    Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

diff --git a/fs/nfs/nfs4filelayout.c b/fs/nfs/nfs4filelayout.c
index e7aee566861d..2e45fd9c02a3 100644
--- a/fs/nfs/nfs4filelayout.c
+++ b/fs/nfs/nfs4filelayout.c
@@ -750,7 +750,7 @@ filelayout_decode_layout(struct pnfs_layout_hdr *flo,
 		goto out_err;
 
 	if (fl->num_fh > 0) {
-		fl->fh_array = kzalloc(fl->num_fh * sizeof(struct nfs_fh *),
+		fl->fh_array = kcalloc(fl->num_fh, sizeof(fl->fh_array[0]),
 				       gfp_flags);
 		if (!fl->fh_array)
 			goto out_err;

