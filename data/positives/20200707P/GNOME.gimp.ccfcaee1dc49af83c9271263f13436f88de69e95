commit ccfcaee1dc49af83c9271263f13436f88de69e95
Author: Maurits Rijk <m.rijk@chello.nl>
Date:   Tue May 31 18:17:02 2005 +0000

    plug memory leak: Fixes #305990
    
    2005-05-31  Maurits Rijk  <m.rijk@chello.nl>
    
            * plug-ins/gfig/gfig-dobject.c: plug memory leak: Fixes #305990

diff --git a/plug-ins/gfig/gfig-dobject.c b/plug-ins/gfig/gfig-dobject.c
index 81565de806..e5aba25f27 100644
--- a/plug-ins/gfig/gfig-dobject.c
+++ b/plug-ins/gfig/gfig-dobject.c
@@ -136,6 +136,7 @@ d_load_object (gchar *desc,
               if (sscanf (buf, "%d", &new_obj->type_data) != 1)
                 {
                   g_message ("Error while loading object (no type data)");
+                  g_free (new_obj);
                   return NULL;
                 }
 
@@ -143,6 +144,7 @@ d_load_object (gchar *desc,
               if (strcmp ("</EXTRA>", buf))
                 {
                   g_message ("Syntax error while loading object");
+                  g_free (new_obj);
                   return NULL;
                 }
               /* Go around and read the last line */

