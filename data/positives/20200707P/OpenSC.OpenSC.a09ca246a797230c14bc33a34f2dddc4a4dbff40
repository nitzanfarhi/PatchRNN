commit a09ca246a797230c14bc33a34f2dddc4a4dbff40
Author: Andreas Kemnade <kemnade@unicept.de>
Date:   Mon May 11 14:17:54 2015 +0200

    libopensc: initialize value returned by sc_select_file
    
    several places in the code expect sc_select_file to set *file_out to NULL
    in case of failure. Adjust the function to behave like this.
    
    Fixes #460

diff --git a/src/libopensc/iso7816.c b/src/libopensc/iso7816.c
index 83619300..19f9e7e3 100644
--- a/src/libopensc/iso7816.c
+++ b/src/libopensc/iso7816.c
@@ -475,6 +475,9 @@ iso7816_select_file(struct sc_card *card, const struct sc_path *in_path, struct
 	pathlen = in_path->len;
 	pathtype = in_path->type;
 
+	if (file_out != NULL) {
+		*file_out = NULL;
+	}
 	if (in_path->aid.len) {
 		if (!pathlen) {
 			memcpy(path, in_path->aid.value, in_path->aid.len);

