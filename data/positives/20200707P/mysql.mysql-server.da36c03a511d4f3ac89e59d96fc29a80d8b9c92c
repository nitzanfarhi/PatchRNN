commit da36c03a511d4f3ac89e59d96fc29a80d8b9c92c
Author: dlenev@brandersnatch.localdomain <>
Date:   Tue Aug 17 12:05:34 2004 +0400

    Portablity fix.
    hpux11 compiler dislikes empty array initializers.

diff --git a/sql/item_timefunc.cc b/sql/item_timefunc.cc
index 73aec7e8bdd..5d9a6dd9490 100644
--- a/sql/item_timefunc.cc
+++ b/sql/item_timefunc.cc
@@ -113,10 +113,15 @@ static bool make_datetime(date_time_format_types format, TIME *ltime,
 }
 
 
-/* Date formats corresponding to compound %r and %T conversion specifiers */
-static DATE_TIME_FORMAT time_ampm_format= {{}, '\0', 0,
+/*
+  Date formats corresponding to compound %r and %T conversion specifiers
+
+  Note: We should init at least first element of "positions" array
+        (first member) or hpux11 compiler will die horribly.
+*/
+static DATE_TIME_FORMAT time_ampm_format= {{0}, '\0', 0,
                                            {(char *)"%I:%i:%S %p", 11}};
-static DATE_TIME_FORMAT time_24hrs_format= {{}, '\0', 0,
+static DATE_TIME_FORMAT time_24hrs_format= {{0}, '\0', 0,
                                             {(char *)"%H:%i:%S", 8}};
 
 /*

