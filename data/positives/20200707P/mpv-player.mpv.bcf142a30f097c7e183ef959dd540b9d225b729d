commit bcf142a30f097c7e183ef959dd540b9d225b729d
Author: nicodvb <nicodvb@b3059339-0415-0410-9bf9-f77b7e298cf2>
Date:   Wed Dec 12 22:54:20 2007 +0000

    fix memleaks; patch by andrew calkin from gmail com
    
    git-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@25383 b3059339-0415-0410-9bf9-f77b7e298cf2

diff --git a/stream/stream_dvb.c b/stream/stream_dvb.c
index 8f1c2806c4..f3d023d476 100644
--- a/stream/stream_dvb.c
+++ b/stream/stream_dvb.c
@@ -796,9 +796,15 @@ dvb_config_t *dvb_get_config(void)
 		}
 		
 		if((access(conf_file, F_OK | R_OK) != 0))
+		{
+			if(conf_file)
+				free(conf_file);
 			conf_file = get_path("channels.conf");
+		}
 
 		list = dvb_get_channels(conf_file, type);
+		if(conf_file)
+			free(conf_file);
 		if(list == NULL)
 			continue;
 		

