commit e238598094567a22919cbea72b8af7f6776ce8ba
Author: jasper <jasper@openbsd.org>
Date:   Wed Apr 28 10:05:28 2010 +0000

    - plug memleak (in #if 0'd code)
    
    ok pyr@

diff --git a/usr.sbin/ypldap/aldap.c b/usr.sbin/ypldap/aldap.c
index 3779cba4ccc..067e7ffdcb9 100644
--- a/usr.sbin/ypldap/aldap.c
+++ b/usr.sbin/ypldap/aldap.c
@@ -1,5 +1,5 @@
-/*	$Id: aldap.c,v 1.22 2010/02/07 13:04:25 blambert Exp $ */
-/*	$OpenBSD: aldap.c,v 1.22 2010/02/07 13:04:25 blambert Exp $ */
+/*	$Id: aldap.c,v 1.23 2010/04/28 10:05:28 jasper Exp $ */
+/*	$OpenBSD: aldap.c,v 1.23 2010/04/28 10:05:28 jasper Exp $ */
 
 /*
  * Copyright (c) 2008 Alexander Schrijver <aschrijver@openbsd.org>
@@ -546,6 +546,7 @@ aldap_parse_url(char *url, struct aldap_url *lu)
 	if (p)
 		lu->filter = p;
 done:
+	free(url);
 	return (1);
 fail:
 	free(lu->buffer);

