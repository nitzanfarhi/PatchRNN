commit 153458ff7ed5949cd5b07a2355a34aad9891ad98
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Mon Jan 4 21:54:08 2010 +0100

    mwl8k: prevent freeing free IRQ if ieee80211_register_hw() fails
    
    Signed-off-by: Lennert Buytenhek <buytenh@marvell.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

diff --git a/drivers/net/wireless/mwl8k.c b/drivers/net/wireless/mwl8k.c
index bfaa7911b336..2c286d18bae3 100644
--- a/drivers/net/wireless/mwl8k.c
+++ b/drivers/net/wireless/mwl8k.c
@@ -3501,7 +3501,7 @@ static int __devinit mwl8k_probe(struct pci_dev *pdev,
 	if (rc) {
 		printk(KERN_ERR "%s: Cannot register device\n",
 		       wiphy_name(hw->wiphy));
-		goto err_free_irq;
+		goto err_free_queues;
 	}
 
 	printk(KERN_INFO "%s: %s v%d, %pM, %s firmware %u.%u.%u.%u\n",

