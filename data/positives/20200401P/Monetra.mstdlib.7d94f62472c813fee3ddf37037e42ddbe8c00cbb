commit 7d94f62472c813fee3ddf37037e42ddbe8c00cbb
Author: John Schember <john@nachtimwald.com>
Date:   Mon Oct 23 11:45:19 2017 -0400

    Fix crash in hash_u64u64 when derefencing value.

diff --git a/base/hash/m_hash_u64u64.c b/base/hash/m_hash_u64u64.c
index ba07cad6d..57d40f5f8 100644
--- a/base/hash/m_hash_u64u64.c
+++ b/base/hash/m_hash_u64u64.c
@@ -103,7 +103,7 @@ M_bool M_hash_u64u64_get(const M_hash_u64u64_t *h, M_uint64 key, M_uint64 *value
 
 	retval = M_hashtable_get((const M_hashtable_t *)h, &key, &outval);
 
-	if (value != NULL)
+	if (retval && value != NULL)
 		*value = *(M_uint64 *)outval;
 
 	return retval;
@@ -131,7 +131,7 @@ M_bool M_hash_u64u64_multi_get(const M_hash_u64u64_t *h, M_uint64 key, size_t id
 
 	retval = M_hashtable_multi_get((const M_hashtable_t *)h, &key, idx, &outval);
 
-	if (value != NULL)
+	if (retval && value != NULL)
 		*value = *(M_uint64 *)outval;
 
 	return retval;

