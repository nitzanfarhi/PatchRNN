commit ed4caf5f1a6ea7214b24b4d28f62eb5b8af4d6a7
Author: Timo Sirainen <tss@iki.fi>
Date:   Sun Dec 8 22:30:10 2013 +0200

    fts: Fixed crash with some search queries in empty mailbox.

diff --git a/src/plugins/fts/fts-search.c b/src/plugins/fts/fts-search.c
index 59ffa3c52..0918febd9 100644
--- a/src/plugins/fts/fts-search.c
+++ b/src/plugins/fts/fts-search.c
@@ -23,6 +23,8 @@ uid_range_to_seqs(struct fts_search_context *fctx,
 	if (!array_is_created(seq_range))
 		p_array_init(seq_range, fctx->result_pool, count);
 	for (i = 0; i < count; i++) {
+		if (range[i].seq1 > range[i].seq2)
+			continue;
 		mailbox_get_seq_range(fctx->box, range[i].seq1, range[i].seq2,
 				      &seq1, &seq2);
 		if (seq1 != 0)

