commit a744064c4155bde063b9e8a47699542be3b8e5eb
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun Feb 2 01:47:36 2014 +0100

    avcodec/tiff: reset geotag_count in free_geotags()
    
    Fixes null pointer dereference
    Fixes: signal_sigsegv_19d922e_3688_cov_1577641655_aletrek_tiff.mov
    Found-by: Mateusz "j00ru" Jurczyk and Gynvael Coldwind
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libavcodec/tiff.c b/libavcodec/tiff.c
index cd209674ca..679fd5e053 100644
--- a/libavcodec/tiff.c
+++ b/libavcodec/tiff.c
@@ -79,6 +79,7 @@ static void free_geotags(TiffContext *const s)
             av_freep(&s->geotags[i].val);
     }
     av_freep(&s->geotags);
+    s->geotag_count = 0;
 }
 
 #define RET_GEOKEY(TYPE, array, element)\

