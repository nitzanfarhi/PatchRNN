commit 58f2a9f891e15d58130eabac254d2e5d15686a77
Author: Vasil Dimov <vasil.dimov@oracle.com>
Date:   Mon Nov 24 19:25:29 2014 +0200

    Don't dereference progress if it can be NULL
    
    WL#5889 Add InnoDB events to Performance Schema's Event Stage table
    
    row_merge_insert_index_tuples() can be called with
    it's progress parameter == NULL. Don't try to dereference it in that
    case if progress reporting is not needed by the caller.

diff --git a/storage/innobase/row/row0merge.cc b/storage/innobase/row/row0merge.cc
index 0cbd9d0369c..fa4d924fef1 100644
--- a/storage/innobase/row/row0merge.cc
+++ b/storage/innobase/row/row0merge.cc
@@ -3003,7 +3003,7 @@ row_merge_insert_index_tuples(
 		mtr_t		mtr;
 
 #ifdef HAVE_PSI_STAGE_INTERFACE
-		if (i % inc_every_nth_rec == 0) {
+		if (progress != NULL && i % inc_every_nth_rec == 0) {
 			ut_stage_inc(progress);
 		}
 #endif /* HAVE_PSI_STAGE_INTERFACE */

