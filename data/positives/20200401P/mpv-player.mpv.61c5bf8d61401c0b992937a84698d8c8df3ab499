commit 61c5bf8d61401c0b992937a84698d8c8df3ab499
Author: rtogni <rtogni@b3059339-0415-0410-9bf9-f77b7e298cf2>
Date:   Mon Apr 21 20:58:20 2008 +0000

    Fix potential segfault in debug printf in expSetFilePointer
    Patch by Gianluigi Tiesi
    
    
    git-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@26486 b3059339-0415-0410-9bf9-f77b7e298cf2

diff --git a/loader/win32.c b/loader/win32.c
index 5f96b85f72..e03ee4c0a5 100644
--- a/loader/win32.c
+++ b/loader/win32.c
@@ -3666,7 +3666,7 @@ static WIN_BOOL WINAPI expWriteFile(HANDLE h,LPCVOID pv,DWORD size,LPDWORD wr,LP
 static DWORD  WINAPI expSetFilePointer(HANDLE h, LONG val, LPLONG ext, DWORD whence)
 {
     int wh;
-    dbgprintf("SetFilePointer(%d, 0x%x, 0x%x = %d, %d)\n", h, val, ext, *ext, whence);
+    dbgprintf("SetFilePointer(%d, 0x%x, 0x%x = %d, %d)\n", h, val, ext, ext ? *ext : NULL, whence);
     //why would DLL want temporary file with >2Gb size?
     switch(whence)
     {

