commit 53de8d2d73bb0832fc360ed82ea3f644703c74ac
Author: Wouter Verhelst <w@uter.be>
Date:   Fri May 26 08:28:31 2017 +0200

    ... and ensure this buffer is null-terminated, too
    
    Coverity CID#1345811
    
    Signed-off-by: Wouter Verhelst <w@uter.be>

diff --git a/nbd-server.c b/nbd-server.c
index e772c06..932ac01 100644
--- a/nbd-server.c
+++ b/nbd-server.c
@@ -3172,6 +3172,7 @@ int open_unix(const gchar *const sockname, GError **const gerror) {
 	memset(&sa, 0, sizeof(struct sockaddr_un));
 	sa.sun_family = AF_UNIX;
 	strncpy(sa.sun_path, sockname, sizeof sa.sun_path);
+	sa.sun_path[sizeof(sa.sun_path)-1] = '\0';
 	sock = socket(AF_UNIX, SOCK_STREAM, 0);
 	if(sock < 0) {
 		g_set_error(gerror, NBDS_ERR, NBDS_ERR_SOCKET,

