commit 7f675a1435ab72cc83613263f8314743dcca2023
Author: Brett Simmers <bsimmers@fb.com>
Date:   Wed Feb 11 19:52:49 2015 -0800

    Fix exception leak in tc_unwind_personality
    
    Summary: One of the paths here was resuming in the TC without deleting the
    exception object.
    
    Reviewed By: @markw65, @bertmaher
    
    Differential Revision: D1842126

diff --git a/hphp/runtime/vm/jit/unwind-x64.cpp b/hphp/runtime/vm/jit/unwind-x64.cpp
index 9645dd1e8d..52184a8683 100644
--- a/hphp/runtime/vm/jit/unwind-x64.cpp
+++ b/hphp/runtime/vm/jit/unwind-x64.cpp
@@ -262,6 +262,7 @@ tc_unwind_personality(int version,
       FTRACE(1, "Resuming TC @ {:#x}\n", resume_tc->where);
       _Unwind_SetGR(context, __builtin_eh_return_data_regno(0),
                     resume_tc->where);
+      _Unwind_DeleteException(exceptionObj);
       _Unwind_SetIP(context, uint64_t(handleSRResumeTC));
       tl_regState = VMRegState::DIRTY;
 

