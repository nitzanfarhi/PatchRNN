commit 89992670e10271e6208ca6f875c878ce90601750
Author: pancake <pancake@nopcode.org>
Date:   Wed Mar 13 12:42:05 2013 +0100

    Fix segfault in ELF parsing

diff --git a/libr/bin/format/elf/elf.c b/libr/bin/format/elf/elf.c
index 440d7fc20..91662d139 100644
--- a/libr/bin/format/elf/elf.c
+++ b/libr/bin/format/elf/elf.c
@@ -740,8 +740,8 @@ struct r_bin_elf_reloc_t* Elf_(r_bin_elf_get_relocs)(struct Elf_(r_bin_elf_obj_t
 			perror ("malloc (reloc)");
 			return NULL;
 		}
-		if (sym)
-		for (j =  0; j < nrel; j++) {
+		j = 0;
+		if (sym) for (; j < nrel; j++) {
 			idx = ELF_R_SYM (rel[j].r_info);
 			if (idx < nsym) {
 				if (sym[idx].st_name > bin->strtab_section->sh_size) {

