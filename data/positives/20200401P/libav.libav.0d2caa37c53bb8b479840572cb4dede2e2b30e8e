commit 0d2caa37c53bb8b479840572cb4dede2e2b30e8e
Author: Loren Merritt <lorenm@u.washington.edu>
Date:   Tue Sep 25 23:34:48 2007 +0000

    oops, potential overflow on really large blocks
    
    Originally committed as revision 10587 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavcodec/flacenc.c b/libavcodec/flacenc.c
index 8dd55eabe..e2357affe 100644
--- a/libavcodec/flacenc.c
+++ b/libavcodec/flacenc.c
@@ -84,7 +84,7 @@ typedef struct FlacSubframe {
     int shift;
     RiceContext rc;
     int32_t samples[FLAC_MAX_BLOCKSIZE];
-    int32_t residual[FLAC_MAX_BLOCKSIZE];
+    int32_t residual[FLAC_MAX_BLOCKSIZE+1];
 } FlacSubframe;
 
 typedef struct FlacFrame {

