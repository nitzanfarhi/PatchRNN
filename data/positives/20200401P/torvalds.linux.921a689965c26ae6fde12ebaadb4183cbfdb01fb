commit 921a689965c26ae6fde12ebaadb4183cbfdb01fb
Author: Borislav Petkov <borislav.petkov@amd.com>
Date:   Thu Sep 13 18:46:39 2012 +0200

    EDAC: Pass mci parent
    
    Initialize the mem_ctl_info descriptor of a csrow properly.
    
    Signed-off-by: Borislav Petkov <borislav.petkov@amd.com>

diff --git a/drivers/edac/edac_mc_sysfs.c b/drivers/edac/edac_mc_sysfs.c
index ed0bc07b8503..cf13bff94f5c 100644
--- a/drivers/edac/edac_mc_sysfs.c
+++ b/drivers/edac/edac_mc_sysfs.c
@@ -373,6 +373,7 @@ static int edac_create_csrow_object(struct mem_ctl_info *mci,
 	csrow->dev.bus = &mci->bus;
 	device_initialize(&csrow->dev);
 	csrow->dev.parent = &mci->dev;
+	csrow->mci = mci;
 	dev_set_name(&csrow->dev, "csrow%d", index);
 	dev_set_drvdata(&csrow->dev, csrow);
 

