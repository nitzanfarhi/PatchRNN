commit a9fec7102f01f6464b19e13ffd9d8c48663379ad
Author: Jim Paris <jim@jtan.com>
Date:   Thu Jan 15 13:31:07 2009 +0000

    ftdi_sio: fix kref leak
    
    Commit 4a90f09b20f4622dcbff1f0e1e6bae1704f8ad8c added kref stuff to
    ftdi_sio, but missed tty_kref_put at one exit point in
    ftdi_process_read.
    
    Signed-off-by: Jim Paris <jim@jtan.com>
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

diff --git a/drivers/usb/serial/ftdi_sio.c b/drivers/usb/serial/ftdi_sio.c
index ef6cfa5a447f..c70a8f667d85 100644
--- a/drivers/usb/serial/ftdi_sio.c
+++ b/drivers/usb/serial/ftdi_sio.c
@@ -2030,7 +2030,7 @@ static void ftdi_process_read(struct work_struct *work)
 			spin_unlock_irqrestore(&priv->rx_lock, flags);
 			dbg("%s - deferring remainder until unthrottled",
 					__func__);
-			return;
+			goto out;
 		}
 		spin_unlock_irqrestore(&priv->rx_lock, flags);
 		/* if the port is closed stop trying to read */

