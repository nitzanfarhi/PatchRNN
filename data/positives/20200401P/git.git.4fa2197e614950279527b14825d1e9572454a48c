commit 4fa2197e614950279527b14825d1e9572454a48c
Author: Nick Hengeveld <nickh@reactrix.com>
Date:   Fri Sep 30 16:27:47 2005 -0700

    [PATCH] HTTP partial transfer support fix.
    
    Don't unlink the temp file when an object transfer fails, so next attempt
    will pick up where the failed transfer left off
    
    Signed-off-by: Nick Hengeveld <nickh@reactrix.com>
    Signed-off-by: Junio C Hamano <junkio@cox.net>

diff --git a/http-fetch.c b/http-fetch.c
index e8ac9959f..71a8c60b5 100644
--- a/http-fetch.c
+++ b/http-fetch.c
@@ -550,7 +550,6 @@ static int fetch_object(struct alt_base *repo, unsigned char *sha1)
 	curl_result = curl_easy_perform(curl);
 	curl_easy_setopt(curl, CURLOPT_HTTPHEADER, no_range_header);
 	if (curl_result != 0) {
-		unlink(tmpfile);
 		return error("%s", curl_errorstr);
 	}
 

