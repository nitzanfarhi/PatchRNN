commit 86738305daddd21a886dcd370bb6f1749eada027
Author: Sage Weil <sage.weil@dreamhost.com>
Date:   Wed Jan 18 16:24:38 2012 -0800

    filejournal: initialize header before writing
    
    Avoid writing uninitialized crap.
    
    Signed-off-by: Sage Weil <sage.weil@dreamhost.com>

diff --git a/src/os/FileJournal.cc b/src/os/FileJournal.cc
index b326fea360..5a2ec11d2d 100644
--- a/src/os/FileJournal.cc
+++ b/src/os/FileJournal.cc
@@ -786,6 +786,7 @@ int FileJournal::prepare_single_write(bufferlist& bl, off64_t& queue_pos, uint64
     
   // add it this entry
   entry_header_t h;
+  memset(&h, 0, sizeof(h));
   h.seq = seq;
   h.pre_pad = pre_pad;
   h.len = ebl.length();

