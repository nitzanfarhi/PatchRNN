commit 8312976e73fce9689ab831c1da565ec413680cff
Author: Cornelia Huck <cornelia.huck@de.ibm.com>
Date:   Wed Jun 5 16:54:05 2013 +0200

    s390x/css: Fix concurrent sense.
    
    Fix an off-by-one error when indicating availablity of concurrent
    sense data.
    
    Cc: qemu-stable@nongnu.org
    Signed-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>

diff --git a/hw/s390x/css.c b/hw/s390x/css.c
index e526a1c86c..f82abfe029 100644
--- a/hw/s390x/css.c
+++ b/hw/s390x/css.c
@@ -777,7 +777,7 @@ int css_do_tsch(SubchDev *sch, IRB *target_irb)
             (p->chars & PMCW_CHARS_MASK_CSENSE)) {
             irb.scsw.flags |= SCSW_FLAGS_MASK_ESWF | SCSW_FLAGS_MASK_ECTL;
             memcpy(irb.ecw, sch->sense_data, sizeof(sch->sense_data));
-            irb.esw[1] = 0x02000000 | (sizeof(sch->sense_data) << 8);
+            irb.esw[1] = 0x01000000 | (sizeof(sch->sense_data) << 8);
         }
     }
     /* Store the irb to the guest. */

