commit ac563cfd528033ee6e3bb4801b5c73468d0145c8
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Wed Dec 15 15:44:03 2010 -0500

    USB: uas: Use kzalloc instead of kmalloc
    
    The IUs are not being fully initialised by the driver (due to the reserved
    space).  Since we should be zeroing reserved fields, use kzalloc to do
    it for us.
    
    Reported-by: Luben Tuikov <ltuikov@yahoo.com>
    Signed-off-by: Matthew Wilcox <willy@linux.intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/drivers/usb/storage/uas.c b/drivers/usb/storage/uas.c
index 3c7a24433784..721fe376be18 100644
--- a/drivers/usb/storage/uas.c
+++ b/drivers/usb/storage/uas.c
@@ -297,7 +297,7 @@ static struct urb *uas_alloc_sense_urb(struct uas_dev_info *devinfo, gfp_t gfp,
 	if (!urb)
 		goto out;
 
-	iu = kmalloc(sizeof(*iu), gfp);
+	iu = kzalloc(sizeof(*iu), gfp);
 	if (!iu)
 		goto free;
 
@@ -328,7 +328,7 @@ static struct urb *uas_alloc_cmd_urb(struct uas_dev_info *devinfo, gfp_t gfp,
 	if (len < 0)
 		len = 0;
 	len = ALIGN(len, 4);
-	iu = kmalloc(sizeof(*iu) + len, gfp);
+	iu = kzalloc(sizeof(*iu) + len, gfp);
 	if (!iu)
 		goto free;
 

