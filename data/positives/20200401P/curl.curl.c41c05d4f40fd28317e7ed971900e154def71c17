commit c41c05d4f40fd28317e7ed971900e154def71c17
Author: Daniel Stenberg <daniel@haxx.se>
Date:   Tue May 6 08:19:36 2003 +0000

     Kevin Delafield reported another case where we didn't correctly check for
     EAGAIN but only EWOULDBLOCK, which caused badness on HPUX. We also check for
     and act the same on EINTR errors as well now.

diff --git a/lib/sendf.c b/lib/sendf.c
index 94927c28c..1538061e8 100644
--- a/lib/sendf.c
+++ b/lib/sendf.c
@@ -278,7 +278,7 @@ CURLcode Curl_write(struct connectdata *conn, int sockfd,
          may be EWOULDBLOCK or on some systems EAGAIN when it returned
          due to its inability to send off data without blocking. We
          therefor treat both error codes the same here */
-      if((EWOULDBLOCK == err) || (EAGAIN == err))
+      if((EWOULDBLOCK == err) || (EAGAIN == err) || (EINTR == err))
 #endif
       {
         /* this is just a case of EWOULDBLOCK */
@@ -399,7 +399,7 @@ int Curl_read(struct connectdata *conn,
 #ifdef WIN32
       if(WSAEWOULDBLOCK == err)
 #else
-      if(EWOULDBLOCK == err)
+      if((EWOULDBLOCK == err) || (EAGAIN == err) || (EINTR == err))
 #endif
         return -1;
     }

