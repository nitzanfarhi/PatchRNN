commit 9e089246a53cce0e14f04fb24de0e1bc62ec5400
Author: Olliver Schinagl <oliver@schinagl.nl>
Date:   Wed Jan 21 22:33:45 2015 +0100

    gpio: use sizeof() instead of hardcoded values
    
    gpiolib uses a fixed string for the suffixes and defines it at 32 bytes.
    Later in the code snprintf is used with this fixed value of 32. Using
    sizeof() is safer in case the size for the suffixes is ever changed.
    
    Signed-off-by: Olliver Schinagl <oliver@schinagl.nl>
    Signed-off-by: Linus Walleij <linus.walleij@linaro.org>

diff --git a/drivers/gpio/gpiolib.c b/drivers/gpio/gpiolib.c
index c9266410d84c..bf6016d7a023 100644
--- a/drivers/gpio/gpiolib.c
+++ b/drivers/gpio/gpiolib.c
@@ -1665,9 +1665,11 @@ static struct gpio_desc *of_find_gpio(struct device *dev, const char *con_id,
 
 	for (i = 0; i < ARRAY_SIZE(suffixes); i++) {
 		if (con_id)
-			snprintf(prop_name, 32, "%s-%s", con_id, suffixes[i]);
+			snprintf(prop_name, sizeof(prop_name), "%s-%s", con_id,
+							       suffixes[i]);
 		else
-			snprintf(prop_name, 32, "%s", suffixes[i]);
+			snprintf(prop_name, sizeof(prop_name), "%s",
+							       suffixes[i]);
 
 		desc = of_get_named_gpiod_flags(dev->of_node, prop_name, idx,
 						&of_flags);

