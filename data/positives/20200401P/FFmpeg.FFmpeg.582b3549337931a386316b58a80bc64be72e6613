commit 582b3549337931a386316b58a80bc64be72e6613
Author: Erik Hovland <erik@hovland.org>
Date:   Mon Jul 21 05:46:56 2008 +0000

    Check the allocated pointer instead of the given pointer as intended
    in vhook/ppm.c:Configure.
    patch by Erik Hovland, erik hovland org
    
    Originally committed as revision 14321 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/vhook/ppm.c b/vhook/ppm.c
index 6ebfe47524..d9986c81fb 100644
--- a/vhook/ppm.c
+++ b/vhook/ppm.c
@@ -211,7 +211,7 @@ int Configure(void **ctxp, int argc, char *argv[])
     if ( argc > 1 )
     {
         *ctxp = av_mallocz(sizeof(ContextInfo));
-        if ( ctxp != NULL && argc > 1 )
+        if ( *ctxp != NULL && argc > 1 )
         {
             ContextInfo *info = (ContextInfo *)*ctxp;
             info->rw = rwpipe_open( argc - 1, &argv[ 1 ] );

