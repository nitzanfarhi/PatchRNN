commit 3dc8617ec9396d5d0612ef9fda626d45d12e54dc
Author: Charles Dang <exodia339@gmail.com>
Date:   Wed Jan 24 16:12:57 2018 +1100

    Fixup c8b0833 (crash when creating scenario in Editor)
    
    There's no AI manager in the editor (a game state is required), nor a need for one, so I simply
    disabled the AI initialization if we're not in the editor.

diff --git a/src/team.cpp b/src/team.cpp
index aca7f64a84..ca13c9ea5e 100644
--- a/src/team.cpp
+++ b/src/team.cpp
@@ -203,10 +203,14 @@ void team::team_info::read(const config& cfg)
 	if(!user_team_name.translatable())
 		user_team_name = t_string::from_serialized(user_team_name);
 
-	if(cfg.has_attribute("ai_config")) {
-		ai::manager::get_singleton().add_ai_for_side_from_file(side, cfg["ai_config"], true);
-	} else {
-		ai::manager::get_singleton().add_ai_for_side_from_config(side, cfg, true);
+	display* disp = display::get_singleton();
+
+	if(disp && !disp->in_editor()) {
+		if(cfg.has_attribute("ai_config")) {
+			ai::manager::get_singleton().add_ai_for_side_from_file(side, cfg["ai_config"], true);
+		} else {
+			ai::manager::get_singleton().add_ai_for_side_from_config(side, cfg, true);
+		}
 	}
 
 	std::vector<std::string> recruits = utils::split(cfg["recruit"]);

