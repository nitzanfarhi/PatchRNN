commit 912606fc373173356351d147eacab0e21eecc166
Author: brenosilva <brenosilva@9017d574-64ec-4062-9424-5e00b32a252b>
Date:   Fri Jul 27 01:00:13 2012 +0000

    Avoid double close() for multipart file descriptors

diff --git a/apache2/msc_multipart.c b/apache2/msc_multipart.c
index ae518953..69b37694 100644
--- a/apache2/msc_multipart.c
+++ b/apache2/msc_multipart.c
@@ -624,6 +624,7 @@ static int multipart_process_boundary(modsec_rec *msr, int last_part, char **err
             &&(msr->mpd->mpp->tmp_file_fd != 0))
         {
             close(msr->mpd->mpp->tmp_file_fd);
+            msr->mpd->mpp->tmp_file_fd = -1;
         }
 
         if (msr->mpd->mpp->type != MULTIPART_FILE) {

