commit 9d332c82b4cf2e4538450e4af40f073cc5e599ec
Author: Bruno Randolf <br1@einfach.org>
Date:   Thu Mar 25 14:49:31 2010 +0900

    ath5k: initialize default noise floor
    
    Initialize noise floor variable with a default of -95. This was used
    uninitialized in the signal strength (RSSI -> dBm) conversion until the first
    noise floor calibration was completed.
    
    Signed-off-by: Bruno Randolf <br1@einfach.org>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

diff --git a/drivers/net/wireless/ath/ath5k/attach.c b/drivers/net/wireless/ath/ath5k/attach.c
index dd4099a2ff15..f80d3d52c536 100644
--- a/drivers/net/wireless/ath/ath5k/attach.c
+++ b/drivers/net/wireless/ath/ath5k/attach.c
@@ -123,6 +123,7 @@ int ath5k_hw_attach(struct ath5k_softc *sc)
 	ah->ah_limit_tx_retries = AR5K_INIT_TX_RETRY;
 	ah->ah_software_retry = false;
 	ah->ah_ant_mode = AR5K_ANTMODE_DEFAULT;
+	ah->ah_noise_floor = -95;	/* until first NF calibration is run */
 
 	/*
 	 * Find the mac version

