commit c7e3cc3ca1ff2fe1aeffd2ba642548d79f9a73dc
Author: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
Date:   Thu May 2 10:09:07 2013 -0300

    [media] tvp514x: Fix double free
    
    The tvp514x data structure is allocated using devm_kzalloc(). Freeing it
    explictly would result in a double free. Fix it.
    
    Signed-off-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
    Acked-by: Lad, Prabhakar <prabhakar.csengg@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>

diff --git a/drivers/media/i2c/tvp514x.c b/drivers/media/i2c/tvp514x.c
index ab8f3fee7e94..7438e015d879 100644
--- a/drivers/media/i2c/tvp514x.c
+++ b/drivers/media/i2c/tvp514x.c
@@ -1120,7 +1120,6 @@ tvp514x_probe(struct i2c_client *client, const struct i2c_device_id *id)
 	if (ret < 0) {
 		v4l2_err(sd, "%s decoder driver failed to register !!\n",
 			 sd->name);
-		kfree(decoder);
 		return ret;
 	}
 #endif

