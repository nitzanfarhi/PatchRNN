commit 3e633eb63e560b44d47700868fb4e730c1366e44
Author: Magnus Svensson <msvensson@mysql.com>
Date:   Fri Jul 25 18:10:36 2008 +0200

    Bug #38380  Memory leak in LogHandler::addHandler after fail to parse params

diff --git a/storage/ndb/src/common/logger/Logger.cpp b/storage/ndb/src/common/logger/Logger.cpp
index 3df3a778fc0..10d6780a86b 100644
--- a/storage/ndb/src/common/logger/Logger.cpp
+++ b/storage/ndb/src/common/logger/Logger.cpp
@@ -222,6 +222,7 @@ Logger::addHandler(const BaseString &logstring, int *err, int len, char* errStr)
       *err= handler->getErrorCode();
       if(handler->getErrorStr())
         strncpy(errStr, handler->getErrorStr(), len);
+      delete handler;
       DBUG_RETURN(false);
     }
     loghandlers.push_back(handler);

