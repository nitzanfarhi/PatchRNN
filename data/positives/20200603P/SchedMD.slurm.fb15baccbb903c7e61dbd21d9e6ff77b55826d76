commit fb15baccbb903c7e61dbd21d9e6ff77b55826d76
Author: jwindley <jwindley@unknown>
Date:   Fri Nov 14 01:03:19 2003 +0000

    Add EOF check

diff --git a/src/plugins/sched/courier.cpp b/src/plugins/sched/courier.cpp
index 117abf7d78..a71154ca3e 100644
--- a/src/plugins/sched/courier.cpp
+++ b/src/plugins/sched/courier.cpp
@@ -88,6 +88,7 @@ courier_t::read_bytes( char *buf, const size_t size )
 	ptr = buf;
 	while ( bytes_remaining > 0 ) {
 		bytes_read = read( m_fd, ptr, bytes_remaining );
+		if ( bytes_read == 0 ) return 0;
 		if ( bytes_read < 0 ) return 0;
 		bytes_remaining -= bytes_read;
 		ptr += bytes_read;

