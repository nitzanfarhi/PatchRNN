commit ba3ed4c57fde2df1a8a5b0c445ae5d685334e5f9
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Sun Jan 18 15:08:33 2009 -0300

    V4L/DVB (10270): saa7146: fix unbalanced mutex_lock/unlock
    
    The default case of the switch didn't unlock the mutex.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>

diff --git a/drivers/media/common/saa7146_video.c b/drivers/media/common/saa7146_video.c
index 6098b626811f..47fee05eaefb 100644
--- a/drivers/media/common/saa7146_video.c
+++ b/drivers/media/common/saa7146_video.c
@@ -576,6 +576,7 @@ static int set_control(struct saa7146_fh *fh, struct v4l2_control *c)
 		vv->vflip = c->value;
 		break;
 	default: {
+		mutex_unlock(&dev->lock);
 		return -EINVAL;
 	}
 	}

