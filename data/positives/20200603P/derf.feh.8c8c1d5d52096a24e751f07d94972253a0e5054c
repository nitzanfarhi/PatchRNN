commit 8c8c1d5d52096a24e751f07d94972253a0e5054c
Author: Daniel Friesel <derf@finalrewind.org>
Date:   Wed Mar 28 10:53:32 2012 +0200

    feh_magick_load_image: Fix memory leak when encountering unloadable file

diff --git a/src/imlib.c b/src/imlib.c
index eda3e2a..09391fa 100644
--- a/src/imlib.c
+++ b/src/imlib.c
@@ -305,6 +305,7 @@ static char *feh_magick_load_image(char *filename)
 		if (!WIFEXITED(status) || (WEXITSTATUS(status) != 0)) {
 			close(fd);
 			unlink(sfn);
+			free(sfn);
 			sfn = NULL;
 
 			if (!opt.quiet) {

