commit a71aaf66725e8fc02253a3bbea15d27e656434fe
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Mon Mar 23 14:07:57 2015 -0500

    iwlwifi: Fix memory leak in iwl_req_fw_callback()
    
    In this routine, kzalloc allocates a memory block. This allocation is
    freed in the error paths, but not in the normal exit, thus the allocation
    is leaked.
    
    The kmemleak facility was used to find the leak.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
    Cc: Johannes Berg <johannes.berg@intel.com>
    Cc: Emmanuel Grumbach <emmanuel.grumbach@intel.com>
    Cc: Intel Linux Wireless <ilw@linux.intel.com>

diff --git a/drivers/net/wireless/iwlwifi/iwl-drv.c b/drivers/net/wireless/iwlwifi/iwl-drv.c
index 996e7f16adf9..c7154ac42c8c 100644
--- a/drivers/net/wireless/iwlwifi/iwl-drv.c
+++ b/drivers/net/wireless/iwlwifi/iwl-drv.c
@@ -1257,6 +1257,7 @@ static void iwl_req_fw_callback(const struct firmware *ucode_raw, void *context)
 				op->name, err);
 #endif
 	}
+	kfree(pieces);
 	return;
 
  try_again:

