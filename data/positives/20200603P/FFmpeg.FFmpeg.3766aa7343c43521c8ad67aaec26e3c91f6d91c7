commit 3766aa7343c43521c8ad67aaec26e3c91f6d91c7
Author: Max Justicz <maxj@mit.edu>
Date:   Tue May 23 11:22:35 2017 +0200

    avcodec/fmvc: Fix use of uninitialized memory when the first frame is not a keyframe
    
    Fixes: fmvc-poc.avi
    
    Signed-off-by: Michael Niedermayer <michael@niedermayer.cc>

diff --git a/libavcodec/fmvc.c b/libavcodec/fmvc.c
index 2368e95f29..74e9bdd8a0 100644
--- a/libavcodec/fmvc.c
+++ b/libavcodec/fmvc.c
@@ -596,8 +596,8 @@ static av_cold int decode_init(AVCodecContext *avctx)
     s->bpp = avctx->bits_per_coded_sample >> 3;
     s->buffer_size = avctx->width * avctx->height * 4;
     s->pbuffer_size = avctx->width * avctx->height * 4;
-    s->buffer = av_malloc(s->buffer_size);
-    s->pbuffer = av_malloc(s->pbuffer_size);
+    s->buffer = av_mallocz(s->buffer_size);
+    s->pbuffer = av_mallocz(s->pbuffer_size);
     if (!s->buffer || !s->pbuffer)
         return AVERROR(ENOMEM);
 

