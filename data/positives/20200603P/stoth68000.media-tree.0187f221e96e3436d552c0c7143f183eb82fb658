commit 0187f221e96e3436d552c0c7143f183eb82fb658
Author: Ben Dooks <ben@fluff.org.uk>
Date:   Fri Feb 16 01:28:42 2007 -0800

    [PATCH] s3c2410fb: fix un-initialised dev field
    
    The current driver is not setting the dev field in the private data
    structure, which can lead to an OOPS if the driver tries to report an
    error.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Cc: James Simmons <jsimmons@infradead.org>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

diff --git a/drivers/video/s3c2410fb.c b/drivers/video/s3c2410fb.c
index ccef56d0c157..ed3426062a8b 100644
--- a/drivers/video/s3c2410fb.c
+++ b/drivers/video/s3c2410fb.c
@@ -791,6 +791,8 @@ static int __init s3c2410fb_probe(struct platform_device *pdev)
 
 	info = fbinfo->par;
 	info->fb = fbinfo;
+	info->dev = &pdev->dev;
+
 	platform_set_drvdata(pdev, fbinfo);
 
 	dprintk("devinit\n");

