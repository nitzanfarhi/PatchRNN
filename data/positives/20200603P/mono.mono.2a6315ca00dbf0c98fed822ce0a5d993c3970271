commit 2a6315ca00dbf0c98fed822ce0a5d993c3970271
Author: Andi McClure <andi.mcclure@xamarin.com>
Date:   Thu Jun 30 12:44:46 2016 -0400

    Restore NULL check which PR #3040/#3105 mistakenly removed (bug 41623) (#3219)
    
    Could cause crash while stepping over in SDB.

diff --git a/mono/mini/debugger-agent.c b/mono/mini/debugger-agent.c
index ece1fddf5e8..c03b1408e01 100644
--- a/mono/mini/debugger-agent.c
+++ b/mono/mini/debugger-agent.c
@@ -5325,7 +5325,8 @@ ss_start (SingleStepReq *ss_req, MonoMethod *method, SeqPoint* sp, MonoSeqPointI
 						found_sp = mono_find_next_seq_point_for_native_offset (frame->domain, frame->method, (char*)ei->handler_start - (char*)jinfo->code_start, NULL, &local_sp);
 						sp = (found_sp)? &local_sp : NULL;
 
-						ss_bp_add_one (ss_req, &ss_req_bp_count, &ss_req_bp_cache, frame->method, sp->il_offset);
+						if (found_sp)
+							ss_bp_add_one (ss_req, &ss_req_bp_count, &ss_req_bp_cache, frame->method, sp->il_offset);
 					}
 				}
 			}

