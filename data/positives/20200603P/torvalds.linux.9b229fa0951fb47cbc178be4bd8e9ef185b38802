commit 9b229fa0951fb47cbc178be4bd8e9ef185b38802
Author: Catalin Marinas <catalin.marinas@arm.com>
Date:   Wed Nov 4 12:16:38 2009 +0000

    Check whether the SCU was already initialised
    
    If Linux is running in non-secure mode, this register may have been
    already initialised and writing to the control register not allowed.
    
    Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>

diff --git a/arch/arm/kernel/smp_scu.c b/arch/arm/kernel/smp_scu.c
index d3831f616ee9..9ab4149bd983 100644
--- a/arch/arm/kernel/smp_scu.c
+++ b/arch/arm/kernel/smp_scu.c
@@ -37,6 +37,10 @@ void __init scu_enable(void __iomem *scu_base)
 	u32 scu_ctrl;
 
 	scu_ctrl = __raw_readl(scu_base + SCU_CTRL);
+	/* already enabled? */
+	if (scu_ctrl & 1)
+		return;
+
 	scu_ctrl |= 1;
 	__raw_writel(scu_ctrl, scu_base + SCU_CTRL);
 

