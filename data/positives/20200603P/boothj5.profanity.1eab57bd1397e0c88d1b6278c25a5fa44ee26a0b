commit 1eab57bd1397e0c88d1b6278c25a5fa44ee26a0b
Author: James Booth <boothj5@gmail.com>
Date:   Wed Sep 23 20:42:47 2015 +0100

    Perform directory exists check before setting TLS cert path

diff --git a/src/command/commands.c b/src/command/commands.c
index f0320ba0..8c2b70ec 100644
--- a/src/command/commands.c
+++ b/src/command/commands.c
@@ -165,8 +165,13 @@ cmd_tls(ProfWin *window, const char * const command, gchar **args)
                 cons_bad_cmd_usage(command);
                 return TRUE;
             }
-            prefs_set_string(PREF_CERT_PATH, args[2]);
-            cons_show("Certificate path set to: %s", args[2]);
+
+            if (g_file_test(args[2], G_FILE_TEST_IS_DIR)) {
+                prefs_set_string(PREF_CERT_PATH, args[2]);
+                cons_show("Certificate path set to: %s", args[2]);
+            } else {
+                cons_show("Directory %s does not exist.", args[2]);
+            }
             return TRUE;
         } else if (g_strcmp0(args[1], "clear") == 0) {
             prefs_set_string(PREF_CERT_PATH, NULL);

