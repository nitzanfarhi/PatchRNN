commit 59dc1cf5df0c308cc3e2a1be12f21c99210f1c03
Author: TJ Saunders <tj@castaglia.org>
Date:   Sun Jan 17 14:01:18 2016 -0800

    Avoid memory leak in edge case scenario; found by Coverity.

diff --git a/contrib/mod_tls.c b/contrib/mod_tls.c
index 78c1ca850..cd29a4163 100644
--- a/contrib/mod_tls.c
+++ b/contrib/mod_tls.c
@@ -3978,7 +3978,7 @@ static int tls_ticket_key_cmp(xasetmember_t *a, xasetmember_t *b) {
 
 static struct tls_ticket_key *create_ticket_key(void) {
   struct tls_ticket_key *k;
-  void *page_ptr;
+  void *page_ptr = NULL;
   size_t pagesz;
   char *ptr;
 # ifdef HAVE_MLOCK
@@ -3988,6 +3988,9 @@ static struct tls_ticket_key *create_ticket_key(void) {
   pagesz = sizeof(struct tls_ticket_key);
   ptr = tls_get_page(pagesz, &page_ptr);
   if (ptr == NULL) {
+    if (page_ptr != NULL) {
+      free(page_ptr);
+    }
     return NULL;
   }
 

