commit 207d1d0922d4e668cc6fac98be39e5a8b83ebc8a
Author: Lennart Poettering <lennart@poettering.net>
Date:   Fri Dec 13 20:36:02 2013 +0100

    getty-generator: fix segfault when $container_ttys is not set

diff --git a/src/getty-generator/getty-generator.c b/src/getty-generator/getty-generator.c
index 36a93695f..feb58156e 100644
--- a/src/getty-generator/getty-generator.c
+++ b/src/getty-generator/getty-generator.c
@@ -130,7 +130,7 @@ int main(int argc, char *argv[]) {
                  * the variable name we only support ptys here. */
 
                 r = getenv_for_pid(1, "container_ttys", &container_ttys);
-                if (r >= 0) {
+                if (r > 0) {
                         char *w, *state;
                         size_t l;
 

