commit daf132d82a15a366cfe33911cedfc52c2d668320
Author: Matthew Gabeler-Lee <cheetah@fastcat.org>
Date:   Mon Nov 2 17:04:13 2015 -0500

    Address off-by-one issues introduced in f3bd7a2 resulting in extra whitespace in property expansions

diff --git a/runtime/msg.c b/runtime/msg.c
index b3246b653..ce6b035a6 100644
--- a/runtime/msg.c
+++ b/runtime/msg.c
@@ -3621,9 +3621,9 @@ uchar *MsgGetProp(msg_t *__restrict__ const pMsg, struct templateEntry *__restri
 			 */
 			; /*DO NOTHING*/
 		} else {
-			if(iTo > bufLen)  /* iTo is very large, if no to-position is set in the template! */
+			if(iTo >= bufLen)  /* iTo is very large, if no to-position is set in the template! */
 				if (pTpe->data.field.options.bFixedWidth == 0)
-					iTo = bufLen;
+					iTo = bufLen - 1;
 
 			iLen = iTo - iFrom + 1; /* the +1 is for an actual char, NOT \0! */
 			pBufStart = pBuf = MALLOC((iLen + 1) * sizeof(uchar));

