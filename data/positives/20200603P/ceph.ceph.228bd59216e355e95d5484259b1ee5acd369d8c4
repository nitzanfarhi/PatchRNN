commit 228bd59216e355e95d5484259b1ee5acd369d8c4
Author: Greg Farnum <gregory.farnum@dreamhost.com>
Date:   Wed Sep 7 08:37:17 2011 -0700

    filestore: free fiemap used for testing fs capabilities
    
    No more memory leak!
    
    Signed-off-by: Greg Farnum <gregory.farnum@dreamhost.com>

diff --git a/src/os/FileStore.cc b/src/os/FileStore.cc
index 86281ab998..95fd73f942 100644
--- a/src/os/FileStore.cc
+++ b/src/os/FileStore.cc
@@ -1065,6 +1065,7 @@ int FileStore::_detect_fs()
     dout(0) << "mount FIEMAP ioctl is disabled via 'filestore fiemap' config option" << dendl;
     ioctl_fiemap = false;
   }
+  free(fiemap);
 
   struct statfs st;
   r = ::fstatfs(fd, &st);

