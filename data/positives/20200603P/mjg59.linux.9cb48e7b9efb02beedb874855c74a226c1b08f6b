commit 9cb48e7b9efb02beedb874855c74a226c1b08f6b
Author: Ethan Zhao <ethan.kernel@gmail.com>
Date:   Fri Feb 7 00:41:41 2014 -0600

    [SCSI] iscsi_boot_sysfs: Fix a memory leak in iscsi_boot_destroy_kset()
    
    Load and unload iscsi_ibft module will cause kernel memory leak, fix it
    in scsi/iscsi_boot_sysfs.c iscsi_boot_destroy_kset().
    
    Signed-off-by: Ethan Zhao <ethan.kernel@gmail.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <JBottomley@Parallels.com>

diff --git a/drivers/scsi/iscsi_boot_sysfs.c b/drivers/scsi/iscsi_boot_sysfs.c
index 14c1c8f6a95e..680bf6f0ce76 100644
--- a/drivers/scsi/iscsi_boot_sysfs.c
+++ b/drivers/scsi/iscsi_boot_sysfs.c
@@ -490,5 +490,6 @@ void iscsi_boot_destroy_kset(struct iscsi_boot_kset *boot_kset)
 		iscsi_boot_remove_kobj(boot_kobj);
 
 	kset_unregister(boot_kset->kset);
+	kfree(boot_kset);
 }
 EXPORT_SYMBOL_GPL(iscsi_boot_destroy_kset);

