commit 7e4613296576c843643ceb97091d98da1e8caab8
Author: Tomoya MORINAGA <tomoya-linux@dsn.okisemi.com>
Date:   Wed Feb 23 10:03:13 2011 +0900

    pch_uart: add spin_lock_init
    
    Currently, spin_lock is not initialized.
    Thus, add spin_lock_init().
    
    Signed-off-by: Tomoya MORINAGA <tomoya-linux@dsn.okisemi.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/drivers/tty/serial/pch_uart.c b/drivers/tty/serial/pch_uart.c
index c1386eb255d3..9e1b8652de7f 100644
--- a/drivers/tty/serial/pch_uart.c
+++ b/drivers/tty/serial/pch_uart.c
@@ -1370,6 +1370,8 @@ static struct eg20t_port *pch_uart_init_port(struct pci_dev *pdev,
 	priv->port.line = num++;
 	priv->trigger = PCH_UART_HAL_TRIGGER_M;
 
+	spin_lock_init(&priv->port.lock);
+
 	pci_set_drvdata(pdev, priv);
 	pch_uart_hal_request(pdev, fifosize, base_baud);
 

