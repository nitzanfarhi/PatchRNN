commit 9213d690a8e36e359ce8314db5d0e4fe83b822dd
Author: Deepak Srivastava <srivastava.d@samsung.com>
Date:   Fri Sep 15 17:06:58 2017 +0530

    mpeg2dec: Fix buffer memory leak in error code path
    
    https://bugzilla.gnome.org/show_bug.cgi?id=787817

diff --git a/ext/mpeg2dec/gstmpeg2dec.c b/ext/mpeg2dec/gstmpeg2dec.c
index 58890557..4454e76f 100644
--- a/ext/mpeg2dec/gstmpeg2dec.c
+++ b/ext/mpeg2dec/gstmpeg2dec.c
@@ -1057,6 +1057,7 @@ gst_mpeg2dec_handle_frame (GstVideoDecoder * decoder,
   gst_buffer_ref (buf);
   if (!gst_buffer_map (buf, &minfo, GST_MAP_READ)) {
     GST_ERROR_OBJECT (mpeg2dec, "Failed to map input buffer");
+    gst_buffer_unref (buf);
     return GST_FLOW_ERROR;
   }
 

