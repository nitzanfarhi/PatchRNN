commit e76761e827b0ddc5b15e7a876d089d6bc4b55236
Author: Matthias Clasen <mclasen@redhat.com>
Date:   Wed May 3 06:37:00 2017 -0400

    Don't crash if there's more titles than columns
    
    This was crashing when running flatpak list for
    an empty installation.

diff --git a/common/flatpak-table-printer.c b/common/flatpak-table-printer.c
index 0b3fbaef..8bb7ab1f 100644
--- a/common/flatpak-table-printer.c
+++ b/common/flatpak-table-printer.c
@@ -179,7 +179,7 @@ flatpak_table_printer_print (FlatpakTablePrinter *printer)
   lwidths = g_new0 (int, printer->n_columns);
   rwidths = g_new0 (int, printer->n_columns);
 
-  for (i = 0; i < printer->titles->len; i++)
+  for (i = 0; i < printer->titles->len && i < printer->n_columns; i++)
     {
       char *title = g_ptr_array_index (printer->titles, i);
 
@@ -209,7 +209,7 @@ flatpak_table_printer_print (FlatpakTablePrinter *printer)
   if (flatpak_fancy_output () && printer->titles->len > 0)
     {
       g_print (FLATPAK_ANSI_BOLD_ON);
-      for (i = 0; i < printer->titles->len; i++)
+      for (i = 0; i < printer->titles->len && i < printer->n_columns; i++)
         {
           char *title = g_ptr_array_index (printer->titles, i);
 

