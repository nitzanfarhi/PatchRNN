commit 2e783830932d71496e993641258b16dfde9955ca
Author: Michael Richardson <mcr@xelerance.com>
Date:   Wed Nov 30 20:48:10 2005 -0500

    proper fix for mtu calculation initialization

diff --git a/linux/net/ipsec/ipsec_xmit.c b/linux/net/ipsec/ipsec_xmit.c
index 4f26db735..00f524bee 100644
--- a/linux/net/ipsec/ipsec_xmit.c
+++ b/linux/net/ipsec/ipsec_xmit.c
@@ -398,7 +398,7 @@ ipsec_xmit_sanity_check_dev(struct ipsec_xmit_state *ixs)
 	}
 
 	ixs->physmtu = ixs->physdev->mtu;
-	ixs->cur_mtu = ixs->physdev->mtu;
+	ixs->cur_mtu = ixs->dev->mtu;
 
 	ixs->stats = (struct net_device_stats *) &(ixs->prv->mystats);
 

