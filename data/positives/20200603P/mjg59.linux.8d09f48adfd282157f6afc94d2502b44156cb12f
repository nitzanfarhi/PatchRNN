commit 8d09f48adfd282157f6afc94d2502b44156cb12f
Author: Marek Belisko <marek@goldelico.com>
Date:   Sat Feb 28 21:54:42 2015 +0100

    staging: iio: hmc5843: Set iio name property in sysfs
    
    Without this change file name for hmc5843 is empty in
    /sys/bus/iio/devices/iio\:device*/name
    
    With this change name is reported correctly:
    cat /sys/bus/iio/devices/iio\:device*/name
    hmc5843
    
    Signed-off-by: Marek Belisko <marek@goldelico.com>
    Signed-off-by: Jonathan Cameron <jic23@kernel.org>

diff --git a/drivers/staging/iio/magnetometer/hmc5843_core.c b/drivers/staging/iio/magnetometer/hmc5843_core.c
index fd171d8b38fb..90cc18b703cf 100644
--- a/drivers/staging/iio/magnetometer/hmc5843_core.c
+++ b/drivers/staging/iio/magnetometer/hmc5843_core.c
@@ -592,6 +592,7 @@ int hmc5843_common_probe(struct device *dev, struct regmap *regmap,
 	mutex_init(&data->lock);
 
 	indio_dev->dev.parent = dev;
+	indio_dev->name = dev->driver->name;
 	indio_dev->info = &hmc5843_info;
 	indio_dev->modes = INDIO_DIRECT_MODE;
 	indio_dev->channels = data->variant->channels;

