commit 8bb5f96b0c1f430e6be56edd6c7032bcedd86ff0
Author: Jay Vosburgh <fubar@us.ibm.com>
Date:   Fri Sep 22 21:52:51 2006 -0700

    [PATCH] bonding: Convert delay value from s16 to int
    
    The value of "downdelay/miimon" and "updelay/miimon" are stored in
    slave->delay. The type of downdelay, updelay, and miimon are all int.
    However, slave->delay is type short, and it is not possible to store the
    value of "downdelay/miimon" or "updelay/miimon" in some cases. (For example,
    miimon=1 downdelay=32768)
    
    The attached patch fixes this problem.
    
    Signed-off-by: Kenzo Iwami <k-iwami@cj.jp.nec.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

diff --git a/drivers/net/bonding/bonding.h b/drivers/net/bonding/bonding.h
index 0bdfe2c71453..17caafe58247 100644
--- a/drivers/net/bonding/bonding.h
+++ b/drivers/net/bonding/bonding.h
@@ -149,7 +149,7 @@ struct slave {
 	struct net_device *dev; /* first - useful for panic debug */
 	struct slave *next;
 	struct slave *prev;
-	s16    delay;
+	int    delay;
 	u32    jiffies;
 	s8     link;    /* one of BOND_LINK_XXXX */
 	s8     state;   /* one of BOND_STATE_XXXX */

