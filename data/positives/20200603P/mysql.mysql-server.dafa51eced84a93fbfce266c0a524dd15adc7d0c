commit dafa51eced84a93fbfce266c0a524dd15adc7d0c
Author: Sinisa@sinisa.nasamreza.org <>
Date:   Sat Mar 8 22:19:41 2003 +0200

    Fix for a crashing bug

diff --git a/sql/sql_select.cc b/sql/sql_select.cc
index 8f6cf8fba61..bf3f9a94936 100644
--- a/sql/sql_select.cc
+++ b/sql/sql_select.cc
@@ -7088,7 +7088,7 @@ find_order_in_list(THD *thd, Item **ref_pointer_array,
     Item *item=0;
 
     uint count= (uint) ((Item_int*)itemptr)->value;
-    if (count > fields.elements)
+    if (!count || count > fields.elements)
     {
       my_printf_error(ER_BAD_FIELD_ERROR,ER(ER_BAD_FIELD_ERROR),
 		      MYF(0),itemptr->full_name(),

