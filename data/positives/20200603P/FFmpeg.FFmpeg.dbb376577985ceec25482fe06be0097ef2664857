commit dbb376577985ceec25482fe06be0097ef2664857
Author: Baptiste Coudurier <baptiste.coudurier@gmail.com>
Date:   Wed Feb 27 09:31:41 2008 +0000

    free in case of multiple type == 2
    
    Originally committed as revision 12263 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavformat/mov.c b/libavformat/mov.c
index 3a18e662c2..1d666dd983 100644
--- a/libavformat/mov.c
+++ b/libavformat/mov.c
@@ -254,6 +254,7 @@ static int mov_read_dref(MOVContext *c, ByteIOContext *pb, MOV_atom_t atom)
                 if (len&1)
                     len += 1;
                 if (type == 2) { // absolute path
+                    av_free(dref->path);
                     dref->path = av_mallocz(len+1);
                     if (!dref->path)
                         return AVERROR(ENOMEM);

