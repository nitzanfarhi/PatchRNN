commit 66c5e5927860159e58bb6d8ebe7ac886277d617b
Author: Wei Yongjun <yongjun_wei@trendmicro.com.cn>
Date:   Thu Dec 12 03:49:54 2013 -0300

    [media] radio-bcm2048: fix missing unlock on error in bcm2048_rds_fifo_receive()
    
    Add the missing unlock before return from function bcm2048_rds_fifo_receive()
    in the error handling case.
    
    Signed-off-by: Wei Yongjun <yongjun_wei@trendmicro.com.cn>
    Signed-off-by: Hans Verkuil <hans.verkuil@cisco.com>
    Signed-off-by: Mauro Carvalho Chehab <m.chehab@samsung.com>

diff --git a/drivers/staging/media/bcm2048/radio-bcm2048.c b/drivers/staging/media/bcm2048/radio-bcm2048.c
index 494ec3916ef5..37ff89931ebc 100644
--- a/drivers/staging/media/bcm2048/radio-bcm2048.c
+++ b/drivers/staging/media/bcm2048/radio-bcm2048.c
@@ -1767,6 +1767,7 @@ static void bcm2048_rds_fifo_receive(struct bcm2048_device *bdev)
 				bdev->rds_info.radio_text, bdev->fifo_size);
 	if (err != 2) {
 		dev_err(&bdev->client->dev, "RDS Read problem\n");
+		mutex_unlock(&bdev->mutex);
 		return;
 	}
 

