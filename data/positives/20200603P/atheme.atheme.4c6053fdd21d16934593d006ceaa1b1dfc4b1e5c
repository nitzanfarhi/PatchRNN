commit 4c6053fdd21d16934593d006ceaa1b1dfc4b1e5c
Author: William Pitcock <nenolod@atheme.org>
Date:   Thu Jun 14 17:08:37 2007 -0500

    Use calloc() instead of malloc(), which makes calling memset(foo, 0, sizeof(foo) unnecessary.

diff --git a/src/memory.c b/src/memory.c
index 4d607051d..9b2e5dca7 100644
--- a/src/memory.c
+++ b/src/memory.c
@@ -14,9 +14,8 @@
 /* does malloc()'s job and dies if malloc() fails */
 void *smalloc(size_t size)
 {
-        void *buf;
+        void *buf = calloc(size, 1);
 
-        buf = malloc(size);
         if (!buf)
                 raise(SIGUSR1);
         return buf;

