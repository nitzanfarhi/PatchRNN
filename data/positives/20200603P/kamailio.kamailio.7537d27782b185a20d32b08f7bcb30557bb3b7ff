commit 7537d27782b185a20d32b08f7bcb30557bb3b7ff
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Jul 1 19:00:51 2010 +0200

    kex: check if uptime value was initialized

diff --git a/modules_k/kex/mi_core.c b/modules_k/kex/mi_core.c
index 7d9a09cda..157d9f48e 100644
--- a/modules_k/kex/mi_core.c
+++ b/modules_k/kex/mi_core.c
@@ -66,6 +66,8 @@ static int init_mi_uptime(void)
 {
 	char *p;
 
+	if (kmi_up_since_ctime.s!=0)
+		return 0;
 	time(&kmi_up_since);
 	p = ctime(&kmi_up_since);
 	kmi_up_since_ctime.len = strlen(p)-1;

