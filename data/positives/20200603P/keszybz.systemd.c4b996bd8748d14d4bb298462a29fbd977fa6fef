commit c4b996bd8748d14d4bb298462a29fbd977fa6fef
Author: Michal Schmidt <mschmidt@redhat.com>
Date:   Mon Oct 22 22:07:31 2012 +0200

    readahead: fix fd validity check
    
    https://bugzilla.redhat.com/show_bug.cgi?id=868603

diff --git a/src/readahead/readahead-collect.c b/src/readahead/readahead-collect.c
index a3f7df5f6..5d07f4704 100644
--- a/src/readahead/readahead-collect.c
+++ b/src/readahead/readahead-collect.c
@@ -460,7 +460,7 @@ static int collect(const char *root) {
                                 log_warning("readlink(%s) failed: %s", fn, strerror(-k));
 
                 next_iteration:
-                        if (m->fd)
+                        if (m->fd >= 0)
                                 close_nointr_nofail(m->fd);
                 }
         }

