commit 0e8a30929e5ab8a3f667b6e76fd6d8fc949ce578
Author: Unbit <info@unbit.it>
Date:   Wed Oct 15 10:06:27 2014 +0200

    fixed #746

diff --git a/plugins/msgpack/msgpack.c b/plugins/msgpack/msgpack.c
index e0e080a6..27e6b40d 100644
--- a/plugins/msgpack/msgpack.c
+++ b/plugins/msgpack/msgpack.c
@@ -121,7 +121,7 @@ int uwsgi_buffer_msgpack_int(struct uwsgi_buffer *ub, int64_t num) {
 	if (num > 0 && num <= 127) {
 		return uwsgi_buffer_byte(ub, (uint8_t) num);
 	}
-	else if (num < 0 && num >= 31) {
+	else if (num < 0 && num >= -31) {
 		return uwsgi_buffer_byte(ub, 224 | (int8_t) num);
 	}
 	else if (num <= 127 && num >= -127) {

