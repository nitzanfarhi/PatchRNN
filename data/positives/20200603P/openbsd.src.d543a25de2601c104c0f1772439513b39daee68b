commit d543a25de2601c104c0f1772439513b39daee68b
Author: niallo <niallo@openbsd.org>
Date:   Sun Jun 4 02:54:59 2006 +0000

    - don't forget to free data in rcs_expand_keywords()

diff --git a/usr.bin/rcs/rcs.c b/usr.bin/rcs/rcs.c
index 5433df9f4d8..4a2a81c4974 100644
--- a/usr.bin/rcs/rcs.c
+++ b/usr.bin/rcs/rcs.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: rcs.c,v 1.13 2006/06/04 02:54:07 niallo Exp $	*/
+/*	$OpenBSD: rcs.c,v 1.14 2006/06/04 02:54:59 niallo Exp $	*/
 /*
  * Copyright (c) 2004 Jean-Francois Brousseau <jfb@openbsd.org>
  * All rights reserved.
@@ -2778,6 +2778,7 @@ rcs_expand_keywords(char *rcsfile, struct rcs_delta *rdp, BUF *bp, int mode)
 	}
 	bp = rcs_buf_alloc(len - 1, BUF_AUTOEXT);
 	rcs_buf_set(bp, data, len - 1, 0);
+	xfree(data);
 
 	return (bp);
 }

