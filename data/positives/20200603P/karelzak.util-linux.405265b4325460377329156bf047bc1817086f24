commit 405265b4325460377329156bf047bc1817086f24
Author: Karel Zak <kzak@redhat.com>
Date:   Tue Mar 8 14:13:41 2011 +0100

    tailf: fix memmove() usage
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

diff --git a/text-utils/tailf.c b/text-utils/tailf.c
index 80b48c45c..51529dba6 100644
--- a/text-utils/tailf.c
+++ b/text-utils/tailf.c
@@ -218,7 +218,9 @@ long old_style_option(int *argc, char **argv)
 			lines = strtol_or_err(argv[i] + 1,
 					_("failed to parse number of lines"));
 			nargs--;
-			memmove(argv + i, argv + i + 1, sizeof(char *) * nargs);
+			if (nargs - i)
+				memmove(argv + i, argv + i + 1,
+						sizeof(char *) * (nargs - i));
 		} else
 			i++;
 	}

