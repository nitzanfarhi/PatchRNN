commit 10f85608381a05929652745196e64213d4414089
Author: Luis Ontanon <luis.ontanon@gmail.com>
Date:   Sat Jul 23 02:07:02 2005 +0000

    avoid a crash when tree is null
    
    
    svn path=/trunk/; revision=15008

diff --git a/epan/dissectors/packet-wsp.c b/epan/dissectors/packet-wsp.c
index a79085bf4b..11bd53e5e2 100644
--- a/epan/dissectors/packet-wsp.c
+++ b/epan/dissectors/packet-wsp.c
@@ -2121,7 +2121,8 @@ add_content_type(proto_tree *tree, tvbuff_t *tvb, guint32 val_start,
 	   So we have to disable that one and become "slow" by pretending that
 	   the tree is "visible".
 	*/
-	PTREE_DATA(tree)->visible=1;
+	if (tree)
+		PTREE_DATA(tree)->visible=1;
 
 	*textual_content = NULL;
 	*well_known_content = 0;

