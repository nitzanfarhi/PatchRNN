commit 7f73ea2e3975b305e09467eb7980a3d01cd37de9
Author: David Tardon <dtardon@redhat.com>
Date:   Mon Dec 7 13:09:07 2015 +0100

    tdf#96243 don't crash if LibO install. wasn't found
    
    Change-Id: I538e7238feb711a7d71faf745033264894f688f4

diff --git a/include/LibreOfficeKit/LibreOfficeKitInit.h b/include/LibreOfficeKit/LibreOfficeKitInit.h
index a5b503568e48..66d52837fd10 100644
--- a/include/LibreOfficeKit/LibreOfficeKitInit.h
+++ b/include/LibreOfficeKit/LibreOfficeKitInit.h
@@ -220,6 +220,8 @@ static LibreOfficeKit *lok_init_2( const char *install_path,  const char *user_p
     LokHookFunction2 *pSym2;
 
     dlhandle = lok_dlopen(install_path, &imp_lib);
+    if (!dlhandle)
+        return NULL;
 
     pSym2 = (LokHookFunction2 *) lok_dlsym(dlhandle, "libreofficekit_hook_2");
     if (!pSym2)

