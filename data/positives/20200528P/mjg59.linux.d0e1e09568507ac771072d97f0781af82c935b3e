commit d0e1e09568507ac771072d97f0781af82c935b3e
Author: Arnaud Lacombe <lacombar@gmail.com>
Date:   Mon Jul 6 00:07:28 2009 -0400

    kconfig: initialize the screen before using curses(3) functions
    
    This is needed on non ncurses based implementation to get a properly
    initialized `stdscr' in main().
    
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

diff --git a/scripts/kconfig/mconf.c b/scripts/kconfig/mconf.c
index 3bcacb4bfd3a..25b60bc117f7 100644
--- a/scripts/kconfig/mconf.c
+++ b/scripts/kconfig/mconf.c
@@ -888,6 +888,8 @@ int main(int ac, char **av)
 			single_menu_mode = 1;
 	}
 
+	initscr();
+
 	getyx(stdscr, saved_y, saved_x);
 	if (init_dialog(NULL)) {
 		fprintf(stderr, N_("Your display is too small to run Menuconfig!\n"));

