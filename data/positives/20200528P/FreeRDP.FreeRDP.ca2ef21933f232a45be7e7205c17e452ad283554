commit ca2ef21933f232a45be7e7205c17e452ad283554
Author: Martin Fleisz <mfleisz@thinstuff.at>
Date:   Tue Feb 26 08:10:26 2013 -0800

    codec: fixed potential crash in NSCodec implementation

diff --git a/libfreerdp/codec/nsc.c b/libfreerdp/codec/nsc.c
index d20e015c3..c405997d0 100644
--- a/libfreerdp/codec/nsc.c
+++ b/libfreerdp/codec/nsc.c
@@ -271,8 +271,8 @@ NSC_CONTEXT* nsc_context_new(void)
 	NSC_CONTEXT* nsc_context;
 	UINT8 i;
 
-	nsc_context = (NSC_CONTEXT*) malloc(sizeof(NSC_CONTEXT));
-	nsc_context->priv = (NSC_CONTEXT_PRIV*) malloc(sizeof(NSC_CONTEXT_PRIV));
+	nsc_context = (NSC_CONTEXT*) calloc(1, sizeof(NSC_CONTEXT));
+	nsc_context->priv = (NSC_CONTEXT_PRIV*) calloc(1, sizeof(NSC_CONTEXT_PRIV));
 	for (i=0; i < 5; ++i)
 	{
 		nsc_context->priv->plane_buf[i] = NULL;

