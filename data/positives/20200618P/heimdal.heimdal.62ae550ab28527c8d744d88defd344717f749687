commit 62ae550ab28527c8d744d88defd344717f749687
Author: Love Hörnquist Åstrand <lha@kth.se>
Date:   Sat Apr 4 17:09:39 2009 +0000

    don't leak memory
    
    git-svn-id: svn://svn.h5l.se/heimdal/trunk/heimdal@25087 ec53bebd-3082-4978-b11e-865c3cabbd6b

diff --git a/lib/kadm5/ipropd_slave.c b/lib/kadm5/ipropd_slave.c
index 994260b2b..c03b6333c 100644
--- a/lib/kadm5/ipropd_slave.c
+++ b/lib/kadm5/ipropd_slave.c
@@ -147,6 +147,9 @@ get_creds(krb5_context context, const char *keytab_str,
 
     ret = krb5_cc_store_cred(context, *cache, &creds);
     if(ret) krb5_err(context, 1, ret, "krb5_cc_store_cred");
+
+    krb5_free_cred_contents(context, &creds);
+    krb5_free_principal(context, client);
 }
 
 static krb5_error_code

