commit bd5ba3ba2ead7248124723dac2481d0992e75e91
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Fri Dec 31 11:27:38 2010 -0300

    [media] w9966: zero device state after a detach
    
    After a detach zero the whole device state to ensure a clean slate
    on the next attach.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>

diff --git a/drivers/media/video/w9966.c b/drivers/media/video/w9966.c
index 019ee206cbee..fa35639d0c15 100644
--- a/drivers/media/video/w9966.c
+++ b/drivers/media/video/w9966.c
@@ -937,6 +937,7 @@ static void w9966_term(struct w9966 *cam)
 		parport_unregister_device(cam->pdev);
 		w9966_set_state(cam, W9966_STATE_PDEV, 0);
 	}
+	memset(cam, 0, sizeof(*cam));
 }
 
 

