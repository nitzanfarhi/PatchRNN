commit 4836d541b1c1354073e068aabe5cd92aa67fe61d
Author: Josef 'Jeff' Sipek <jeff.sipek@dovecot.fi>
Date:   Thu Nov 9 10:39:25 2017 -0500

    ssl-iostream: ssl_iostream_destroy(NULL) should be a no-op

diff --git a/src/lib-ssl-iostream/iostream-ssl.c b/src/lib-ssl-iostream/iostream-ssl.c
index aaa01ac77..b9cf2c760 100644
--- a/src/lib-ssl-iostream/iostream-ssl.c
+++ b/src/lib-ssl-iostream/iostream-ssl.c
@@ -161,6 +161,10 @@ void ssl_iostream_destroy(struct ssl_iostream **_ssl_io)
 {
 	struct ssl_iostream *ssl_io = *_ssl_io;
 
+	if (_ssl_io == NULL || *_ssl_io == NULL)
+		return;
+
+	ssl_io = *_ssl_io;
 	*_ssl_io = NULL;
 	ssl_vfuncs->destroy(ssl_io);
 }

