commit f28730c84fa987ba51e164cc4ecf2dac8d6dace1
Author: jilai wang <jilaiw@codeaurora.org>
Date:   Tue Apr 7 13:51:32 2015 -0400

    drm/msm: Call drm_prime_gem_destroy to clean up imported GEM object
    
    If the GEM object is imported, drm_prime_gem_destroy needs to be
    called to clean up dma buffer related information.
    
    Signed-off-by: Jilai Wang <jilaiw@codeaurora.org>
    Signed-off-by: Rob Clark <robdclark@gmail.com>

diff --git a/drivers/gpu/drm/msm/msm_gem.c b/drivers/gpu/drm/msm/msm_gem.c
index 52839769eb6c..dfc74a5736a3 100644
--- a/drivers/gpu/drm/msm/msm_gem.c
+++ b/drivers/gpu/drm/msm/msm_gem.c
@@ -540,6 +540,7 @@ void msm_gem_free_object(struct drm_gem_object *obj)
 		if (msm_obj->pages)
 			drm_free_large(msm_obj->pages);
 
+		drm_prime_gem_destroy(obj, msm_obj->sgt);
 	} else {
 		vunmap(msm_obj->vaddr);
 		put_pages(obj);

