commit 636bb1c5a773aee9bca5b599359d804c466ad831
Author: markus <markus@openbsd.org>
Date:   Tue Aug 28 09:51:26 2001 +0000

    don't set DynamicForward unless Host matches

diff --git a/usr.bin/ssh/readconf.c b/usr.bin/ssh/readconf.c
index 59330ede340..f6630de78a9 100644
--- a/usr.bin/ssh/readconf.c
+++ b/usr.bin/ssh/readconf.c
@@ -12,7 +12,7 @@
  */
 
 #include "includes.h"
-RCSID("$OpenBSD: readconf.c,v 1.86 2001/08/01 22:03:33 markus Exp $");
+RCSID("$OpenBSD: readconf.c,v 1.87 2001/08/28 09:51:26 markus Exp $");
 
 #include "ssh.h"
 #include "xmalloc.h"
@@ -622,7 +622,8 @@ parse_int:
 		if (fwd_port == 0)
 			fatal("%.200s line %d: Badly formatted port number.",
 			    filename, linenum);
-		add_local_forward(options, fwd_port, "socks4", 0);
+		if (*activep)
+			add_local_forward(options, fwd_port, "socks4", 0);
 		break;
 
 	case oHost:

