commit b152b5c11df036941d3336b3bce7126d2e3af896
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 16 15:08:43 2007 +0000

    - some initialization for safety
    
    
    git-svn-id: https://openser.svn.sourceforge.net/svnroot/openser/trunk@2007 689a6050-402a-0410-94f2-e92a70836424

diff --git a/modules_k/dbtext/dbt_base.c b/modules_k/dbtext/dbt_base.c
index a63e8cc2e..19ce3c004 100644
--- a/modules_k/dbtext/dbt_base.c
+++ b/modules_k/dbtext/dbt_base.c
@@ -185,6 +185,7 @@ int dbt_query(db_con_t* _h, db_key_t* _k, db_op_t* _op, db_val_t* _v,
 #endif
 		return -1;
 	}
+	*_r = NULL;
 	
 	stbl.s = (char*)CON_TABLE(_h);
 	stbl.len = strlen(CON_TABLE(_h));
diff --git a/modules_k/dbtext/dbt_res.c b/modules_k/dbtext/dbt_res.c
index 1c2fda105..a9cacd450 100644
--- a/modules_k/dbtext/dbt_res.c
+++ b/modules_k/dbtext/dbt_res.c
@@ -60,6 +60,7 @@ dbt_result_p dbt_result_new(dbt_table_p _dtp, int *_lres, int _sz)
 		pkg_free(_dres);
 		return NULL;
 	}
+	memset(_dres->colv, 0, _sz*sizeof(dbt_column_t));
 	DBG("DBT:dbt_result_new: new res with %d cols\n", _sz);
 	for(i = 0; i < _sz; i++)
 	{

