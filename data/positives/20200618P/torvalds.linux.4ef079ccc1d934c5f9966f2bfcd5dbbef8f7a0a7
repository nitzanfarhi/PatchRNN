commit 4ef079ccc1d934c5f9966f2bfcd5dbbef8f7a0a7
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Tue Oct 14 22:54:48 2008 -0700

    netns: fix net_generic array leak
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/net/core/net_namespace.c b/net/core/net_namespace.c
index b0dc818a91d7..f1d07b5c1e17 100644
--- a/net/core/net_namespace.c
+++ b/net/core/net_namespace.c
@@ -96,7 +96,7 @@ static void net_free(struct net *net)
 		return;
 	}
 #endif
-
+	kfree(net->gen);
 	kmem_cache_free(net_cachep, net);
 }
 

