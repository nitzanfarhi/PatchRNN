commit f967d783fc659684fb0ac0bc86ea0c5bbc209ada
Author: Derick Rethans <github@derickrethans.nl>
Date:   Wed May 31 12:31:33 2017 +0100

    Fixed memory leak when an invalid timezone was found

diff --git a/parse_zoneinfo.c b/parse_zoneinfo.c
index f77bc8f..7ff88fb 100644
--- a/parse_zoneinfo.c
+++ b/parse_zoneinfo.c
@@ -285,10 +285,12 @@ static int create_zone_index(const char *directory, timelib_tzdb *db)
 							db_index[index_next].pos = data_size;
 							data_size += length;
 							free(tzfile_data);
+
+							index_next++;
+						} else {
+							free(db_index[index_next].id);
 						}
 					}
-
-					index_next++;
 				}
 			}
 

