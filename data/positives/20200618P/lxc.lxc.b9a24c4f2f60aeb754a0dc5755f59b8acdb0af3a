commit b9a24c4f2f60aeb754a0dc5755f59b8acdb0af3a
Author: Oliver Matthews <oliver@codersoffortune.net>
Date:   Sun Sep 25 09:37:43 2016 +0100

    Fix null derefence if attach is called without access to any tty
    
    Signed-off-by: Oliver Matthews <oliver@codersoffortune.net>

diff --git a/src/lxc/tools/lxc_attach.c b/src/lxc/tools/lxc_attach.c
index 9d713883..23d63a22 100644
--- a/src/lxc/tools/lxc_attach.c
+++ b/src/lxc/tools/lxc_attach.c
@@ -321,7 +321,7 @@ static int get_pty_on_host(struct lxc_container *c, struct wrapargs *wrap, int *
 err3:
 	lxc_mainloop_close(&descr);
 err2:
-	if (ts->sigfd != -1)
+	if (ts && ts->sigfd != -1)
 		lxc_console_sigwinch_fini(ts);
 err1:
 	lxc_console_delete(&conf->console);

