commit d9d8fc2f9f90fdd77c971e45c3be8e9b0548e9d4
Author: Martin Szulecki <opensuse@sukimashita.com>
Date:   Thu Apr 28 19:43:18 2011 +0200

    idevicebackup2: Only post "sync finished" notification if we sent "sync start" earlier

diff --git a/tools/idevicebackup2.c b/tools/idevicebackup2.c
index 47dd4f2..006dd33 100644
--- a/tools/idevicebackup2.c
+++ b/tools/idevicebackup2.c
@@ -1706,7 +1706,8 @@ files_out:
 			afc_file_lock(afc, lockfile, AFC_LOCK_UN);
 			afc_file_close(afc, lockfile);
 			lockfile = 0;
-			do_post_notification(NP_SYNC_DID_FINISH);
+			if (cmd == CMD_BACKUP)
+				do_post_notification(NP_SYNC_DID_FINISH);
 		}
 	} else {
 		printf("ERROR: Could not start service %s.\n", MOBILEBACKUP2_SERVICE_NAME);

