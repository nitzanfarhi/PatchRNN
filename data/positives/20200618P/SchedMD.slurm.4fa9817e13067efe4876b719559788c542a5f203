commit 4fa9817e13067efe4876b719559788c542a5f203
Author: Brian Christiansen <brian@schedmd.com>
Date:   Tue Jul 26 15:59:21 2016 -0600

    Fix memory leak.

diff --git a/src/plugins/accounting_storage/mysql/as_mysql_federation.c b/src/plugins/accounting_storage/mysql/as_mysql_federation.c
index df28f89915..1c20909dab 100644
--- a/src/plugins/accounting_storage/mysql/as_mysql_federation.c
+++ b/src/plugins/accounting_storage/mysql/as_mysql_federation.c
@@ -323,6 +323,7 @@ extern int as_mysql_add_federations(mysql_conn_t *mysql_conn, uint32_t uid,
 	while ((object = list_next(itr))) {
 		if (object->cluster_list &&
 		    (list_count(federation_list) > 1)) {
+			xfree(user_name);
 			error("Clusters can only be assigned to one "
 			      "federation");
 			errno = ESLURM_FED_CLUSTER_MULTIPLE_ASSIGNMENT;

