commit 8e8a455868e34d3aedc829c619229d30af780dd4
Author: Johannes Schultz <sagamusix@openmpt.org>
Date:   Sat Nov 28 14:51:36 2015 +0000

    [Fix] Instrument tab: If starting playback fails, don't continue with playback code (could lead to deadlocks in CriticalSection)
    
    git-svn-id: https://source.openmpt.org/svn/openmpt/trunk/OpenMPT@5808 56274372-70c3-4bfc-bfc3-4c3a0b034d27

diff --git a/mptrack/View_ins.cpp b/mptrack/View_ins.cpp
index bcc584b0d..0bb68fccc 100644
--- a/mptrack/View_ins.cpp
+++ b/mptrack/View_ins.cpp
@@ -1994,7 +1994,8 @@ void CViewInstrument::PlayNote(ModCommand::NOTE note)
 				if (pMainFrm->GetModPlaying() != pModDoc)
 				{
 					sndFile.m_SongFlags.set(SONG_PAUSED);
-					pMainFrm->PlayMod(pModDoc);
+					if(!pMainFrm->PlayMod(pModDoc))
+						return;
 				}
 				CriticalSection cs;
 				pModDoc->CheckNNA(note, m_nInstrument, m_baPlayingNote);

