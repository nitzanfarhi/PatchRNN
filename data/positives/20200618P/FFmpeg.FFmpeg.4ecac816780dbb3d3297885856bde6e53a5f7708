commit 4ecac816780dbb3d3297885856bde6e53a5f7708
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Mon Dec 16 04:31:52 2013 +0100

    avformat/psxstr: zero packet to prevent uninitialized data to leak through to the decoder
    
    Fixes: msan_uninit-mem_7f150abf2e84_4817_descent-partial.str
    Found-by: Mateusz "j00ru" Jurczyk and Gynvael Coldwind
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libavformat/psxstr.c b/libavformat/psxstr.c
index 3409d6a5af..5efcadf64e 100644
--- a/libavformat/psxstr.c
+++ b/libavformat/psxstr.c
@@ -221,6 +221,7 @@ static int str_read_packet(AVFormatContext *s,
                     av_free_packet(pkt);
                     if (av_new_packet(pkt, sector_count*VIDEO_DATA_CHUNK_SIZE))
                         return AVERROR(EIO);
+                    memset(pkt->data, 0, sector_count*VIDEO_DATA_CHUNK_SIZE);
 
                     pkt->pos= avio_tell(pb) - RAW_CD_SECTOR_SIZE;
                     pkt->stream_index =

