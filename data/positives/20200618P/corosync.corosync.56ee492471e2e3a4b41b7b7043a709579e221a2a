commit 56ee492471e2e3a4b41b7b7043a709579e221a2a
Author: Jan Friesse <jfriesse@redhat.com>
Date:   Wed Jun 12 15:50:40 2013 +0200

    Check result of logsys_subsys_create
    
    Signed-off-by: Jan Friesse <jfriesse@redhat.com>
    Reviewed-by: Fabio M. Di Nitto <fdinitto@redhat.com>

diff --git a/exec/logsys.c b/exec/logsys.c
index f524fcdc..b1abe9d8 100644
--- a/exec/logsys.c
+++ b/exec/logsys.c
@@ -305,6 +305,10 @@ int _logsys_system_setup(
 	 * Setup libqb as a subsys
 	 */
 	i = _logsys_subsys_create ("QB", "array.c");
+	if (i < 0) {
+		return -1;
+	}
+
 	_logsys_subsys_filename_add (i, "log.c");
 	_logsys_subsys_filename_add (i, "log_syslog.c");
 	_logsys_subsys_filename_add (i, "log_blackbox.c");

