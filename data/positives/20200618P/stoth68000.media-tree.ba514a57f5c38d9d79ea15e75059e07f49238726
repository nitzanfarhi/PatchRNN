commit ba514a57f5c38d9d79ea15e75059e07f49238726
Author: Eric W. Biederman <ebiederm@xmission.com>
Date:   Tue Mar 30 16:50:26 2010 -0700

    sysfs: Remove double free sysfs_get_sb
    
    Signed-off-by: Eric W. Biederman <ebiederm@aristanetworks.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/fs/sysfs/mount.c b/fs/sysfs/mount.c
index db0b1f2138af..50e4fb6a7403 100644
--- a/fs/sysfs/mount.c
+++ b/fs/sysfs/mount.c
@@ -104,7 +104,6 @@ static int sysfs_get_sb(struct file_system_type *fs_type,
 	if (IS_ERR(sb) || sb->s_fs_info != info)
 		kfree(info);
 	if (IS_ERR(sb)) {
-		kfree(info);
 		error = PTR_ERR(sb);
 		goto out;
 	}

