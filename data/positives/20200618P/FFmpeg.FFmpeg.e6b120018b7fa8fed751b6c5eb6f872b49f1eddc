commit e6b120018b7fa8fed751b6c5eb6f872b49f1eddc
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun Sep 24 10:38:14 2006 +0000

    segfault fix
    thanks to takis for finding the cause of this
    
    Originally committed as revision 6325 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavcodec/eval.c b/libavcodec/eval.c
index 2aabb3bd6c..4ed178d635 100644
--- a/libavcodec/eval.c
+++ b/libavcodec/eval.c
@@ -87,6 +87,7 @@ static double evalPrimary(Parser *p){
     p->s= strchr(p->s, '(');
     if(p->s==NULL){
         av_log(NULL, AV_LOG_ERROR, "Parser: missing ( in \"%s\"\n", next);
+        p->s= next;
         return NAN;
     }
     p->s++; // "("

