commit 9e46aedab389122948144713ee5b8bae2658fb1b
Author: Dan Carpenter <dan.carpenter@oracle.com>
Date:   Fri Aug 21 14:25:34 2015 +0300

    ALSA: hdsp: silence and underflow warning
    
    I believe this probably cannot happen, as the code suggests.  There
    would have to be an kcontrol->index.id which was zero, otherwise this
    would be prevented in snd_ctl_find_id().  But snd_BUG_ON() is just a
    WARN() or a no-op so static checkers complain that we keep on going with
    a negative offset.  Let's just handle the error as well as printing
    a warning.
    
    Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

diff --git a/sound/pci/rme9652/hdsp.c b/sound/pci/rme9652/hdsp.c
index c19e021ccf66..468a95cdce70 100644
--- a/sound/pci/rme9652/hdsp.c
+++ b/sound/pci/rme9652/hdsp.c
@@ -2806,7 +2806,8 @@ static int snd_hdsp_get_adat_sync_check(struct snd_kcontrol *kcontrol, struct sn
 	struct hdsp *hdsp = snd_kcontrol_chip(kcontrol);
 
 	offset = ucontrol->id.index - 1;
-	snd_BUG_ON(offset < 0);
+	if (snd_BUG_ON(offset < 0))
+		return -EINVAL;
 
 	switch (hdsp->io_type) {
 	case Digiface:

