commit 60573b874b03d22678614ca1e73f6b15c1b53b40
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Oct 17 13:02:33 2007 +0200

    [BLOCK] Clear sg entry before filling in blk_rq_map_sg()
    
    The memset() of the sg entry was originally removed, because it could
    overwrite a chain pointer. But it's quite OK to memset() it when we know
    it's a valid entry, since it can't contain a chain pointer.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

diff --git a/block/ll_rw_blk.c b/block/ll_rw_blk.c
index 9eabac95fbe0..1014d349a386 100644
--- a/block/ll_rw_blk.c
+++ b/block/ll_rw_blk.c
@@ -1352,6 +1352,7 @@ int blk_rq_map_sg(struct request_queue *q, struct request *rq,
 			sg = next_sg;
 			next_sg = sg_next(sg);
 
+			memset(sg, 0, sizeof(*sg));
 			sg->page = bvec->bv_page;
 			sg->length = nbytes;
 			sg->offset = bvec->bv_offset;

