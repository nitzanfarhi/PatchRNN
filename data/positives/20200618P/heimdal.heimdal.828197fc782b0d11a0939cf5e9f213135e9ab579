commit 828197fc782b0d11a0939cf5e9f213135e9ab579
Author: Love Hörnquist Åstrand <lha@kth.se>
Date:   Fri Dec 2 15:33:47 2005 +0000

    (acl_parse_format): tmp needs to be freed too on failure to parse
    format specifier.
    
    
    git-svn-id: svn://svn.h5l.se/heimdal/trunk/heimdal@16345 ec53bebd-3082-4978-b11e-865c3cabbd6b

diff --git a/lib/krb5/acl.c b/lib/krb5/acl.c
index ebf595c61..566917914 100644
--- a/lib/krb5/acl.c
+++ b/lib/krb5/acl.c
@@ -101,6 +101,7 @@ acl_parse_format(krb5_context context,
 	    krb5_set_error_string(context, "acl_parse_format: "
 				  "unknown format specifier %c", *p);
 	    acl_free_list(acl, 0);
+	    free(tmp);
 	    return EINVAL;
 	}
 	tmp->next = NULL;

