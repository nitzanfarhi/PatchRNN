commit 937fcdab6eb3f27a685faa40d078f27a3bc60eee
Author: jsing <jsing>
Date:   Thu Jan 22 11:16:56 2015 +0000

    Use field names in struct initialisers.
    
    No change to generated assembly.

diff --git a/src/crypto/x509/by_dir.c b/src/crypto/x509/by_dir.c
index 193adb12..dd8a33ad 100644
--- a/src/crypto/x509/by_dir.c
+++ b/src/crypto/x509/by_dir.c
@@ -102,16 +102,16 @@ static int get_cert_by_subject(X509_LOOKUP *xl, int type, X509_NAME *name,
     X509_OBJECT *ret);
 
 X509_LOOKUP_METHOD x509_dir_lookup = {
-	"Load certs from files in a directory",
-	new_dir,		/* new */
-	free_dir,		/* free */
-	NULL, 			/* init */
-	NULL,			/* shutdown */
-	dir_ctrl,		/* ctrl */
-	get_cert_by_subject,	/* get_by_subject */
-	NULL,			/* get_by_issuer_serial */
-	NULL,			/* get_by_fingerprint */
-	NULL,			/* get_by_alias */
+	.name = "Load certs from files in a directory",
+	.new_item = new_dir,
+	.free = free_dir,
+	.init = NULL, 
+	.shutdown = NULL,
+	.ctrl = dir_ctrl,
+	.get_by_subject = get_cert_by_subject,
+	.get_by_issuer_serial = NULL,
+	.get_by_fingerprint = NULL,
+	.get_by_alias = NULL,
 };
 
 X509_LOOKUP_METHOD *
diff --git a/src/crypto/x509/by_file.c b/src/crypto/x509/by_file.c
index 04366460..3f60d406 100644
--- a/src/crypto/x509/by_file.c
+++ b/src/crypto/x509/by_file.c
@@ -71,16 +71,16 @@ static int by_file_ctrl(X509_LOOKUP *ctx, int cmd, const char *argc,
     long argl, char **ret);
 
 X509_LOOKUP_METHOD x509_file_lookup = {
-	"Load file into cache",
-	NULL,		/* new */
-	NULL,		/* free */
-	NULL, 		/* init */
-	NULL,		/* shutdown */
-	by_file_ctrl,	/* ctrl */
-	NULL,		/* get_by_subject */
-	NULL,		/* get_by_issuer_serial */
-	NULL,		/* get_by_fingerprint */
-	NULL,		/* get_by_alias */
+	.name = "Load file into cache",
+	.new_item = NULL,
+	.free = NULL,
+	.init = NULL,
+	.shutdown = NULL,
+	.ctrl = by_file_ctrl,
+	.get_by_subject = NULL,
+	.get_by_issuer_serial = NULL,
+	.get_by_fingerprint = NULL,
+	.get_by_alias = NULL,
 };
 
 X509_LOOKUP_METHOD *
diff --git a/src/crypto/x509/by_mem.c b/src/crypto/x509/by_mem.c
index 81af3ffe..c0953f1b 100644
--- a/src/crypto/x509/by_mem.c
+++ b/src/crypto/x509/by_mem.c
@@ -1,4 +1,4 @@
-/* $OpenBSD$ */
+/* $OpenBSD: by_mem.c,v 1.1 2015/01/22 09:06:39 reyk Exp $ */
 /* Copyright (C) 1995-1998 Eric Young (eay@cryptsoft.com)
  * All rights reserved.
  *
@@ -71,16 +71,16 @@
 static int by_mem_ctrl(X509_LOOKUP *, int, const char *, long, char **);
 
 X509_LOOKUP_METHOD x509_mem_lookup = {
-	"Load cert from memory",
-	NULL,		/* new */
-	NULL,		/* free */
-	NULL,		/* init */
-	NULL,		/* shutdown */
-	by_mem_ctrl,	/* ctrl */
-	NULL,		/* get_by_subject */
-	NULL,		/* get_by_issuer_serial */
-	NULL,		/* get_by_fingerprint */
-	NULL,		/* get_by_alias */
+	.name = "Load cert from memory",
+	.new_item = NULL,
+	.free = NULL,
+	.init = NULL,
+	.shutdown = NULL,
+	.ctrl = by_mem_ctrl,
+	.get_by_subject = NULL,
+	.get_by_issuer_serial = NULL,
+	.get_by_fingerprint = NULL,
+	.get_by_alias = NULL,
 };
 
 X509_LOOKUP_METHOD *

