commit 26a1a08fc798fb36c8086138b5f78119aa8c0e21
Author: FuGangqiang <fu_gangqiang@163.com>
Date:   Mon Apr 20 23:03:34 2015 +0800

    sdsfree x and y

diff --git a/src/sds.c b/src/sds.c
index 5c7cdcb1..2ebe286d 100644
--- a/src/sds.c
+++ b/src/sds.c
@@ -1098,6 +1098,7 @@ int sdsTest(int argc, char *argv[]) {
             unsigned int oldfree;
 
             sdsfree(x);
+            sdsfree(y);
             x = sdsnew("0");
             sh = (void*) (x-(sizeof(struct sdshdr)));
             test_cond("sdsnew() free/len buffers", sh->len == 1 && sh->free == 0);
@@ -1110,6 +1111,8 @@ int sdsTest(int argc, char *argv[]) {
             test_cond("sdsIncrLen() -- content", x[0] == '0' && x[1] == '1');
             test_cond("sdsIncrLen() -- len", sh->len == 2);
             test_cond("sdsIncrLen() -- free", sh->free == oldfree-1);
+
+            sdsfree(x);
         }
     }
     test_report()

