commit 6875c0fc18a8587311e621cff71bb601b2ab3efd
Author: Andrew Beekhof <andrew@beekhof.net>
Date:   Fri Sep 10 21:15:24 2010 +0200

    Medium: PE: Resolve memory leak in new ordering code reported by valgrind
    
    Mercurial revision: d20837916be404df82c73e2c3f2510abcb2bad65

diff --git a/pengine/allocate.c b/pengine/allocate.c
index d489e471a..7fec6392e 100644
--- a/pengine/allocate.c
+++ b/pengine/allocate.c
@@ -1185,6 +1185,7 @@ static void rsc_order_first(resource_t *lh_rsc, order_constraint_t *order, pe_wo
 
 	crm_free(op_type);
 	crm_free(rsc_id);
+	crm_free(key);
     }
 
     slist_iter(

