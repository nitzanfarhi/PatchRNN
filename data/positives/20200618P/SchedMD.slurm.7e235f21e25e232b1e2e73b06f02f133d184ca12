commit 7e235f21e25e232b1e2e73b06f02f133d184ca12
Author: Moe Jette <jette1@llnl.gov>
Date:   Tue Jul 1 18:02:35 2003 +0000

    Plug memory leaks by explicitly freeing slurm_credential associated with
    job, step, node, and partition info.

diff --git a/src/api/job_info.c b/src/api/job_info.c
index 7d4531100d..0e46334481 100644
--- a/src/api/job_info.c
+++ b/src/api/job_info.c
@@ -222,6 +222,7 @@ slurm_load_jobs (time_t update_time, job_info_msg_t **resp)
 	switch (resp_msg.msg_type) {
 	case RESPONSE_JOB_INFO:
 		*resp = (job_info_msg_t *)resp_msg.data;
+		slurm_free_cred(resp_msg.cred);
 		break;
 	case RESPONSE_SLURM_RC:
 		rc = ((return_code_msg_t *) resp_msg.data)->return_code;
diff --git a/src/api/job_step_info.c b/src/api/job_step_info.c
index cd1b28e5d5..f07cea90b6 100644
--- a/src/api/job_step_info.c
+++ b/src/api/job_step_info.c
@@ -128,6 +128,7 @@ slurm_get_job_steps (time_t update_time, uint32_t job_id, uint32_t step_id,
 	switch (resp_msg.msg_type) {
 	case RESPONSE_JOB_STEP_INFO:
 		*resp = (job_step_info_response_msg_t *) resp_msg.data;
+		slurm_free_cred(resp_msg.cred);
 		break;
 	case RESPONSE_SLURM_RC:
 		rc = ((return_code_msg_t *) resp_msg.data)->return_code;
diff --git a/src/api/node_info.c b/src/api/node_info.c
index 3c3dfcd00e..5f18c6ce0f 100644
--- a/src/api/node_info.c
+++ b/src/api/node_info.c
@@ -120,6 +120,7 @@ slurm_load_node (time_t update_time, node_info_msg_t **resp)
 	switch (resp_msg.msg_type) {
 	case RESPONSE_NODE_INFO:
 		*resp = (node_info_msg_t *) resp_msg.data;
+		slurm_free_cred(resp_msg.cred);
 		break;
 	case RESPONSE_SLURM_RC:
 		rc = ((return_code_msg_t *) resp_msg.data)->return_code;
diff --git a/src/api/partition_info.c b/src/api/partition_info.c
index 6db9d132d9..d9c01cbbb7 100644
--- a/src/api/partition_info.c
+++ b/src/api/partition_info.c
@@ -164,6 +164,7 @@ slurm_load_partitions (time_t update_time, partition_info_msg_t **resp)
 	switch (resp_msg.msg_type) {
 	case RESPONSE_PARTITION_INFO:
 		*resp = (partition_info_msg_t *) resp_msg.data;
+		slurm_free_cred(resp_msg.cred);
 		break;
 	case RESPONSE_SLURM_RC:
 		rc = ((return_code_msg_t *) resp_msg.data)->return_code;

