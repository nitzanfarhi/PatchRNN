commit eab5168cd345a5ce0001036690daac7767062aa1
Author: Stefano Sabatini <stefano.sabatini-lala@poste.it>
Date:   Wed Mar 18 21:34:19 2009 +0000

    Flush the remaning chars in the input buffer after reading the
    response to the "Overwrite ? [y/N]" question.
    
    Fix the behaviour when the question is asked more than one time.
    
    Originally committed as revision 18036 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/ffmpeg.c b/ffmpeg.c
index 57770e630..c4f910d1c 100644
--- a/ffmpeg.c
+++ b/ffmpeg.c
@@ -3404,6 +3404,8 @@ static void opt_output_file(const char *filename)
                         fprintf(stderr, "Not overwriting - exiting\n");
                         av_exit(1);
                     }
+                    while (c != '\n' && c != EOF)
+                        c = getchar();
                 }
                 else {
                     fprintf(stderr,"File '%s' already exists. Exiting.\n", filename);

