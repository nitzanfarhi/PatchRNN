commit 43d03f299a017186e00f47c5b10f732492d496a6
Author: Tiejun Chen <tiejun.chen@windriver.com>
Date:   Wed May 1 15:22:59 2013 +0000

    PPC: e500: correct params->ram_size with ram_size
    
    We should sync params->ram_size after we fixup memory size on
    a alignment boundary. Otherwise Guest would exceed the actual
    memory region.
    
    Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
    Signed-off-by: Alexander Graf <agraf@suse.de>

diff --git a/hw/ppc/e500.c b/hw/ppc/e500.c
index 2d474e5124..c9ae51211e 100644
--- a/hw/ppc/e500.c
+++ b/hw/ppc/e500.c
@@ -547,6 +547,7 @@ void ppce500_init(PPCE500Params *params)
 
     /* Fixup Memory size on a alignment boundary */
     ram_size &= ~(RAM_SIZES_ALIGN - 1);
+    params->ram_size = ram_size;
 
     /* Register Memory */
     memory_region_init_ram(ram, "mpc8544ds.ram", ram_size);

