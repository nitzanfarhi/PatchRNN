commit 0a72de45d01e141dea4b6de2743922bb8da88905
Author: Ethan Galstad <egalstad@nagios.org>
Date:   Wed Jun 17 03:04:40 2009 +0000

    Minor buffer size fix in query_update_api() code
    
    
    git-svn-id: https://nagios.svn.sourceforge.net/svnroot/nagios/nagioscore/trunk@1285 5f96b256-904b-4d8d-8c98-d829582c6739

diff --git a/base/utils.c b/base/utils.c
index c43842d8..76dcc35b 100644
--- a/base/utils.c
+++ b/base/utils.c
@@ -3,7 +3,7 @@
  * UTILS.C - Miscellaneous utility functions for Nagios
  *
  * Copyright (c) 1999-2009 Ethan Galstad (egalstad@nagios.org)
- * Last Modified: 05-15-2009
+ * Last Modified: 06-16-2009
  *
  * License:
  *
@@ -4490,7 +4490,7 @@ int query_update_api(void){
 		/* get response */
 		recv_len=sizeof(recv_buf);
 		result=my_recvall(sd,recv_buf,&recv_len,2);
-		recv_buf[sizeof(recv_buf)]='\x0';
+		recv_buf[sizeof(recv_buf)-1]='\x0';
 		/*printf("RECV RESULT: %d, RECEIVED: %d\n",result,recv_len);*/
 
 		/*

