commit 8cdef277b24e11ab48932c38a14aaa5bd5f19bfe
Author: Patrick Walton <pcwalton@mimiga.net>
Date:   Sun Jun 19 17:16:21 2011 -0700

    rt: Fix size miscalculation in ivec_reserve

diff --git a/src/rt/rust_builtin.cpp b/src/rt/rust_builtin.cpp
index ca8f24a422..74b1075f70 100644
--- a/src/rt/rust_builtin.cpp
+++ b/src/rt/rust_builtin.cpp
@@ -629,7 +629,7 @@ ivec_reserve(rust_task *task, type_desc *ty, rust_ivec *v, size_t n_elems)
     } else {
         // On heap; resize.
         heap_part = (rust_ivec_heap *)task->realloc(v->payload.ptr,
-                                                    new_alloc);
+                                                new_alloc + sizeof(size_t));
         v->payload.ptr = heap_part;
     }
 

