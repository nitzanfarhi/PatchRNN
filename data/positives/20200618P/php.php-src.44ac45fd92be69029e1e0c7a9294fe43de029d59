commit 44ac45fd92be69029e1e0c7a9294fe43de029d59
Author: Dmitry Stogov <dmitry@php.net>
Date:   Wed Apr 18 11:59:03 2007 +0000

    Fixed endless loop in open_basedir check

diff --git a/main/fopen_wrappers.c b/main/fopen_wrappers.c
index 843246e7eb..476b4c8442 100644
--- a/main/fopen_wrappers.c
+++ b/main/fopen_wrappers.c
@@ -208,6 +208,8 @@ PHPAPI int php_check_specific_open_basedir(const char *basedir, const char *path
 			if (path_len > 1 && path_tmp[path_len - 2] == ':') {
 				/* this is c:\,  */
 				path_tmp[path_len] = '\0';
+			} else {
+				path_tmp[path_len - 1] = '\0';
 			}
 #else
 			path_tmp[path_len - 1] = '\0';

