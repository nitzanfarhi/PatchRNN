commit a7bb6b1fa57fe736115820fbdbdff56a50acaf0a
Author: gfgtdf <tischpapier@gmail.com>
Date:   Mon Nov 23 00:49:22 2015 +0100

    fix crash in set_variables
    
    http://gna.org/bugs/?24100
    
    This only changes the vit == vit_const case.

diff --git a/src/variable_info.cpp b/src/variable_info.cpp
index a9a1b66522..3fd58f3765 100644
--- a/src/variable_info.cpp
+++ b/src/variable_info.cpp
@@ -326,7 +326,14 @@ namespace {
 		typename as_range_visitor_base::result_type from_indexed(typename as_range_visitor_base::param_type state) const
 		{
 			//Ensure we have a config at the given explicit position.
-			get_child_at<vit>(*state.child_, state.key_, state.index_);
+			if(vit == vit_create_if_not_existent)
+			{
+				get_child_at<vit>(*state.child_, state.key_, state.index_);
+			}
+			else if(state.child_->child(state.key_, state.index_))
+			{
+				throw invalid_variablename_exception();
+			}
 			return this->handler_(*state.child_, state.key_, state.index_, state.index_ + 1);
 		}
 	};

