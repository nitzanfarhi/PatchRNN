commit 0c72b185fd1d5734c1b6f98d885175b1e53fa6b6
Author: Ilia Alshanetsky <iliaa@php.net>
Date:   Fri Jun 18 00:44:35 2004 +0000

    Fixed possible memory leak.

diff --git a/ext/odbc/php_odbc.c b/ext/odbc/php_odbc.c
index 239eb4c124..4d0c00c4ca 100644
--- a/ext/odbc/php_odbc.c
+++ b/ext/odbc/php_odbc.c
@@ -1009,11 +1009,15 @@ PHP_FUNCTION(odbc_execute)
 
 				/* Check for safe mode. */
 				if (PG(safe_mode) && (!php_checkuid(filename, NULL, CHECKUID_CHECK_FILE_AND_DIR))) {
-						RETURN_FALSE;
-					}
+					efree(filename);
+					efree(params);
+					RETURN_FALSE;
+				}
 
 				/* Check the basedir */
 				if (php_check_open_basedir(filename TSRMLS_CC)) {
+					efree(filename);
+					efree(params);
 					RETURN_FALSE;
 				}
 

