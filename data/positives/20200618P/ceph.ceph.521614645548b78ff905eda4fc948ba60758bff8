commit 521614645548b78ff905eda4fc948ba60758bff8
Author: Jason Dillaman <dillaman@redhat.com>
Date:   Tue Jan 12 10:15:09 2016 -0500

    librbd: avoid error message when peer owns exclusive lock
    
    Signed-off-by: Jason Dillaman <dillaman@redhat.com>

diff --git a/src/librbd/ExclusiveLock.cc b/src/librbd/ExclusiveLock.cc
index cf409739af..83d182f500 100644
--- a/src/librbd/ExclusiveLock.cc
+++ b/src/librbd/ExclusiveLock.cc
@@ -321,7 +321,7 @@ void ExclusiveLock<I>::handle_acquire_lock(int r) {
   CephContext *cct = m_image_ctx.cct;
   ldout(cct, 10) << this << " " << __func__ << ": r=" << r << dendl;
 
-  if (r == -EBUSY) {
+  if (r == -EBUSY || r == -EAGAIN) {
     ldout(cct, 5) << "unable to acquire exclusive lock" << dendl;
   } else if (r < 0) {
     lderr(cct) << "failed to acquire exclusive lock:" << cpp_strerror(r)

