commit 9f953ca0b8ae71f4ea8112a3aac36454a2c4b907
Author: Stefan Weil <weil@mail.berlios.de>
Date:   Sat Jan 22 13:02:46 2011 +0100

    s390: Fix memory leak
    
    Signed-off-by: Stefan Weil <weil@mail.berlios.de>
    Signed-off-by: Aurelien Jarno <aurelien@aurel32.net>

diff --git a/hw/s390-virtio.c b/hw/s390-virtio.c
index f29b624e41..850422fee0 100644
--- a/hw/s390-virtio.c
+++ b/hw/s390-virtio.c
@@ -204,6 +204,7 @@ static void s390_init(ram_addr_t ram_size,
 
         bios_filename = qemu_find_file(QEMU_FILE_TYPE_BIOS, bios_name);
         bios_size = load_image(bios_filename, qemu_get_ram_ptr(ZIPL_LOAD_ADDR));
+        qemu_free(bios_filename);
 
         if ((long)bios_size < 0) {
             hw_error("could not load bootloader '%s'\n", bios_name);

