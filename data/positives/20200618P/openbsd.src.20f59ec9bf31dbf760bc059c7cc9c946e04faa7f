commit 20f59ec9bf31dbf760bc059c7cc9c946e04faa7f
Author: jacekm <jacekm@openbsd.org>
Date:   Sat Oct 3 07:59:55 2009 +0000

    dont dereference garbage pointer, from martynas@

diff --git a/usr.sbin/smtpd/ssl.c b/usr.sbin/smtpd/ssl.c
index 7f323fe640a..02c35430268 100644
--- a/usr.sbin/smtpd/ssl.c
+++ b/usr.sbin/smtpd/ssl.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: ssl.c,v 1.21 2009/09/22 08:23:09 jj Exp $	*/
+/*	$OpenBSD: ssl.c,v 1.22 2009/10/03 07:59:55 jacekm Exp $	*/
 
 /*
  * Copyright (c) 2008 Pierre-Yves Ritschard <pyr@openbsd.org>
@@ -598,7 +598,7 @@ SSL *
 ssl_client_init(int fd, char *cert, size_t certsz, char *key, size_t keysz)
 {
 	SSL_CTX		*ctx;
-	SSL		*ssl;
+	SSL		*ssl = NULL;
 	int		 rv = -1;
 
 	ctx = ssl_ctx_create();

