commit c86db0734f619d82e6cd8391a0f249e21c74aa32
Author: Luke Dashjr <luke-jr+git@utopios.org>
Date:   Thu Dec 6 18:31:41 2012 +0000

    Bugfix: Free stratum nonce1 before replacing it with new value on reconnect

diff --git a/util.c b/util.c
index db100ecc..9cec40d2 100644
--- a/util.c
+++ b/util.c
@@ -1100,6 +1100,7 @@ bool initiate_stratum(struct pool *pool)
 		goto out;
 	}
 
+	free(pool->nonce1);
 	pool->nonce1 = strdup(json_string_value(json_array_get(res_val, 1)));
 	if (!pool->nonce1) {
 		applog(LOG_WARNING, "Failed to get nonce1 in initiate_stratum");

