commit e1b6fda66c32022e3d5f8b7edae62a06ff336885
Author: tb <tb@openbsd.org>
Date:   Thu Nov 2 06:55:35 2017 +0000

    Switch calloc(3) back to malloc(3).  The call to calloc was introduced
    by the plaintext history diff, but the code that may have depended on
    this was since removed from history.c.  None of the code introduced
    between the plaintext history commit and now depends on calloc(3).
    This way we can again use malloc.conf(5)'s J option to recognize use
    of uninitialized memory.
    
    ok jca

diff --git a/bin/ksh/alloc.c b/bin/ksh/alloc.c
index e1de35af5fa..e3129bfe1fe 100644
--- a/bin/ksh/alloc.c
+++ b/bin/ksh/alloc.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: alloc.c,v 1.17 2017/08/15 17:57:57 jca Exp $	*/
+/*	$OpenBSD: alloc.c,v 1.18 2017/11/02 06:55:35 tb Exp $	*/
 
 /* Public domain, like most of the rest of ksh */
 
@@ -47,7 +47,7 @@ alloc(size_t size, Area *ap)
 	if (size > SIZE_MAX - sizeof(struct link))
 		internal_errorf(1, "unable to allocate memory");
 
-	l = calloc(1, sizeof(struct link) + size);
+	l = malloc(sizeof(struct link) + size);
 	if (l == NULL)
 		internal_errorf(1, "unable to allocate memory");
 	l->next = ap->freelist;

