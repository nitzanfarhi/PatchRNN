commit b018f09abbecc6b057c6f9446406c6f20f43a235
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Nov 26 00:32:23 2011 +0100

    dialog(k): safety check for lookup in dialog table at shutdown
    (cherry picked from commit 017ea5779710223df8f5a28829f77eff8395affc)

diff --git a/modules_k/dialog/dlg_hash.c b/modules_k/dialog/dlg_hash.c
index 296efdd96..2dbf9a03a 100644
--- a/modules_k/dialog/dlg_hash.c
+++ b/modules_k/dialog/dlg_hash.c
@@ -444,6 +444,9 @@ dlg_cell_t *dlg_lookup( unsigned int h_entry, unsigned int h_id)
 	dlg_cell_t *dlg;
 	dlg_entry_t *d_entry;
 
+	if(d_table==NULL)
+		return 0;
+
 	if (h_entry>=d_table->size)
 		goto not_found;
 

