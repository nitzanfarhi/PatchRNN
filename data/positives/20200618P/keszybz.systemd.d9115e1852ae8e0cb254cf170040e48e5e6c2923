commit d9115e1852ae8e0cb254cf170040e48e5e6c2923
Author: Lennart Poettering <lennart@poettering.net>
Date:   Fri Apr 12 21:44:14 2013 +0200

    kdbus: make sure msg structure is properly initialized

diff --git a/src/libsystemd-bus/bus-kernel.c b/src/libsystemd-bus/bus-kernel.c
index 878cd9c43..c1901384b 100644
--- a/src/libsystemd-bus/bus-kernel.c
+++ b/src/libsystemd-bus/bus-kernel.c
@@ -117,6 +117,8 @@ static int bus_message_setup_kmsg(sd_bus_message *m) {
         if (!m->kdbus)
                 return -ENOMEM;
 
+        memset(m->kdbus, 0, sz);
+
         m->kdbus->flags =
                 ((m->header->flags & SD_BUS_MESSAGE_NO_REPLY_EXPECTED) ? 0 : KDBUS_MSG_FLAGS_EXPECT_REPLY) |
                 ((m->header->flags & SD_BUS_MESSAGE_NO_AUTO_START) ? KDBUS_MSG_FLAGS_NO_AUTO_START : 0);

