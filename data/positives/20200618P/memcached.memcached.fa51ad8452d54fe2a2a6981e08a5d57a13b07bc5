commit fa51ad8452d54fe2a2a6981e08a5d57a13b07bc5
Author: dormando <dormando@rydia.net>
Date:   Tue Sep 29 21:39:59 2015 -0700

    fix off by one in slab shuffling
    
    Thanks Devon :)

diff --git a/slabs.c b/slabs.c
index 1c88376..cd059b5 100644
--- a/slabs.c
+++ b/slabs.c
@@ -747,10 +747,10 @@ static void slab_rebalance_finish(void) {
      * We always kill the "first"/"oldest" slab page in the slab_list, so
      * shuffle the page list backwards and decrement.
      */
+    s_cls->slabs--;
     for (x = 0; x < s_cls->slabs; x++) {
         s_cls->slab_list[x] = s_cls->slab_list[x+1];
     }
-    s_cls->slabs--;
 
     memset(slab_rebal.slab_start, 0, (size_t)settings.item_size_max);
 

