commit da8e46c4999272c46d05c5dd98a71c0767a8c39d
Author: Dave Beckett <dave@dajobe.org>
Date:   Tue Jun 8 16:52:19 2004 +0000

    Add error for failure of raptor_uri_filename_to_uri_string

diff --git a/utils/rapper.c b/utils/rapper.c
index 6737212a..5921baf8 100644
--- a/utils/rapper.c
+++ b/utils/rapper.c
@@ -447,6 +447,11 @@ main(int argc, char *argv[])
   } else if(!access((const char*)uri_string, R_OK)) {
     filename=(char*)uri_string;
     uri_string=raptor_uri_filename_to_uri_string(filename);
+    if(!uri_string) {
+      fprintf(stderr, "%s: Failed to create URI for file %s.\n",
+              program, filename);
+      return(1);
+    }
     free_uri_string=1;
   }
 

