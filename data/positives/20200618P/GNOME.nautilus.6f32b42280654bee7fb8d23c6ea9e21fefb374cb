commit 6f32b42280654bee7fb8d23c6ea9e21fefb374cb
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   Sun Aug 4 23:29:10 2013 +0200

    list-view: don't crash when expanding a directory
    
    We need to check for file != NULL, which is true in the case we just
    started expanding the directory.

diff --git a/src/nautilus-list-view.c b/src/nautilus-list-view.c
index f81682b56..ff3c69887 100644
--- a/src/nautilus-list-view.c
+++ b/src/nautilus-list-view.c
@@ -1774,6 +1774,13 @@ location_cell_data_func (GtkTreeViewColumn *column,
 	                    NAUTILUS_LIST_MODEL_FILE_COLUMN, &file,
 	                    -1);
 
+	/* The file might be NULL if we just toggled an expander
+	 * and we're still loading the subdirectory.
+	 */
+	if (file == NULL) {
+		return;
+	}
+
 	if (show_trash_orig && nautilus_file_is_in_trash (file)) {
 		NautilusFile *orig_file;
 

