commit 1b2457680f237f858d5f6bcf933cd173a7b27a81
Author: Oliver Endriss <o.endriss@gmx.de>
Date:   Mon Mar 12 21:45:46 2007 -0300

    V4L/DVB (5440): Dvb-ttpci: Infrared remote initialization fix
    
    Fix bug introduced during infrared refactoring.
    Thanks to Johann Friedrichs for spotting this.
    
    Thanks-to: Johann Friedrichs <johann.friedrichs@web.de>
    Signed-off-by: Oliver Endriss <o.endriss@gmx.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

diff --git a/drivers/media/dvb/ttpci/av7110_ir.c b/drivers/media/dvb/ttpci/av7110_ir.c
index b7fd15959aad..a97f166bb523 100644
--- a/drivers/media/dvb/ttpci/av7110_ir.c
+++ b/drivers/media/dvb/ttpci/av7110_ir.c
@@ -329,8 +329,8 @@ int __devinit av7110_ir_init(struct av7110 *av7110)
 	if (av_cnt >= ARRAY_SIZE(av_list))
 		return -ENOSPC;
 
-	av7110_check_ir_config(av7110, true);
 	av_list[av_cnt++] = av7110;
+	av7110_check_ir_config(av7110, true);
 
 	init_timer(&av7110->ir.keyup_timer);
 	av7110->ir.keyup_timer.function = av7110_emit_keyup;

