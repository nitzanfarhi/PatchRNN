commit 3a9cbfe0096ad88d52c39f5a9d03f17251f750a5
Author: Hu Tao <hutao@cn.fujitsu.com>
Date:   Fri Aug 15 18:13:59 2014 +0800

    vl: free err
    
    err is not freed after use, thus causing memory leak. This patch fixes
    it.
    
    Signed-off-by: Hu Tao <hutao@cn.fujitsu.com>
    Cc: qemu-trivial@nongnu.org
    Signed-off-by: Michael Tokarev <mjt@tls.msk.ru>

diff --git a/vl.c b/vl.c
index 97831337d6..b796c67e9d 100644
--- a/vl.c
+++ b/vl.c
@@ -2918,6 +2918,7 @@ out:
     g_free(dummy);
     if (err) {
         qerror_report_err(err);
+        error_free(err);
         return -1;
     }
     return 0;

