commit c49e7924a8b537f2cda0da8627641fb97528fc11
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Apr 1 15:45:37 2015 +0200

    avutil/eval: check for av_malloc failure
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libavutil/eval.c b/libavutil/eval.c
index ea318560de..1dfcbef7bb 100644
--- a/libavutil/eval.c
+++ b/libavutil/eval.c
@@ -692,6 +692,10 @@ int av_expr_parse(AVExpr **expr, const char *s,
         goto end;
     }
     e->var= av_mallocz(sizeof(double) *VARS);
+    if (!e->var) {
+        ret = AVERROR(ENOMEM);
+        goto end;
+    }
     *expr = e;
     e = NULL;
 end:

