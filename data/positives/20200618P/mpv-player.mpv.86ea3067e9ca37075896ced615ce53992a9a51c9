commit 86ea3067e9ca37075896ced615ce53992a9a51c9
Author: reimar <reimar@b3059339-0415-0410-9bf9-f77b7e298cf2>
Date:   Tue Nov 1 18:22:18 2005 +0000

    close stream_fd on uninit. Fixes bugzilla bug #400.
    Modified patch from T. Dekker {t dekker [at] student utwente nl}.
    
    
    git-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@16887 b3059339-0415-0410-9bf9-f77b7e298cf2

diff --git a/libmpcodecs/vf_bmovl.c b/libmpcodecs/vf_bmovl.c
index 86889aac24..5b06448bdb 100644
--- a/libmpcodecs/vf_bmovl.c
+++ b/libmpcodecs/vf_bmovl.c
@@ -155,6 +155,8 @@ uninit(struct vf_instance_s *vf)
 		free(vf->priv->bitmap.v);
 		free(vf->priv->bitmap.a);
 		free(vf->priv->bitmap.oa);
+		if (vf->priv->stream_fd >= 0)
+		  close(vf->priv->stream_fd);
 		free(vf->priv);
 	}
 }

