commit dd1b71fb14b480cc47bb7141304a7c21c25a8068
Author: akv <anders@kvistmail.dk>
Date:   Sat Feb 13 00:43:48 2010 +0000

    Removed leak in rs-facebook-client.c.

diff --git a/plugins/output-facebook/rs-facebook-client.c b/plugins/output-facebook/rs-facebook-client.c
index a785cb78..e7afab04 100644
--- a/plugins/output-facebook/rs-facebook-client.c
+++ b/plugins/output-facebook/rs-facebook-client.c
@@ -386,7 +386,7 @@ rs_facebook_client_upload_image(RSFacebookClient *facebook, const gchar *filenam
 
 	struct stat st;
 	g_stat(filename, &st);
-	const gchar *filesize = g_strdup_printf("%d", (gint) st.st_size);
+	gchar *filesize = g_strdup_printf("%d", (gint) st.st_size);
 
 	rs_facebook_client_param_add_string(param, "filename", filename);
 	rs_facebook_client_param_add_string(param, "length", filesize);
@@ -400,6 +400,7 @@ rs_facebook_client_upload_image(RSFacebookClient *facebook, const gchar *filenam
 	facebook_client_request(facebook, "facebook.photos.upload", param, content, error);
 
 	g_string_free(content, TRUE);
+	g_free(filesize);
 
 	return TRUE;
 }

