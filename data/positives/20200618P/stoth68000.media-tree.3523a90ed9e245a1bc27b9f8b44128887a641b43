commit 3523a90ed9e245a1bc27b9f8b44128887a641b43
Author: Hema Prathaban <hemaklnce@gmail.com>
Date:   Fri May 17 11:14:56 2013 +0530

    staging: vt6655: Use alloc_etherdev() for kzalloc
    
    Use alloc_etherdev() for kzalloc
    
    Signed-off-by: Hema Prathaban <hemaklnce@gmail.com>
    Acked-by: Peter P Waskiewicz Jr <peter.p.waskiewicz.jr@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6655/hostap.c b/drivers/staging/vt6655/hostap.c
index 579220b418b7..46f097d0c841 100644
--- a/drivers/staging/vt6655/hostap.c
+++ b/drivers/staging/vt6655/hostap.c
@@ -80,7 +80,7 @@ static int hostap_enable_hostapd(PSDevice pDevice, int rtnl_locked)
 
 	DBG_PRT(MSG_LEVEL_DEBUG, KERN_INFO "%s: Enabling hostapd mode\n", dev->name);
 
-	pDevice->apdev = kzalloc(sizeof(struct net_device), GFP_KERNEL);
+	pDevice->apdev = alloc_etherdev(sizeof(*apdev_priv));
 	if (pDevice->apdev == NULL)
 		return -ENOMEM;
 

