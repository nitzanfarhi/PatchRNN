commit 691b3259e0bd4f9f5f9d402de6507648320b1f05
Author: Doug MacEachern <dougm@apache.org>
Date:   Tue Jul 24 18:17:06 2001 +0000

    zero the SSLStateMachine in case of early error, else SSLStateMachine_free segvs
    
    
    git-svn-id: https://svn.apache.org/repos/asf/httpd/httpd/trunk@89680 13f79535-47bb-0310-9956-ffa450edef68

diff --git a/modules/tls/openssl_state_machine.c b/modules/tls/openssl_state_machine.c
index 0d7d5e0d86..d62e123660 100644
--- a/modules/tls/openssl_state_machine.c
+++ b/modules/tls/openssl_state_machine.c
@@ -138,6 +138,8 @@ SSLStateMachine *SSLStateMachine_new(const char *szCertificateFile,
 
     die_unless(pMachine);
 
+    memset(pMachine, '\0', sizeof *pMachine);
+
     pMachine->pCtx=SSL_CTX_new(SSLv23_server_method());
     die_unless(pMachine->pCtx);
 

