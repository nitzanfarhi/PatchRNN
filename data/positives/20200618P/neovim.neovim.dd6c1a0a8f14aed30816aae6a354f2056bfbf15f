commit dd6c1a0a8f14aed30816aae6a354f2056bfbf15f
Author: Jan Edmund Lazo <janedmundlazo@hotmail.com>
Date:   Fri Aug 10 09:33:48 2018 -0400

    vim-patch:8.0.0828: Coverity: may dereference NULL pointer
    
    Problem:    Coverity: may dereference NULL pointer.
    Solution:   Bail out if calloc_state() returns NULL.
    https://github.com/vim/vim/commit/983b3a5bc44a91cc7e40b8e71e3bfdb03dd4606f

diff --git a/src/nvim/regexp_nfa.c b/src/nvim/regexp_nfa.c
index deef3042d..dcd89d147 100644
--- a/src/nvim/regexp_nfa.c
+++ b/src/nvim/regexp_nfa.c
@@ -3224,7 +3224,13 @@ static nfa_state_T *post2nfa(int *postfix, int *end, int nfa_calc_size)
       if (pattern) {
         /* NFA_ZEND -> NFA_END_PATTERN -> NFA_SKIP -> what follows. */
         skip = alloc_state(NFA_SKIP, NULL, NULL);
+        if (skip == NULL) {
+          goto theend;
+        }
         zend = alloc_state(NFA_ZEND, s1, NULL);
+        if (zend == NULL) {
+          goto theend;
+        }
         s1->out= skip;
         patch(e.out, zend);
         PUSH(frag(s, list1(&skip->out)));

