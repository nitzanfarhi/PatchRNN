commit f9fd102d73b4bb80e336009ac81545d3f9620a09
Author: Antony Dovgal <tony2001@php.net>
Date:   Wed Aug 9 11:48:50 2006 +0000

    fix leak on failure

diff --git a/ext/oci8/oci8_statement.c b/ext/oci8/oci8_statement.c
index 819bf2405b..926cc5ca77 100644
--- a/ext/oci8/oci8_statement.c
+++ b/ext/oci8/oci8_statement.c
@@ -1364,6 +1364,7 @@ php_oci_bind *php_oci_bind_array_helper_date(zval* var, long max_table_length, p
 
 			if (connection->errcode != OCI_SUCCESS) {
 				/* failed to convert string to date */
+				efree(bind->array.element_lengths);
 				efree(bind->array.elements);
 				efree(bind);
 				php_oci_error(connection->err, connection->errcode TSRMLS_CC);
@@ -1378,6 +1379,7 @@ php_oci_bind *php_oci_bind_array_helper_date(zval* var, long max_table_length, p
 
 			if (connection->errcode != OCI_SUCCESS) {
 				/* failed to convert string to date */
+				efree(bind->array.element_lengths);
 				efree(bind->array.elements);
 				efree(bind);
 				php_oci_error(connection->err, connection->errcode TSRMLS_CC);

