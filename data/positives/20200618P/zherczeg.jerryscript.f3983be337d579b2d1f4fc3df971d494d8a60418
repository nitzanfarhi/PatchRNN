commit f3983be337d579b2d1f4fc3df971d494d8a60418
Author: Ruben Ayrapetyan <r.ayrapetyan@samsung.com>
Date:   Mon Apr 27 16:23:55 2015 +0300

    Fixing heap usage limit condition of starting GC.
    
    JerryScript-DCO-1.0-Signed-off-by: Ruben Ayrapetyan r.ayrapetyan@samsung.com

diff --git a/jerry-core/mem/mem-heap.cpp b/jerry-core/mem/mem-heap.cpp
index 3f0446b6..6fb4c5e9 100644
--- a/jerry-core/mem/mem-heap.cpp
+++ b/jerry-core/mem/mem-heap.cpp
@@ -641,7 +641,7 @@ mem_heap_alloc_block (size_t size_in_bytes,             /**< size of region to a
   }
   else
   {
-    if (mem_heap.allocated_bytes >= mem_heap.limit)
+    if (mem_heap.allocated_bytes + size_in_bytes >= mem_heap.limit)
     {
       mem_run_try_to_give_memory_back_callbacks (MEM_TRY_GIVE_MEMORY_BACK_SEVERITY_LOW);
     }

