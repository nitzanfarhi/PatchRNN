commit d6afda62d94d7bb29d864cf1c86648839ef60b2d
Author: Carlos Mart√≠n Nieto <cmn@dwim.me>
Date:   Wed Oct 8 17:17:31 2014 +0200

    revwalk: clear first-parent flag on reset
    
    This should have been included when implementing the feature but was
    missed.

diff --git a/src/revwalk.c b/src/revwalk.c
index 1bf9fbe5c..4dca7599a 100644
--- a/src/revwalk.c
+++ b/src/revwalk.c
@@ -621,6 +621,7 @@ void git_revwalk_reset(git_revwalk *walk)
 	git_commit_list_free(&walk->iterator_rand);
 	git_commit_list_free(&walk->iterator_reverse);
 	git_commit_list_free(&walk->user_input);
+	walk->first_parent = 0;
 	walk->walking = 0;
 	walk->did_push = walk->did_hide = 0;
 }

