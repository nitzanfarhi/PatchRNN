commit c75e01288ce9c9a6b7beb6b23c07d2e4d1db8c84
Author: Viresh Kumar <viresh.kumar@linaro.org>
Date:   Mon Jun 10 16:27:19 2013 +0530

    sched: Don't set sd->child to NULL when it is already NULL
    
    Memory for sd is allocated with kzalloc_node() which will initialize its fields
    with zero. In build_sched_domain() we are setting sd->child to child even if
    child is NULL, which isn't required.
    
    Lets do it only if child isn't NULL.
    
    Signed-off-by: Viresh Kumar <viresh.kumar@linaro.org>
    Signed-off-by: Peter Zijlstra <peterz@infradead.org>
    Link: http://lkml.kernel.org/r/f4753a1730051341003ad2ad29a3229c7356678e.1370861520.git.viresh.kumar@linaro.org
    Signed-off-by: Ingo Molnar <mingo@kernel.org>

diff --git a/kernel/sched/core.c b/kernel/sched/core.c
index 3de62649869b..88c2c0ee5a52 100644
--- a/kernel/sched/core.c
+++ b/kernel/sched/core.c
@@ -5955,8 +5955,8 @@ struct sched_domain *build_sched_domain(struct sched_domain_topology_level *tl,
 		sd->level = child->level + 1;
 		sched_domain_level_max = max(sched_domain_level_max, sd->level);
 		child->parent = sd;
+		sd->child = child;
 	}
-	sd->child = child;
 	set_domain_attribute(sd, attr);
 
 	return sd;

