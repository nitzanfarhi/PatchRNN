commit 3aee288bc8e120bd022cbfede2aaf2b2a7ab1dcc
Author: bellard <bellard@c046a42c-6fe2-441c-8c8c-71466251a162>
Date:   Tue May 2 20:54:12 2006 +0000

    fixed memory leak
    
    
    git-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1890 c046a42c-6fe2-441c-8c8c-71466251a162

diff --git a/elf_ops.h b/elf_ops.h
index 4da755e1b3..122bf10c1f 100644
--- a/elf_ops.h
+++ b/elf_ops.h
@@ -195,6 +195,7 @@ int glue(load_elf, SZ)(int fd, int64_t virt_to_phys_addend,
             data = NULL;
         }
     }
+    qemu_free(phdr);
     return total_size;
  fail:
     qemu_free(data);

