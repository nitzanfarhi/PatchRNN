commit 15caebcec953d8cec2f0defd928666db7cbd01b1
Author: Assar Westerlund <assar@sics.se>
Date:   Sun Dec 12 00:59:52 1999 +0000

    (krb5_425_conv_principal_ext): be more robust and handle extra dot at
    the beginning of default_domain
    
    
    git-svn-id: svn://svn.h5l.se/heimdal/trunk/heimdal@7584 ec53bebd-3082-4978-b11e-865c3cabbd6b

diff --git a/lib/krb5/principal.c b/lib/krb5/principal.c
index 91ee54948..4bd526b62 100644
--- a/lib/krb5/principal.c
+++ b/lib/krb5/principal.c
@@ -675,6 +675,8 @@ krb5_425_conv_principal_ext(krb5_context context,
 	return HEIM_ERR_V4_PRINC_NO_CONV;
     }
 	
+    if (*p == '.')
+	++p;
     snprintf(host, sizeof(host), "%s.%s", instance, p);
     ret = krb5_make_principal(context, &pr, realm, name, host, NULL);
     if(func == NULL || (*func)(context, pr)){

