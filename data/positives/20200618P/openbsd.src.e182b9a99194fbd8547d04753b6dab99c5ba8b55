commit e182b9a99194fbd8547d04753b6dab99c5ba8b55
Author: brad <brad@openbsd.org>
Date:   Thu Aug 3 17:23:03 2006 +0000

    - initialize interrupt string to NULL.
    - remove bogus 32-bit memory type flag when mapping I/O space.
    
    ok deraadt@

diff --git a/sys/dev/pci/if_acx_pci.c b/sys/dev/pci/if_acx_pci.c
index f8cfec1697d..d17014726eb 100644
--- a/sys/dev/pci/if_acx_pci.c
+++ b/sys/dev/pci/if_acx_pci.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: if_acx_pci.c,v 1.1 2006/08/03 08:45:03 deraadt Exp $  */
+/*	$OpenBSD: if_acx_pci.c,v 1.2 2006/08/03 17:23:03 brad Exp $  */
 
 /*-
  * Copyright (c) 2006 Theo de Raadt <deraadt@openbsd.org>
@@ -108,7 +108,7 @@ acx_pci_attach(struct device *parent, struct device *self, void *aux)
 	struct acx_pci_softc *psc = (struct acx_pci_softc *)self;
 	struct acx_softc *sc = &psc->sc_acx;
 	struct pci_attach_args *pa = aux;
-	const char *intrstr;
+	const char *intrstr = NULL;
 	bus_addr_t base;
 	pci_intr_handle_t ih;
 	int error, b1 = ACX_PCI_BAR0, b2 = ACX_PCI_BAR1;
@@ -119,9 +119,8 @@ acx_pci_attach(struct device *parent, struct device *self, void *aux)
 	/* map control/status registers */
 	if (PCI_PRODUCT(pa->pa_id) == PCI_PRODUCT_TI_ACX100A) {
 		error = pci_mapreg_map(pa, ACX_PCI_BAR0,
-		    PCI_MAPREG_TYPE_IO | PCI_MAPREG_MEM_TYPE_32BIT,
-		    0, &psc->sc_io_bt, &psc->sc_io_bh, &base,
-		    &psc->sc_iomapsize, 0);
+		    PCI_MAPREG_TYPE_IO, 0, &psc->sc_io_bt,
+		    &psc->sc_io_bh, &base, &psc->sc_iomapsize, 0);
 		if (error != 0) {
 			printf(": could not map i/o space\n");
 			return;

