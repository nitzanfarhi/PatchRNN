commit 168640602880632bc430bf70bdfc35135b4eb146
Author: Steven Dake <sdake@redhat.com>
Date:   Wed Jul 13 20:00:15 2005 +0000

    defect 675
    section overwrite with null dataBuffer parameter locks up
    
    
    git-svn-id: http://svn.fedorahosted.org/svn/corosync/trunk@732 fd59a12c-fef9-0310-b244-a6a79926bd2f

diff --git a/lib/ckpt.c b/lib/ckpt.c
index 0e66ce7c..fbfecf5e 100644
--- a/lib/ckpt.c
+++ b/lib/ckpt.c
@@ -1402,6 +1402,10 @@ saCkptSectionOverwrite (
 	struct req_lib_ckpt_sectionoverwrite req_lib_ckpt_sectionoverwrite;
 	struct res_lib_ckpt_sectionoverwrite res_lib_ckpt_sectionoverwrite;
 
+	if (dataBuffer == NULL) {
+		return (SA_ERR_INVALID_PARAM);
+	}
+
 	error = saHandleInstanceGet (&checkpointHandleDatabase, checkpointHandle,
 		(void *)&ckptCheckpointInstance);
 	if (error != SA_AIS_OK) {

