commit f0df2d6b52ad7db5edf56909509d51be66fe90be
Author: Cyrill Gorcunov <gorcunov@gmail.com>
Date:   Wed Aug 20 16:41:45 2008 -0700

    acpi: add checking for NULL early param
    
    The early_param handling function could recieve NULL pointer as argument
    in case if user didn't enter parameter value.  So we have to be ready for
    a such situation and do check for NULL pointer if needed.
    
    Signed-off-by: Cyrill Gorcunov <gorcunov@gmail.com>
    Cc: Andi Kleen <andi@firstfloor.org>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Andi Kleen <ak@linux.intel.com>

diff --git a/drivers/acpi/tables.c b/drivers/acpi/tables.c
index c3419182c9a7..775c97a282bd 100644
--- a/drivers/acpi/tables.c
+++ b/drivers/acpi/tables.c
@@ -300,6 +300,8 @@ int __init acpi_table_init(void)
 
 static int __init acpi_parse_apic_instance(char *str)
 {
+	if (!str)
+		return -EINVAL;
 
 	acpi_apic_instance = simple_strtoul(str, NULL, 0);
 

