commit 91c30fcc031ad46c53529e12cfefccb8161e992e
Author: Luke Dashjr <luke-jr+git@utopios.org>
Date:   Fri Nov 29 22:36:58 2013 +0000

    Bugfix: hashbuster2: Close device and free memory allocated, when no chips are found

diff --git a/driver-hashbuster2.c b/driver-hashbuster2.c
index 030e39b6..537cce5c 100644
--- a/driver-hashbuster2.c
+++ b/driver-hashbuster2.c
@@ -199,7 +199,14 @@ bool hashbuster2_lowl_probe(const struct lowlevel_device_info * const info)
 	
 	chip_n = libbitfury_detectChips1(port);
 	if (unlikely(!chip_n))
+	{
+		applog(LOG_WARNING, "%s: No chips found on %s", __func__, serial);
+		free(port);
+		free(serial);
+		libusb_release_interface(h, 0);
+		libusb_close(h);
 		return false;
+	}
 	
 	{
 		devicelist = malloc(sizeof(*devicelist) * chip_n);

