commit 63075f638186e21efe8d393af6d84b9f229b7eed
Author: Fabrizio Furano <furano@cern.ch>
Date:   Wed Sep 30 08:29:19 2009 +0000

    Correctly detect mismatches in the number of copied bytes

diff --git a/src/XrdClient/Xrdcp.cc b/src/XrdClient/Xrdcp.cc
index 9b0c0984..7b227029 100644
--- a/src/XrdClient/Xrdcp.cc
+++ b/src/XrdClient/Xrdcp.cc
@@ -685,7 +685,7 @@ int doCp_xrd2xrd(XrdClient **xrddest, const char *src, const char *dst) {
       cout << endl;
    }
 
-   if ((unsigned)cpnfo.len != bytesread) retvalue = 13;
+   if (cpnfo.len != bytesread) retvalue = 13;
 
 #ifdef HAVE_XRDCRYPTO
    if (md5) MD_5->Final();
@@ -957,7 +957,7 @@ int doCp_xrd2loc(const char *src, const char *dst) {
       cout << endl;
    }
 
-   if ((unsigned)cpnfo.len != bytesread) retvalue = 13;
+   if (cpnfo.len != bytesread) retvalue = 13;
 
 #ifdef HAVE_XRDCRYPTO
    if (md5) MD_5->Final();

