commit 42ad70591ab463fffe419ce07f3bd2a7995a54f1
Author: Chris Conlon <chris@wolfssl.com>
Date:   Tue Jan 28 10:28:19 2014 -0700

    prevent XFREE from freeing NULL pointer under Freescale MQX

diff --git a/cyassl/ctaocrypt/settings.h b/cyassl/ctaocrypt/settings.h
index 0ca3f350..22dea06d 100644
--- a/cyassl/ctaocrypt/settings.h
+++ b/cyassl/ctaocrypt/settings.h
@@ -332,8 +332,8 @@
         #include "mutex.h"
     #endif
 
-    #define XMALLOC(s, h, type) (void *)_mem_alloc_system((s))
-    #define XFREE(p, h, type)   _mem_free(p)
+    #define XMALLOC(s, h, t)    (void *)_mem_alloc_system((s))
+    #define XFREE(p, h, t)      {void* xp = (p); if ((xp)) _mem_free((xp));}
     /* Note: MQX has no realloc, using fastmath above */
 #endif
 

