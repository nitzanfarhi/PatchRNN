commit 53d58db5bbddae3d295e4e4799b6821499ec50d2
Author: Anton Kochkov <anton.kochkov@gmail.com>
Date:   Tue May 6 01:23:06 2014 +0400

    Fix CID 1211145

diff --git a/libr/io/plugin.c b/libr/io/plugin.c
index 405fabfc2..15395bb13 100644
--- a/libr/io/plugin.c
+++ b/libr/io/plugin.c
@@ -10,7 +10,7 @@
 #include <stdio.h>
 
 volatile static RIOPlugin *DEFAULT = NULL;
-static RIOPlugin *io_static_plugins[] = 
+static RIOPlugin *io_static_plugins[] =
 	{ R_IO_STATIC_PLUGINS };
 
 
@@ -38,6 +38,7 @@ R_API int r_io_plugin_init(RIO *io) {
 		// memory leak here: static_plugin never freed
 		memcpy (static_plugin, io_static_plugins[i], sizeof (RIOPlugin));
 		if (!strncmp (static_plugin->name, "default", 7)) {
+			if (DEFAULT) free (DEFAULT);
 			DEFAULT = static_plugin;
 			continue;
 		}

