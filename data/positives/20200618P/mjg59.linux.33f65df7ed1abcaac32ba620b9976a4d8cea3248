commit 33f65df7ed1abcaac32ba620b9976a4d8cea3248
Author: Vegard Nossum <vegard.nossum@gmail.com>
Date:   Thu Feb 26 09:55:52 2009 +0100

    crypto: don't track xor test pages with kmemcheck
    
    The xor tests are run on uninitialized data, because it is doesn't
    really matter what the underlying data is. Annotate this false-
    positive warning.
    
    Acked-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Vegard Nossum <vegard.nossum@gmail.com>

diff --git a/crypto/xor.c b/crypto/xor.c
index 996b6ee57d9e..fc5b836f3430 100644
--- a/crypto/xor.c
+++ b/crypto/xor.c
@@ -101,7 +101,12 @@ calibrate_xor_blocks(void)
 	void *b1, *b2;
 	struct xor_block_template *f, *fastest;
 
-	b1 = (void *) __get_free_pages(GFP_KERNEL, 2);
+	/*
+	 * Note: Since the memory is not actually used for _anything_ but to
+	 * test the XOR speed, we don't really want kmemcheck to warn about
+	 * reading uninitialized bytes here.
+	 */
+	b1 = (void *) __get_free_pages(GFP_KERNEL | __GFP_NOTRACK, 2);
 	if (!b1) {
 		printk(KERN_WARNING "xor: Yikes!  No memory available.\n");
 		return -ENOMEM;

