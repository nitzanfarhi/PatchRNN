commit 2bb78efab42cf4ee7a7184f7d2da1b7cb331b479
Author: Michael Neuling <mikey@neuling.org>
Date:   Mon Mar 11 16:42:49 2013 +0000

    powerpc/ptrace: Fix brk.len used uninitialised
    
    With some CONFIGS it's possible that in ppc_set_hwdebug, brk.len is
    uninitialised before being used.  It has been reported that GCC 4.2 will
    produce the following error in this case:
    
      arch/powerpc/kernel/ptrace.c:1479: warning: 'brk.len' is used uninitialized in this function
      arch/powerpc/kernel/ptrace.c:1381: note: 'brk.len' was declared here
    
    This patch corrects this.
    
    Signed-off-by: Michael Neuling <mikey@neuling.org>
    Reported-by: Philippe De Muyter <phdm@macqel.be>
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>

diff --git a/arch/powerpc/kernel/ptrace.c b/arch/powerpc/kernel/ptrace.c
index 245c1b6a0858..f9b30c68ba47 100644
--- a/arch/powerpc/kernel/ptrace.c
+++ b/arch/powerpc/kernel/ptrace.c
@@ -1428,6 +1428,7 @@ static long ppc_set_hwdebug(struct task_struct *child,
 
 	brk.address = bp_info->addr & ~7UL;
 	brk.type = HW_BRK_TYPE_TRANSLATE;
+	brk.len = 8;
 	if (bp_info->trigger_type & PPC_BREAKPOINT_TRIGGER_READ)
 		brk.type |= HW_BRK_TYPE_READ;
 	if (bp_info->trigger_type & PPC_BREAKPOINT_TRIGGER_WRITE)

