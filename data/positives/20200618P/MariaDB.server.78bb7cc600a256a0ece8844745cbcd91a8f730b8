commit 78bb7cc600a256a0ece8844745cbcd91a8f730b8
Author: Inaam Rana <inaam.rana@oracle.com>
Date:   Fri Jan 20 10:47:01 2012 -0500

    Bug#13612811    VALGRIND ERROR IN OS_AIO_INIT
    
    Fix valgrind warning introduced by fix for bug 11765450.

diff --git a/storage/innobase/os/os0file.c b/storage/innobase/os/os0file.c
index 8a08cab8040..67247e663df 100644
--- a/storage/innobase/os/os0file.c
+++ b/storage/innobase/os/os0file.c
@@ -3256,6 +3256,9 @@ os_aio_native_aio_supported(void)
 	buf = (byte*) ut_malloc(UNIV_PAGE_SIZE * 2);
 	ptr = (byte*) ut_align(buf, UNIV_PAGE_SIZE);
 
+	/* Suppress valgrind warning. */
+	memset(buf, 0x00, UNIV_PAGE_SIZE * 2);
+
 	memset(&iocb, 0x0, sizeof(iocb));
 	p_iocb = &iocb;
 	io_prep_pwrite(p_iocb, fd, ptr, UNIV_PAGE_SIZE, 0);

