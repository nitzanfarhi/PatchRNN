commit ec68b5c8c63451413b5de1eb97b58cb1abb7a2de
Author: Robey Pointer <robey@src.gnome.org>
Date:   Wed Jul 26 02:20:56 2000 +0000

    have to call delete_files before done; oops

diff --git a/components/services/install/lib/eazel-install-object.c b/components/services/install/lib/eazel-install-object.c
index 635fd163c..687646660 100644
--- a/components/services/install/lib/eazel-install-object.c
+++ b/components/services/install/lib/eazel-install-object.c
@@ -649,7 +649,6 @@ eazel_install_install_packages (EazelInstall *service, GList *categories)
 	if (install_new_packages (service, categories)==FALSE) {
 		g_warning (_("Install failed"));
 	}
-	eazel_install_emit_done (service);
 	if (eazel_install_emit_delete_files (service)) {
 		GList *item;
 		GList *cat;
@@ -666,6 +665,7 @@ eazel_install_install_packages (EazelInstall *service, GList *categories)
 			}
 		}
 	}
+	eazel_install_emit_done (service);
 }
 
 void 

