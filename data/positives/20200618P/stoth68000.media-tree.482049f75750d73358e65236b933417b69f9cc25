commit 482049f75750d73358e65236b933417b69f9cc25
Author: Johan Hedberg <johan.hedberg@intel.com>
Date:   Thu Nov 8 10:25:26 2012 +0100

    Bluetooth: Fix memory leak when removing a UUID
    
    When removing a UUID from the list in the remove_uuid() function we must
    also kfree the entry in addition to removing it from the list.
    
    Signed-off-by: Johan Hedberg <johan.hedberg@intel.com>
    Acked-by: Marcel Holtmann <marcel@holtmann.org>
    Signed-off-by: Gustavo Padovan <gustavo.padovan@collabora.co.uk>

diff --git a/net/bluetooth/mgmt.c b/net/bluetooth/mgmt.c
index 2cfabe27d3e0..91de4239da66 100644
--- a/net/bluetooth/mgmt.c
+++ b/net/bluetooth/mgmt.c
@@ -1367,6 +1367,7 @@ static int remove_uuid(struct sock *sk, struct hci_dev *hdev, void *data,
 			continue;
 
 		list_del(&match->list);
+		kfree(match);
 		found++;
 	}
 

