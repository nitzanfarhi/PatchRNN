commit f83284fe209b1d143244bf462abf1b414eb7b62a
Author: roel kluin <roel.kluin@gmail.com>
Date:   Sat Jul 25 07:41:12 2009 +0000

    fealnx: Write outside array bounds
    
    phy_idx is checked to be < 4, but np->phys[] is 2 elements long
    
    Signed-off-by: Roel Kluin <roel.kluin@gmail.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/drivers/net/fealnx.c b/drivers/net/fealnx.c
index 891be28a7d4f..ee51557e942b 100644
--- a/drivers/net/fealnx.c
+++ b/drivers/net/fealnx.c
@@ -584,7 +584,8 @@ static int __devinit fealnx_init_one(struct pci_dev *pdev,
 	if (np->flags == HAS_MII_XCVR) {
 		int phy, phy_idx = 0;
 
-		for (phy = 1; phy < 32 && phy_idx < 4; phy++) {
+		for (phy = 1; phy < 32 && phy_idx < ARRAY_SIZE(np->phys);
+			       phy++) {
 			int mii_status = mdio_read(dev, phy, 1);
 
 			if (mii_status != 0xffff && mii_status != 0x0000) {

