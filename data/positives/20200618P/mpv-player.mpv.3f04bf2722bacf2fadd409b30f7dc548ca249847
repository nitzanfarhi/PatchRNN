commit 3f04bf2722bacf2fadd409b30f7dc548ca249847
Author: wm4 <wm4@nowhere>
Date:   Wed Jul 24 19:47:22 2013 +0200

    demux_libass: actually set priv context
    
    This was a memory leak: the ASS_Track was never deallocated.

diff --git a/demux/demux_libass.c b/demux/demux_libass.c
index 1dc8e92eb0..fc30f1dce5 100644
--- a/demux/demux_libass.c
+++ b/demux/demux_libass.c
@@ -94,6 +94,7 @@ static int d_check_file(struct demuxer *demuxer, enum demux_check check)
     *p = (struct priv) {
         .track = track,
     };
+    demuxer->priv = p;
 
     struct sh_stream *sh = new_sh_stream(demuxer, STREAM_SUB);
     sh->sub->track = track;

