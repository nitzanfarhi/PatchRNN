commit 8f1d104bfc09ff778b56ecf8ca2d4e0998e7c909
Author: Rich Burridge <rich.burridge@sun.com>
Date:   Wed Apr 28 09:57:31 2010 -0700

    6354836 tar attempts to unlink a temporary file which it doesn't create

diff --git a/usr/src/cmd/tar/tar.c b/usr/src/cmd/tar/tar.c
index 490ab19106..059576871d 100644
--- a/usr/src/cmd/tar/tar.c
+++ b/usr/src/cmd/tar/tar.c
@@ -4915,7 +4915,8 @@ closevol(void)
 static void
 done(int n)
 {
-	(void) unlink(tname);
+	if (tfile != NULL)
+		(void) unlink(tname);
 	if (compress_opt != NULL)
 		(void) free(compress_opt);
 	if (mt > 0) {

