commit d87f7e6691db80889233412bd67d77606444f8ed
Author: Frazer Clement <frazer.clement@oracle.com>
Date:   Thu Aug 31 17:53:51 2017 +0100

    Bug #26724559   NDB : VALGRIND : NDB_MODIFIERS LEAKS MEMORY
    
    Fix error path leak.
    
    Refactoring to follow

diff --git a/sql/ha_ndbcluster.cc b/sql/ha_ndbcluster.cc
index 7b666a5ca8c..1bf158fcefa 100644
--- a/sql/ha_ndbcluster.cc
+++ b/sql/ha_ndbcluster.cc
@@ -9525,6 +9525,10 @@ NDB_Modifiers::parse(THD *thd,
       }
       my_error(ER_ILLEGAL_HA_CREATE_OPTION, MYF(0), ndbcluster_hton_name,
                "Syntax error in COMMENT modifier");
+      if (source != _source)
+      {
+        delete [] source;
+      }
       return -1;
     }
 

