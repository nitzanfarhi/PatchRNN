commit e8c4685f033b11034fa24007c558b8fc347024d3
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   Mon Feb 6 13:43:17 2012 -0500

    desktop-background: stop any pending crossfades on widget destruction
    
    Internally, GnomeBGCrossfade depends on the GdkWindow we pass on to
    gnome_bg_crossfade_start() to be available during the whole crossfade.
    If our widget is destroyed, we have to immediately stop the crossfade,
    without waiting our finalization step, which happens after the widget
    is already gone.

diff --git a/libnautilus-private/nautilus-desktop-background.c b/libnautilus-private/nautilus-desktop-background.c
index c3181bbc1..d26259434 100644
--- a/libnautilus-private/nautilus-desktop-background.c
+++ b/libnautilus-private/nautilus-desktop-background.c
@@ -424,6 +424,7 @@ on_widget_destroyed (GtkWidget *widget,
 		self->details->change_idle_id = 0;
 	}
 
+	free_fade (self);
 	self->details->widget = NULL;
 }
 

