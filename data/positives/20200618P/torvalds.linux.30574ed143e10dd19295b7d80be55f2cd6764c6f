commit 30574ed143e10dd19295b7d80be55f2cd6764c6f
Author: Chris Ball <cjb@laptop.org>
Date:   Wed Apr 13 16:25:30 2011 -0400

    mmc: core: Fix use of uninitialized data in mmc_send_if_cond.
    
    mmc_send_if_cond did not zero out mmc_command on stack.
    
    Signed-off-by: Chris Ball <cjb@laptop.org>

diff --git a/drivers/mmc/core/sd_ops.c b/drivers/mmc/core/sd_ops.c
index 71fdb07fd8de..da508497a6e0 100644
--- a/drivers/mmc/core/sd_ops.c
+++ b/drivers/mmc/core/sd_ops.c
@@ -201,6 +201,8 @@ int mmc_send_if_cond(struct mmc_host *host, u32 ocr)
 	static const u8 test_pattern = 0xAA;
 	u8 result_pattern;
 
+	memset(&cmd, 0, sizeof(struct mmc_command));
+
 	/*
 	 * To support SD 2.0 cards, we must always invoke SD_SEND_IF_COND
 	 * before SD_APP_OP_COND. This command will harmlessly fail for

