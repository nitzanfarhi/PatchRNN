commit 3bf6b864588443e995f6040650680ffd61e8c935
Author: krw <krw@openbsd.org>
Date:   Fri Jan 30 14:30:54 2015 +0000

    Don't leak incompletely cloned static lease. Should never happen
    but better safe than sorry.
    
    Noted and diff from Benjamin Baier. Thanks!

diff --git a/sbin/dhclient/dhclient.c b/sbin/dhclient/dhclient.c
index 08a188a4703..3284c6e37f7 100644
--- a/sbin/dhclient/dhclient.c
+++ b/sbin/dhclient/dhclient.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: dhclient.c,v 1.347 2015/01/16 06:39:56 deraadt Exp $	*/
+/*	$OpenBSD: dhclient.c,v 1.348 2015/01/30 14:30:54 krw Exp $	*/
 
 /*
  * Copyright 2004 Henning Brauer <henning@openbsd.org>
@@ -2297,8 +2297,10 @@ clone_lease(struct client_lease *oldlease)
 	return (newlease);
 
 cleanup:
-	if (newlease)
+	if (newlease) {
+		newlease->is_static = 0;
 		free_client_lease(newlease);
+	}
 
 	return (NULL);
 }

