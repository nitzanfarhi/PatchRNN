commit 5ab1c0da2e22352b0f66a7f89f5dd0a5e45b8bde
Author: Adam <adam@inspircd.org>
Date:   Tue Aug 3 17:38:48 2010 -0400

    Fix for crash on restart or config file open (bug #44)

diff --git a/src/logger.cpp b/src/logger.cpp
index 51f927104..2e2682368 100644
--- a/src/logger.cpp
+++ b/src/logger.cpp
@@ -124,7 +124,7 @@ void LogManager::OpenFileLogs()
 
 void LogManager::CloseLogs()
 {
-	if (ServerInstance->Config->cmdline.forcedebug)
+	if (ServerInstance->Config && ServerInstance->Config->cmdline.forcedebug)
 		return;
 	std::map<std::string, std::vector<LogStream*> >().swap(LogStreams); /* Clear it */
 	std::map<LogStream*, std::vector<std::string> >().swap(GlobalLogStreams); /* Clear it */

