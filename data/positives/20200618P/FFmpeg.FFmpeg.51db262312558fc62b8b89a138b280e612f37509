commit 51db262312558fc62b8b89a138b280e612f37509
Author: Derek Buitenhuis <derek.buitenhuis@gmail.com>
Date:   Thu Jul 6 14:11:28 2017 -0400

    bitstream_filter: Add missing error check
    
    Signed-off-by: Derek Buitenhuis <derek.buitenhuis@gmail.com>

diff --git a/libavcodec/bitstream_filter.c b/libavcodec/bitstream_filter.c
index e9291aba19..8599b90d4a 100644
--- a/libavcodec/bitstream_filter.c
+++ b/libavcodec/bitstream_filter.c
@@ -122,6 +122,8 @@ int av_bitstream_filter_filter(AVBitStreamFilterContext *bsfc,
                 shorthand[0] = opt->name;
 
             ret = av_opt_set_from_string(priv->ctx->priv_data, bsfc->args, shorthand, "=", ":");
+            if (ret < 0)
+                return ret;
         }
 
         ret = av_bsf_init(priv->ctx);

