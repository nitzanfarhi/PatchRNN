commit 2c273e359130f6546aa471ffd0f1855d415a05c5
Author: Matt Stancliff <matt@genges.com>
Date:   Thu Feb 20 23:45:56 2014 -0500

    Add cluster or sentinel to proc title
    
    If you launch redis with `redis-server --sentinel` then
    in a ps, your output only says "redis-server IP:Port" â€” this
    patch changes the proc title to include [sentinel] or
    [cluster] depending on the current server mode:
    e.g.  "redis-server IP:Port [sentinel]"
          "redis-server IP:Port [cluster]"

diff --git a/src/redis.c b/src/redis.c
index 0d1686a0..c8562c85 100644
--- a/src/redis.c
+++ b/src/redis.c
@@ -3079,10 +3079,15 @@ void redisOutOfMemoryHandler(size_t allocation_size) {
 
 void redisSetProcTitle(char *title) {
 #ifdef USE_SETPROCTITLE
-    setproctitle("%s %s:%d",
+    char *server_mode = "";
+    if (server.cluster_enabled) server_mode = " [cluster]";
+    else if (server.sentinel_mode) server_mode = " [sentinel]";
+
+    setproctitle("%s %s:%d%s",
         title,
         server.bindaddr_count ? server.bindaddr[0] : "*",
-        server.port);
+        server.port,
+        server_mode);
 #else
     REDIS_NOTUSED(title);
 #endif

