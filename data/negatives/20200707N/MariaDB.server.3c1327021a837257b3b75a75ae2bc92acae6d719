commit 3c1327021a837257b3b75a75ae2bc92acae6d719
Author: unknown <serg@serg.mylan>
Date:   Sun Aug 1 17:21:55 2004 +0200

    followup to SET PASSWORD fix

diff --git a/sql/sql_acl.cc b/sql/sql_acl.cc
index f316bca4876..44fd5e9e94f 100644
--- a/sql/sql_acl.cc
+++ b/sql/sql_acl.cc
@@ -1149,7 +1149,7 @@ bool check_change_password(THD *thd, const char *host, const char *user,
     return(1);
   }
   uint len=strlen(new_password);
-  if (len != SCRAMBLED_PASSWORD_CHAR_LENGTH &&
+  if (len && len != SCRAMBLED_PASSWORD_CHAR_LENGTH &&
       len != SCRAMBLED_PASSWORD_CHAR_LENGTH_323)
   {
     net_printf(thd, 0,

