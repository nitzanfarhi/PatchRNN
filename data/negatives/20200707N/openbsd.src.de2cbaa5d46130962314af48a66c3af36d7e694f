commit de2cbaa5d46130962314af48a66c3af36d7e694f
Author: deraadt <deraadt@openbsd.org>
Date:   Sun Jan 5 04:03:26 1997 +0000

    absent pcmcia cards do not interrupt

diff --git a/sys/dev/ic/elink3.c b/sys/dev/ic/elink3.c
index f1cf568aea0..c182da11b12 100644
--- a/sys/dev/ic/elink3.c
+++ b/sys/dev/ic/elink3.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: elink3.c,v 1.16 1996/11/28 23:27:49 niklas Exp $	*/
+/*	$OpenBSD: elink3.c,v 1.17 1997/01/05 04:03:26 deraadt Exp $	*/
 /*	$NetBSD: elink3.c,v 1.11 1996/10/21 22:34:21 thorpej Exp $	*/
 
 /*
@@ -548,6 +548,9 @@ epintr(arg)
 	u_int16_t status;
 	int ret = 0;
 
+	if (sc->bustype == EP_BUS_PCMCIA && (sc->pcmcia_flags & EP_ABSENT))
+		return (ret);
+
 	for (;;) {
 		bus_space_write_2(iot, ioh, EP_COMMAND, C_INTR_LATCH);
 

