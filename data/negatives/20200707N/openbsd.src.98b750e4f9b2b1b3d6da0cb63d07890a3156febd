commit 98b750e4f9b2b1b3d6da0cb63d07890a3156febd
Author: tedu <tedu@openbsd.org>
Date:   Fri Jun 1 00:00:54 2007 +0000

    support for softraid level 'c'.

diff --git a/sbin/bioctl/bioctl.c b/sbin/bioctl/bioctl.c
index 8afaa413071..82326916f35 100644
--- a/sbin/bioctl/bioctl.c
+++ b/sbin/bioctl/bioctl.c
@@ -1,4 +1,4 @@
-/* $OpenBSD: bioctl.c,v 1.56 2007/05/31 04:23:23 grunk Exp $       */
+/* $OpenBSD: bioctl.c,v 1.57 2007/06/01 00:00:54 tedu Exp $       */
 
 /*
  * Copyright (c) 2004, 2005 Marco Peereboom
@@ -104,7 +104,10 @@ main(int argc, char *argv[])
 			break;
 		case 'c': /* create */
 			func |= BIOC_CREATERAID;
-			cr_level = atoi(optarg);
+			if (isdigit(*optarg))
+				cr_level = atoi(optarg);
+			else
+				cr_level = *optarg;
 			break;
 		case 'u': /* unblink */
 			func |= BIOC_BLINK;
@@ -605,6 +608,9 @@ bio_createraid(u_int16_t level, char *dev_list)
 	case 1:
 		min_disks = 2;
 		break;
+	case 'c':
+		min_disks = 1;
+		break;
 	default:
 		errx(1, "unsupported raid level");
 	}

