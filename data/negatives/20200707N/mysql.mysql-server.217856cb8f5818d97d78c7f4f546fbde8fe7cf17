commit 217856cb8f5818d97d78c7f4f546fbde8fe7cf17
Author: calvin <>
Date:   Tue Oct 27 22:05:52 2009 +0000

    branches/zip: backport r3848 from 6.0 branch
    
    ----
        branches/6.0: innobase_start_or_create_for_mysql(): Make the 10 MB
        minimum tablespace limit independent of UNIV_PAGE_SIZE. (Bug #41490)

diff --git a/srv/srv0start.c b/srv/srv0start.c
index 37263317126..796541a9f1a 100644
--- a/srv/srv0start.c
+++ b/srv/srv0start.c
@@ -1376,7 +1376,7 @@ innobase_start_or_create_for_mysql(void)
 		sum_of_new_sizes += srv_data_file_sizes[i];
 	}
 
-	if (sum_of_new_sizes < 640) {
+	if (sum_of_new_sizes < 10485760 / UNIV_PAGE_SIZE) {
 		fprintf(stderr,
 			"InnoDB: Error: tablespace size must be"
 			" at least 10 MB\n");

