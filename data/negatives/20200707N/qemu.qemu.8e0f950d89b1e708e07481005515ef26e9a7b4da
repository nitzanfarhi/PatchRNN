commit 8e0f950d89b1e708e07481005515ef26e9a7b4da
Author: pbrook <pbrook@c046a42c-6fe2-441c-8c8c-71466251a162>
Date:   Thu Apr 16 10:56:43 2009 +0000

    Stop translation after a syscall instruciton.
    
    Signed-off-by: Paul Brook <paul@codesourcery.com>
    
    
    git-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@7124 c046a42c-6fe2-441c-8c8c-71466251a162

diff --git a/target-mips/translate.c b/target-mips/translate.c
index e9b20d1af3..6d9c23c3d0 100644
--- a/target-mips/translate.c
+++ b/target-mips/translate.c
@@ -7697,6 +7697,7 @@ static void decode_opc (CPUState *env, DisasContext *ctx)
             break;
         case OPC_SYSCALL:
             generate_exception(ctx, EXCP_SYSCALL);
+            ctx->bstate = BS_STOP;
             break;
         case OPC_BREAK:
             generate_exception(ctx, EXCP_BREAK);

