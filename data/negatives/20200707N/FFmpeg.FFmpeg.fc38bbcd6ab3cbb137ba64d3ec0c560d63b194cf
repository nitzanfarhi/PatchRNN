commit fc38bbcd6ab3cbb137ba64d3ec0c560d63b194cf
Author: Marton Balint <cus@passwd.hu>
Date:   Fri Nov 23 00:22:35 2012 +0100

    ffplay: disallow seeking before the start of the file
    
    In timestamp based seeking we update the external clock to the seek target,
    therefore we should use sane timestamps even if libavformat could handle
    seeking before the start of the file.
    
    Signed-off-by: Marton Balint <cus@passwd.hu>

diff --git a/ffplay.c b/ffplay.c
index 5ba5164173..c5ad70fd43 100644
--- a/ffplay.c
+++ b/ffplay.c
@@ -2984,6 +2984,8 @@ static void event_loop(VideoState *cur_stream)
                     } else {
                         pos = get_master_clock(cur_stream);
                         pos += incr;
+                        if (cur_stream->ic->start_time != AV_NOPTS_VALUE && pos < cur_stream->ic->start_time / (double)AV_TIME_BASE)
+                            pos = cur_stream->ic->start_time / (double)AV_TIME_BASE;
                         stream_seek(cur_stream, (int64_t)(pos * AV_TIME_BASE), (int64_t)(incr * AV_TIME_BASE), 0);
                     }
                 break;

