commit 2aac071b31aea0ab8c569cf313d7a9ae966088d9
Author: Christian Brauner <christian.brauner@ubuntu.com>
Date:   Tue Feb 27 16:48:21 2018 +0100

    console: lxc_terminal_delete()
    
    Signed-off-by: Christian Brauner <christian.brauner@ubuntu.com>

diff --git a/src/lxc/attach.c b/src/lxc/attach.c
index f4e1e990..d19bc1b9 100644
--- a/src/lxc/attach.c
+++ b/src/lxc/attach.c
@@ -996,7 +996,7 @@ static int lxc_attach_pty(struct lxc_conf *conf, struct lxc_pty *pty)
 	return 0;
 
 on_error:
-	lxc_console_delete(pty);
+	lxc_terminal_delete(pty);
 	lxc_pty_conf_free(pty);
 	return -1;
 }
@@ -1386,7 +1386,7 @@ int lxc_attach(const char *name, const char *lxcpath,
 			(void)wait_for_pid(to_cleanup_pid);
 
 		if (options->attach_flags & LXC_ATTACH_ALLOCATE_PTY) {
-			lxc_console_delete(&pty);
+			lxc_terminal_delete(&pty);
 			lxc_pty_conf_free(&pty);
 		}
 		lxc_proc_put_context_info(init_ctx);
diff --git a/src/lxc/console.c b/src/lxc/console.c
index 29206daa..33d29959 100644
--- a/src/lxc/console.c
+++ b/src/lxc/console.c
@@ -738,7 +738,7 @@ int lxc_terminal_write_ringbuffer(struct lxc_pty *console)
 	return 0;
 }
 
-void lxc_console_delete(struct lxc_pty *console)
+void lxc_terminal_delete(struct lxc_pty *console)
 {
 	int ret;
 
@@ -870,7 +870,7 @@ int lxc_pty_create(struct lxc_pty *console)
 	return 0;
 
 err:
-	lxc_console_delete(console);
+	lxc_terminal_delete(console);
 	return -ENODEV;
 }
 
@@ -901,7 +901,7 @@ int lxc_console_create(struct lxc_conf *conf)
 	return 0;
 
 err:
-	lxc_console_delete(console);
+	lxc_terminal_delete(console);
 	return -ENODEV;
 }
 
diff --git a/src/lxc/console.h b/src/lxc/console.h
index a4d56d60..d8e8d532 100644
--- a/src/lxc/console.h
+++ b/src/lxc/console.h
@@ -98,7 +98,7 @@ extern int  lxc_console_create(struct lxc_conf *);
  *   /dev/tty)
  * Registered handlers in a mainloop are not automatically deleted.
  */
-extern void lxc_console_delete(struct lxc_pty *);
+extern void lxc_terminal_delete(struct lxc_pty *);
 
 /*
  * lxc_terminal_free: mark the console or a tty as unallocated, free any
diff --git a/src/lxc/start.c b/src/lxc/start.c
index d735082d..e28d3fae 100644
--- a/src/lxc/start.c
+++ b/src/lxc/start.c
@@ -950,7 +950,7 @@ void lxc_fini(const char *name, struct lxc_handler *handler)
 	if (ret < 0)
 		WARN("%s - Failed to restore signal mask", strerror(errno));
 
-	lxc_console_delete(&handler->conf->console);
+	lxc_terminal_delete(&handler->conf->console);
 	lxc_delete_tty(&handler->conf->tty_info);
 
 	/* The command socket is now closed, no more state clients can register

