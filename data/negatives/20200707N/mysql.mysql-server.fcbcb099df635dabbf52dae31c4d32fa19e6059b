commit fcbcb099df635dabbf52dae31c4d32fa19e6059b
Author: Sunny Bains <Sunny.Bains@Oracle.Com>
Date:   Tue Mar 27 21:23:01 2012 +1100

    WL#5522 - Return the number of bytes actually read in the error message that is
    pushed to the client.

diff --git a/storage/innobase/row/row0import.cc b/storage/innobase/row/row0import.cc
index a66c7e37f23..023bb519596 100644
--- a/storage/innobase/row/row0import.cc
+++ b/storage/innobase/row/row0import.cc
@@ -951,12 +951,16 @@ row_import_read_index_data(
 	cfg_index = cfg->indexes;
 
 	for (ulint i = 0; i < cfg->n_indexes; ++i, ++cfg_index) {
-
 		/* Read the index data. */
-		if (fread(row, 1, sizeof(row), file) != sizeof(row)) {
+		size_t	n_bytes = fread(row, 1, sizeof(row), file);
+
+		if (n_bytes != sizeof(row)) {
 			ib_pushf(thd, IB_LOG_LEVEL_ERROR, ER_IO_READ_ERROR,
 				"I/O error (%lu) while reading index "
-				"meta-data", (ulint) errno);
+				"meta-data, expected to read %lu bytes but "
+				"read only %lu bytes : %s",
+				(ulint) errno, (ulong) sizeof(row),
+				(ulong) n_bytes, strerror(errno));
 
 			return(DB_IO_ERROR);
 		}

