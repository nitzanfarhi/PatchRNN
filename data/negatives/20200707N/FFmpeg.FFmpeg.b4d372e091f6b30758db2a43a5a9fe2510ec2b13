commit b4d372e091f6b30758db2a43a5a9fe2510ec2b13
Author: Keiji Costantini <strites@gmail.com>
Date:   Sat Mar 1 19:44:00 2014 +0100

    rv10: Forward error from rv10_decode_packet
    
    Signed-off-by: Diego Biurrun <diego@biurrun.de>

diff --git a/libavcodec/rv10.c b/libavcodec/rv10.c
index ae8c5b34e9..51affa8769 100644
--- a/libavcodec/rv10.c
+++ b/libavcodec/rv10.c
@@ -707,7 +707,10 @@ static int rv10_decode_frame(AVCodecContext *avctx,
             offset + FFMAX(size, size2) > buf_size)
             return AVERROR_INVALIDDATA;
 
-        if (rv10_decode_packet(avctx, buf + offset, size, size2) > 8 * size)
+        if ((ret = rv10_decode_packet(avctx, buf + offset, size, size2)) < 0)
+            return ret;
+
+        if (ret > 8 * size)
             i++;
     }
 

