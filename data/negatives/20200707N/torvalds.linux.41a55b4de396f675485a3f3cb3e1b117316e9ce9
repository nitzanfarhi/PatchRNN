commit 41a55b4de396f675485a3f3cb3e1b117316e9ce9
Author: Stephen Hemminger <shemminger@vyatta.com>
Date:   Tue Jun 15 13:21:11 2010 +0200

    floppy: silence warning during disk test
    
    The first thing the floppy does is read block 0 to test geometry and to
    test for disk presence.  If disk is not present this causes a console
    warning message about failed I/O.  Set flag to silence.
    
    Signed-off-by: Stephen Hemminger <shemminger@vyatta.com>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

diff --git a/drivers/block/floppy.c b/drivers/block/floppy.c
index 7ba239e8f0dc..5816387f9bce 100644
--- a/drivers/block/floppy.c
+++ b/drivers/block/floppy.c
@@ -3829,6 +3829,7 @@ static int __floppy_read_block_0(struct block_device *bdev)
 	bio.bi_size = size;
 	bio.bi_bdev = bdev;
 	bio.bi_sector = 0;
+	bio.bi_flags = BIO_QUIET;
 	init_completion(&complete);
 	bio.bi_private = &complete;
 	bio.bi_end_io = floppy_rb0_complete;

