commit 5081ff26ad6ed0982fd0f115dce502715ed1620e
Author: Bruce Pascoe <fatcerberus@icloud.com>
Date:   Thu Feb 25 03:07:55 2016 -0500

    SSJ: Don't try to download source for system calls
    
    If Duktape reports a line number of zero for a stack frame, that
    indicates a native function implemented in C (a "system call" from a
    Sphere game's perspective), so we can explicitly disallow source listing
    for it instead of trying to download a file named "undefined" (and
    potentially succeeding!)

diff --git a/src/ssj/session.c b/src/ssj/session.c
index 0b64a6ca..d53d81ba 100644
--- a/src/ssj/session.c
+++ b/src/ssj/session.c
@@ -300,8 +300,10 @@ print_source(session_t* sess, const char* filename, int line_no, int window)
 
 	int i;
 
-	if (!(source = source_load(sess, filename)))
-		printf("no source code available for '%s'\n", filename);
+	if (line_no <= 0)
+		printf("no source provided for system call.\n");
+	else if (!(source = source_load(sess, filename)))
+		printf("source unavailable for %s.\n", filename);
 	else {
 		line_count = source_cloc(source);
 		median = window / 2;

