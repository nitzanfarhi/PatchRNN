commit 046f49baa249115e99d40fe3462348b4dd675ee0
Author: Vitor Sessak <vitor1001@gmail.com>
Date:   Sat May 24 20:38:15 2008 +0000

    Handle av_realloc() failure
    Commited in SoC by Vitor Sessak on 2008-04-04 15:35:38
    
    Originally committed as revision 13287 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavfilter/graphparser.c b/libavfilter/graphparser.c
index 78999af3e..0a77d07ec 100644
--- a/libavfilter/graphparser.c
+++ b/libavfilter/graphparser.c
@@ -56,7 +56,10 @@ static int create_filter(AVFilterGraph *ctx, int index, char *name,
                "error creating filter '%s'\n", name);
         return -1;
     }
-    avfilter_graph_add_filter(ctx, filt);
+
+    if (avfilter_graph_add_filter(ctx, filt) < 0)
+        return -1;
+
     if(avfilter_init_filter(filt, args, NULL)) {
         av_log(&log_ctx, AV_LOG_ERROR,
                "error initializing filter '%s'\n", name);

