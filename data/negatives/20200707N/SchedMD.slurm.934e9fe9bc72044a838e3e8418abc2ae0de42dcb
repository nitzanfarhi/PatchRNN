commit 934e9fe9bc72044a838e3e8418abc2ae0de42dcb
Author: Danny Auble <da@schedmd.com>
Date:   Tue Aug 6 14:36:37 2013 -0700

    run multifactor add_usage even when no delta happens.

diff --git a/src/plugins/priority/multifactor/priority_multifactor.c b/src/plugins/priority/multifactor/priority_multifactor.c
index e9eec3ff66..96f58e323e 100644
--- a/src/plugins/priority/multifactor/priority_multifactor.c
+++ b/src/plugins/priority/multifactor/priority_multifactor.c
@@ -992,10 +992,12 @@ static int _apply_new_usage(struct job_record *job_ptr,
 
 	run_delta = difftime(end_period, start_period);
 
-	/* job already has been accounted for
-	   go to next */
-	if (run_delta < 1)
-		return 0;
+	/* Even if run_delta is 0 we need to
+	 * handle other non-usage variables here
+	 * (grp_used_cpu_run_secs), so don't return.
+	 */
+	if (run_delta < 0)
+		run_delta = 0;
 
 	/* cpu_run_delta will is used to
 	 * decrease qos and assocs

