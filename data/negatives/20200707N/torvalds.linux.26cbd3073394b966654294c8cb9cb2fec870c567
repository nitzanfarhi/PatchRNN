commit 26cbd3073394b966654294c8cb9cb2fec870c567
Author: Axel Lin <axel.lin@ingics.com>
Date:   Fri Nov 16 00:35:14 2012 +0800

    regulator: da9055: Fix checking wrong value in da9055_gpio_init
    
    Check pdata->gpio_rsel && pdata->gpio_rsel[id] for the case GPI pin is muxed
    with regulator to select the regulator register set A/B for voltage ramping.
    
    Signed-off-by: Axel Lin <axel.lin@ingics.com>
    Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>

diff --git a/drivers/regulator/da9055-regulator.c b/drivers/regulator/da9055-regulator.c
index 8994178b371c..79c56655b9b3 100644
--- a/drivers/regulator/da9055-regulator.c
+++ b/drivers/regulator/da9055-regulator.c
@@ -501,7 +501,7 @@ static __devinit int da9055_gpio_init(struct da9055_regulator *regulator,
 			goto err;
 	}
 
-	if (pdata->gpio_rsel && pdata->gpio_ren[id]) {
+	if (pdata->gpio_rsel && pdata->gpio_rsel[id]) {
 		char name[18];
 		int gpio_mux = pdata->gpio_rsel[id];
 

