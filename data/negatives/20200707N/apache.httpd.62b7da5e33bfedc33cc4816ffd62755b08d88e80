commit 62b7da5e33bfedc33cc4816ffd62755b08d88e80
Author: Greg Ames <gregames@apache.org>
Date:   Tue Mar 29 18:24:46 2005 +0000

    clone_headers_no_body: remove all entity headers in addition to the
    Transfer-Encoding header when creating a GET subrequest
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/httpd/httpd/trunk@159410 13f79535-47bb-0310-9956-ffa450edef68

diff --git a/server/protocol.c b/server/protocol.c
index 4d7d54ace9..546df2f7f2 100644
--- a/server/protocol.c
+++ b/server/protocol.c
@@ -996,10 +996,16 @@ static void clone_headers_no_body(request_rec *rnew,
                                   const request_rec *r)
 {
     rnew->headers_in = apr_table_copy(rnew->pool, r->headers_in);
+    apr_table_unset(rnew->headers_in, "Content-Encoding");
+    apr_table_unset(rnew->headers_in, "Content-Language");
     apr_table_unset(rnew->headers_in, "Content-Length");
-    apr_table_unset(rnew->headers_in, "Transfer-Encoding");
+    apr_table_unset(rnew->headers_in, "Content-Location");
+    apr_table_unset(rnew->headers_in, "Content-MD5");
+    apr_table_unset(rnew->headers_in, "Content-Range");
     apr_table_unset(rnew->headers_in, "Content-Type");
-    apr_table_unset(rnew->headers_in, "Content-Encoding");
+    apr_table_unset(rnew->headers_in, "Expires");
+    apr_table_unset(rnew->headers_in, "Last-Modified");
+    apr_table_unset(rnew->headers_in, "Transfer-Encoding");
 }        
 
 /*

