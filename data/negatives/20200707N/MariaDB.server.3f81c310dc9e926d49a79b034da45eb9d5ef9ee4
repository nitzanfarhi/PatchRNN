commit 3f81c310dc9e926d49a79b034da45eb9d5ef9ee4
Author: Marko Mäkelä <marko.makela@oracle.com>
Date:   Thu Jun 24 10:21:40 2010 +0300

    trx_undo_parse_page_header(): Silence a bogus warning.

diff --git a/storage/innobase/trx/trx0undo.c b/storage/innobase/trx/trx0undo.c
index 3689f5ebdad..90fc98f419d 100644
--- a/storage/innobase/trx/trx0undo.c
+++ b/storage/innobase/trx/trx0undo.c
@@ -707,6 +707,12 @@ trx_undo_parse_page_header(
 	mtr_t*	mtr)	/*!< in: mtr or NULL */
 {
 	trx_id_t	trx_id;
+	/* Silence a GCC warning about possibly uninitialized variable
+	when mach_ull_parse_compressed() is not inlined. */
+	ut_d(trx_id = 0);
+	/* Declare the variable uninitialized in Valgrind, so that the
+	above initialization will not mask any bugs. */
+	UNIV_MEM_INVALID(&trx_id, sizeof trx_id);
 
 	ptr = mach_ull_parse_compressed(ptr, end_ptr, &trx_id);
 

