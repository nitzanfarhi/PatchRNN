commit 98df48233279a4b30bbee1b97c72c46bc603fefe
Author: Guenter Knauf <fuankg@apache.org>
Date:   Fri Sep 16 23:10:32 2011 +0000

    Continue if the platform doesnt support file perms.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/httpd/httpd/trunk@1171847 13f79535-47bb-0310-9956-ffa450edef68

diff --git a/modules/cluster/mod_heartmonitor.c b/modules/cluster/mod_heartmonitor.c
index 1ec1dc803c..39e7bcbc88 100644
--- a/modules/cluster/mod_heartmonitor.c
+++ b/modules/cluster/mod_heartmonitor.c
@@ -365,7 +365,7 @@ static apr_status_t hm_file_update_stat(hm_ctx_t *ctx, hm_server_t *s, apr_pool_
     rv = apr_file_perms_set(path,
                             APR_FPROT_UREAD | APR_FPROT_GREAD |
                             APR_FPROT_WREAD);
-    if (rv && rv != APR_INCOMPLETE) {
+    if (rv && rv != APR_INCOMPLETE && rv != APR_ENOTIMPL) {
         ap_log_error(APLOG_MARK, APLOG_CRIT, rv, ctx->s,
                      "Heartmonitor: Unable to set file permssions on %s",
                      path);
@@ -444,7 +444,7 @@ static apr_status_t hm_file_update_stats(hm_ctx_t *ctx, apr_pool_t *p)
     rv = apr_file_perms_set(path,
                             APR_FPROT_UREAD | APR_FPROT_GREAD |
                             APR_FPROT_WREAD);
-    if (rv && rv != APR_INCOMPLETE) {
+    if (rv && rv != APR_INCOMPLETE && rv != APR_ENOTIMPL) {
         ap_log_error(APLOG_MARK, APLOG_CRIT, rv, ctx->s,
                      "Heartmonitor: Unable to set file permssions on %s",
                      path);

