commit d4fce188448a273306b0c1c915e7bd91d6f83a6e
Author: John Snow <jsnow@redhat.com>
Date:   Sat Mar 10 03:27:26 2018 -0500

    blockjobs: fix set-speed kick
    
    If speed is '0' it's not actually "less than" the previous speed.
    Kick the job in this case too.
    
    Signed-off-by: John Snow <jsnow@redhat.com>
    Reviewed-by: Eric Blake <eblake@redhat.com>
    Reviewed-by: Kevin Wolf <kwolf@redhat.com>
    Signed-off-by: Kevin Wolf <kwolf@redhat.com>

diff --git a/blockjob.c b/blockjob.c
index 801d29d849..afd92db01f 100644
--- a/blockjob.c
+++ b/blockjob.c
@@ -499,7 +499,7 @@ void block_job_set_speed(BlockJob *job, int64_t speed, Error **errp)
     }
 
     job->speed = speed;
-    if (speed <= old_speed) {
+    if (speed && speed <= old_speed) {
         return;
     }
 

