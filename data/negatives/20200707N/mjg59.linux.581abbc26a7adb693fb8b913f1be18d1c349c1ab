commit 581abbc26a7adb693fb8b913f1be18d1c349c1ab
Author: Andy Gospodarek <andy@greyhouse.net>
Date:   Thu Jun 19 17:19:02 2008 -0400

    e1000: only enable TSO6 via ethtool when using correct hardware
    
    When enabling TSO via ethool on e1000, it is possible to set
    NETIF_F_TSO6 on hardware that does not support it.  Setting TSO via
    ethtool now matches the settings used when the hardware is probed.
    
    Signed-off-by: Andy Gospodarek <andy@greyhouse.net>
    Signed-off-by: Jeff Garzik <jgarzik@redhat.com>

diff --git a/drivers/net/e1000/e1000_ethtool.c b/drivers/net/e1000/e1000_ethtool.c
index 701531e72e7b..a3f6a9c72ec8 100644
--- a/drivers/net/e1000/e1000_ethtool.c
+++ b/drivers/net/e1000/e1000_ethtool.c
@@ -347,7 +347,7 @@ e1000_set_tso(struct net_device *netdev, u32 data)
 	else
 		netdev->features &= ~NETIF_F_TSO;
 
-	if (data)
+	if (data && (adapter->hw.mac_type > e1000_82547_rev_2))
 		netdev->features |= NETIF_F_TSO6;
 	else
 		netdev->features &= ~NETIF_F_TSO6;

