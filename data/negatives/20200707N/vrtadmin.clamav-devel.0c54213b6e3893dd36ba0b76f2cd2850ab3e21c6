commit 0c54213b6e3893dd36ba0b76f2cd2850ab3e21c6
Author: Török Edvin <edwin@clamav.net>
Date:   Mon Apr 14 20:27:48 2008 +0000

    show errno reason in freshclam on failure (bb #923)
    
    
    git-svn: trunk@3791

diff --git a/freshclam/manager.c b/freshclam/manager.c
index fb44091a1..30c2e637b 100644
--- a/freshclam/manager.c
+++ b/freshclam/manager.c
@@ -1174,7 +1174,7 @@ static int updatedb(const char *dbname, const char *hostname, char *ip, int *sig
     }
 
     if(rename(newfile, newdb) == -1) {
-	logg("!Can't rename %s to %s\n", newfile, newdb);
+	logg("!Can't rename %s to %s: %s\n", newfile, newdb, strerror(errno));
 	unlink(newfile);
 	free(newfile);
 	return 57;

