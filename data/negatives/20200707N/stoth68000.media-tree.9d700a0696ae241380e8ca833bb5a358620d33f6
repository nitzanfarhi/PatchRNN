commit 9d700a0696ae241380e8ca833bb5a358620d33f6
Author: Mauro Carvalho Chehab <mchehab@redhat.com>
Date:   Thu Jan 13 14:01:39 2011 -0300

    [media] tda8290: Turn tda829x on before touching at the I2C gate
    
    On Kworld SBTVD, tda8295-c1 starts in power off mode. It needs
    to be powered, otherwise, the I2C gate control command won't work.
    
    Cc: Michael Krufky <mkrufky@kernellabs.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>

diff --git a/drivers/media/common/tuners/tda8290.c b/drivers/media/common/tuners/tda8290.c
index 11ea4e0f9c04..419d064a0188 100644
--- a/drivers/media/common/tuners/tda8290.c
+++ b/drivers/media/common/tuners/tda8290.c
@@ -754,11 +754,10 @@ struct dvb_frontend *tda829x_attach(struct dvb_frontend *fe,
 		       sizeof(struct analog_demod_ops));
 	}
 
-	if ((!(cfg) || (TDA829X_PROBE_TUNER == cfg->probe_tuner)) &&
-	    (tda829x_find_tuner(fe) < 0)) {
-		memset(&fe->ops.analog_ops, 0, sizeof(struct analog_demod_ops));
-
-		goto fail;
+	if (!(cfg) || (TDA829X_PROBE_TUNER == cfg->probe_tuner)) {
+		tda8295_power(fe, 1);
+		if (tda829x_find_tuner(fe) < 0)
+			goto fail;
 	}
 
 	switch (priv->ver) {
@@ -803,6 +802,8 @@ struct dvb_frontend *tda829x_attach(struct dvb_frontend *fe,
 	return fe;
 
 fail:
+	memset(&fe->ops.analog_ops, 0, sizeof(struct analog_demod_ops));
+
 	tda829x_release(fe);
 	return NULL;
 }

