commit 5518871b9caa10e502fcbaed8e676507050bd3ca
Author: Love Hörnquist Åstrand <lha@kth.se>
Date:   Tue Nov 28 14:23:13 2006 +0000

    Make build again from the hdb_entry wrapping. Patch from Andreas Hasenack.
    
    
    git-svn-id: svn://svn.h5l.se/heimdal/trunk/heimdal@19173 ec53bebd-3082-4978-b11e-865c3cabbd6b

diff --git a/lib/hdb/hdb-ldap.c b/lib/hdb/hdb-ldap.c
index 4245f2006..cc45be0ac 100644
--- a/lib/hdb/hdb-ldap.c
+++ b/lib/hdb/hdb-ldap.c
@@ -980,8 +980,8 @@ LDAP_message2entry(krb5_context context, HDB * db, LDAPMessage * msg,
 	ldap_value_free(values);
     }
 
-    for (i = 0; i < ent->etypes->len; i++) {
-	if (ent->etypes->val[i] == ETYPE_ARCFOUR_HMAC_MD5) {
+   for (i = 0; i < ent->entry.etypes->len; i++) {
+       if (ent->entry.etypes->val[i] == ETYPE_ARCFOUR_HMAC_MD5) {
 	    have_arcfour = 1;
 	    break;
 	}
@@ -1750,7 +1750,7 @@ hdb_ldap_common(krb5_context context,
     (*db)->hdb_nextkey = LDAP_nextkey;
     (*db)->hdb_lock = LDAP_lock;
     (*db)->hdb_unlock = LDAP_unlock;
-    (*db)->hdb_rename = LDAP_rename;
+    (*db)->hdb_rename = NULL;
     (*db)->hdb__get = NULL;
     (*db)->hdb__put = NULL;
     (*db)->hdb__del = NULL;

