commit 418d620e080f3d17735be8ee95a2f40c0e6edc3e
Author: Jingoo Han <jg1.han@samsung.com>
Date:   Fri Oct 26 14:54:01 2012 +0900

    video: s3c-fb: return an error when bpp is invalid
    
    This patch returns an error, when bpp is invalid in
    s3c_fb_check_var(). If invalid bpp is requested,
    an error should be returned.
    
    Signed-off-by: Jingoo Han <jg1.han@samsung.com>

diff --git a/drivers/video/s3c-fb.c b/drivers/video/s3c-fb.c
index 9cee67c08d94..21e5d79ce65d 100644
--- a/drivers/video/s3c-fb.c
+++ b/drivers/video/s3c-fb.c
@@ -330,6 +330,7 @@ static int s3c_fb_check_var(struct fb_var_screeninfo *var,
 
 	default:
 		dev_err(sfb->dev, "invalid bpp\n");
+		return -EINVAL;
 	}
 
 	dev_dbg(sfb->dev, "%s: verified parameters\n", __func__);

