commit 832bf41145dbb8a98dd0eda20e2ff80848204b7f
Author: cristy <urban-warrior@git.imagemagick.org>
Date:   Sun Dec 14 21:22:30 2014 +0000

diff --git a/coders/pnm.c b/coders/pnm.c
index f92ae2266..3710e507e 100644
--- a/coders/pnm.c
+++ b/coders/pnm.c
@@ -419,10 +419,12 @@ static Image *ReadPNMImage(const ImageInfo *image_info,ExceptionInfo *exception)
     if ((image_info->ping != MagickFalse) && (image_info->number_scenes != 0))
       if (image->scene >= (image_info->scene+image_info->number_scenes-1))
         break;
+    status=SetImageExtent(image,image->columns,image->rows,exception);
+    if (status == MagickFalse)
+      return(DestroyImageList(image));
     /*
       Convert PNM pixels to runextent-encoded MIFF packets.
     */
-    status=MagickTrue;
     row=0;
     switch (format)
     {

