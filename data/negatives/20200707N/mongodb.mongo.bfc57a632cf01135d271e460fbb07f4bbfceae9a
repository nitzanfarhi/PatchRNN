commit bfc57a632cf01135d271e460fbb07f4bbfceae9a
Author: matt dannenberg <matt.dannenberg@10gen.com>
Date:   Tue Jun 18 13:59:03 2013 -0400

    SERVER-9876 place upper limit on the default oplog size

diff --git a/src/mongo/db/repl/oplog.cpp b/src/mongo/db/repl/oplog.cpp
index ea67bce829..674dbcec27 100644
--- a/src/mongo/db/repl/oplog.cpp
+++ b/src/mongo/db/repl/oplog.cpp
@@ -393,6 +393,9 @@ namespace mongo {
                 double fivePct = free * 0.05;
                 if ( fivePct > sz )
                     sz = fivePct;
+                // we use 5% of free space up to 50GB (1TB free)
+                if (fivePct > 50.0 * 1024 * 1024 * 1024)
+                    sz = 50.0 * 1024 * 1024 * 1024;
 #endif
             }
         }

