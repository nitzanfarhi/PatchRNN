commit 9029555f58eed34628fad88f24523b4c554750c9
Author: Yehuda Sadeh <yehuda@inktank.com>
Date:   Fri Aug 9 10:29:17 2013 -0700

    rgw: make RGWHTTPClient callback methods pure virtual
    
    This will make it easier to catch interface changes, like the
    ones that triggered #5921.
    
    Reviewed-by: Sage Weil <sage@inktank.com>
    Signed-off-by: Yehuda Sadeh <yehuda@inktank.com>

diff --git a/src/rgw/rgw_http_client.h b/src/rgw/rgw_http_client.h
index cc69383b62..3c0040424a 100644
--- a/src/rgw/rgw_http_client.h
+++ b/src/rgw/rgw_http_client.h
@@ -21,9 +21,9 @@ public:
     headers.push_back(pair<string, string>(name, val));
   }
 
-  virtual int receive_header(void *ptr, size_t len) { return 0; }
-  virtual int receive_data(void *ptr, size_t len) { return 0; }
-  virtual int send_data(void *ptr, size_t len) { return 0; }
+  virtual int receive_header(void *ptr, size_t len) = 0;
+  virtual int receive_data(void *ptr, size_t len) = 0;
+  virtual int send_data(void *ptr, size_t len) = 0;
 
   void set_send_length(size_t len) {
     send_len = len;
diff --git a/src/rgw/rgw_swift.cc b/src/rgw/rgw_swift.cc
index 8ad59e2248..b62033b276 100644
--- a/src/rgw/rgw_swift.cc
+++ b/src/rgw/rgw_swift.cc
@@ -29,6 +29,12 @@ public:
   RGWValidateSwiftToken(CephContext *_cct, struct rgw_swift_auth_info *_info) : RGWHTTPClient(_cct), info(_info) {}
 
   int receive_header(void *ptr, size_t len);
+  int receive_data(void *ptr, size_t len) {
+    return 0;
+  }
+  int send_data(void *ptr, size_t len) {
+    return 0;
+  }
 
   friend class RGWKeystoneTokenCache;
 };
@@ -295,6 +301,13 @@ public:
     bl->append((char *)ptr, len);
     return 0;
   }
+  int receive_header(void *ptr, size_t len) {
+    return 0;
+  }
+  int send_data(void *ptr, size_t len) {
+    return 0;
+  }
+
 };
 
 static RGWKeystoneTokenCache *keystone_token_cache = NULL;
@@ -308,6 +321,12 @@ public:
     bl->append((char *)ptr, len);
     return 0;
   }
+  int receive_header(void *ptr, size_t len) {
+    return 0;
+  }
+  int send_data(void *ptr, size_t len) {
+    return 0;
+  }
 };
 
 static int open_cms_envelope(CephContext *cct, string& src, string& dst)

