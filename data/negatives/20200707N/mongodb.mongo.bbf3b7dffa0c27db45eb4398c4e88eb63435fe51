commit bbf3b7dffa0c27db45eb4398c4e88eb63435fe51
Author: Ben Becker <ben.becker@10gen.com>
Date:   Wed Jan 16 14:01:01 2013 -0800

    SERVER-8060: make min/max key consistent with spidermonkey

diff --git a/src/mongo/scripting/engine_v8.cpp b/src/mongo/scripting/engine_v8.cpp
index 88be725567..45aadba596 100644
--- a/src/mongo/scripting/engine_v8.cpp
+++ b/src/mongo/scripting/engine_v8.cpp
@@ -1237,7 +1237,7 @@ namespace mongo {
             case mongo::MinKey: {
                 v8::Local<v8::Object> sub = readOnly ? readOnlyObjects->NewInstance() :
                                                        internalFieldObjects->NewInstance();
-                sub->ForceSet(v8::String::New("$MinKey"), v8::Boolean::New(true));
+                sub->ForceSet(v8::String::New("$minKey"), v8::Number::New(1));
                 sub->SetInternalField(0, v8::Uint32::New(f.type()));
                 o->ForceSet(name, sub);
                 break;
@@ -1245,7 +1245,7 @@ namespace mongo {
             case mongo::MaxKey: {
                 v8::Local<v8::Object> sub = readOnly ? readOnlyObjects->NewInstance() :
                                                        internalFieldObjects->NewInstance();
-                sub->ForceSet(v8::String::New("$MaxKey"), v8::Boolean::New(true));
+                sub->ForceSet(v8::String::New("$maxKey"), v8::Number::New(1));
                 sub->SetInternalField(0, v8::Uint32::New(f.type()));
                 o->ForceSet(name, sub);
                 break;
@@ -1384,12 +1384,12 @@ namespace mongo {
             }
         case mongo::MinKey:
             instance = internalFieldObjects->NewInstance();
-            instance->ForceSet(v8::String::New("$MinKey"), v8::Boolean::New(true));
+            instance->ForceSet(v8::String::New("$minKey"), v8::Number::New(1));
             instance->SetInternalField(0, v8::Uint32::New(elem.type()));
             return instance;
         case mongo::MaxKey:
             instance = internalFieldObjects->NewInstance();
-            instance->ForceSet(v8::String::New("$MaxKey"), v8::Boolean::New(true));
+            instance->ForceSet(v8::String::New("$maxKey"), v8::Number::New(1));
             instance->SetInternalField(0, v8::Uint32::New(elem.type()));
             return instance;
         case mongo::DBRef:

