commit d02ee577ca58093d57422cd9b6a37c92b497d7e9
Author: Robert LeBlanc <rdleblanc@bluehost.com>
Date:   Thu Aug 13 13:36:55 2015 -0600

    Caps are getting lost when cloning an LXC. Adding the -X parameter copies the extended attributes. This allows things like ping to continue to be used by a non-privilged user in Debian at least.

diff --git a/src/lxc/bdev.c b/src/lxc/bdev.c
index c6a8efc0..ada39588 100644
--- a/src/lxc/bdev.c
+++ b/src/lxc/bdev.c
@@ -98,7 +98,7 @@ static int do_rsync(const char *src, const char *dest)
 	s[l-2] = '/';
 	s[l-1] = '\0';
 
-	execlp("rsync", "rsync", "-aH", s, dest, (char *)NULL);
+	execlp("rsync", "rsync", "-aHX", s, dest, (char *)NULL);
 	exit(1);
 }
 

