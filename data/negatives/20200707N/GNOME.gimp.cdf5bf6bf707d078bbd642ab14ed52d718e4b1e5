commit cdf5bf6bf707d078bbd642ab14ed52d718e4b1e5
Author: Michael Natterer <mitch@gimp.org>
Date:   Sat Jan 20 15:34:52 2018 +0100

    app: prevent warnings in gimp_levels_tool_config_notify()
    
    Bail out if the levels dialog is not yet fully constructed.

diff --git a/app/tools/gimplevelstool.c b/app/tools/gimplevelstool.c
index 198427043c..f14a477385 100644
--- a/app/tools/gimplevelstool.c
+++ b/app/tools/gimplevelstool.c
@@ -672,7 +672,8 @@ gimp_levels_tool_config_notify (GimpFilterTool   *filter_tool,
   GIMP_FILTER_TOOL_CLASS (parent_class)->config_notify (filter_tool,
                                                         config, pspec);
 
-  if (! levels_tool->channel_menu)
+  if (! levels_tool->channel_menu ||
+      ! levels_tool->histogram_view)
     return;
 
   if (! strcmp (pspec->name, "linear"))

