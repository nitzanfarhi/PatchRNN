commit 6fe82a39e583a50f28f03b294df79c9de9ec0de4
Author: Veaceslav Falico <vfalico@gmail.com>
Date:   Thu Jul 17 20:33:32 2014 +0200

    net: print a notification on device rename
    
    Currently it's done silently (from the kernel part), and thus it might be
    hard to track the renames from logs.
    
    Add a simple netdev_info() to notify the rename, but only in case the
    previous name was valid.
    
    CC: "David S. Miller" <davem@davemloft.net>
    CC: Eric Dumazet <edumazet@google.com>
    CC: Vlad Yasevich <vyasevic@redhat.com>
    CC: stephen hemminger <stephen@networkplumber.org>
    CC: Jerry Chu <hkchu@google.com>
    CC: Ben Hutchings <bhutchings@solarflare.com>
    CC: David Laight <David.Laight@ACULAB.COM>
    Signed-off-by: Veaceslav Falico <vfalico@gmail.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/net/core/dev.c b/net/core/dev.c
index 81d61014fd9b..e52a3788d18d 100644
--- a/net/core/dev.c
+++ b/net/core/dev.c
@@ -1113,6 +1113,9 @@ int dev_change_name(struct net_device *dev, const char *newname)
 		return err;
 	}
 
+	if (oldname[0] && !strchr(oldname, '%'))
+		netdev_info(dev, "renamed from %s\n", oldname);
+
 	old_assign_type = dev->name_assign_type;
 	dev->name_assign_type = NET_NAME_RENAMED;
 

