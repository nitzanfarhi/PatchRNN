commit 0294ffb9c848ed411c40cb0074ee5e16b7706f53
Author: bellard <bellard@c046a42c-6fe2-441c-8c8c-71466251a162>
Date:   Thu Apr 29 22:15:15 2004 +0000

    disable grab if the window no longer has the focus (Windows case) (Mike Nordell)
    
    
    git-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@777 c046a42c-6fe2-441c-8c8c-71466251a162

diff --git a/sdl.c b/sdl.c
index 01d9617a32..ee809daa6e 100644
--- a/sdl.c
+++ b/sdl.c
@@ -301,6 +301,11 @@ static void sdl_refresh(DisplayState *ds)
                 }
             }
             break;
+        case SDL_ACTIVEEVENT:
+            if (gui_grab && (ev->active.gain & SDL_ACTIVEEVENTMASK) == 0) {
+                sdl_grab_end();
+            }
+            break;
         default:
             break;
         }

