commit 72385798357e53f64ba5ac405fb1b227ddcffc6c
Author: Mike Melanson <mike@multimedia.cx>
Date:   Sun Oct 5 21:48:16 2003 +0000

    This patch marks frames used in RPZA decoder as reference frames, from
    Roberto Togni (rtogni at freemail.it)
    
    Originally committed as revision 2347 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavcodec/rpza.c b/libavcodec/rpza.c
index 8027cfd9ab..675d7f34ca 100644
--- a/libavcodec/rpza.c
+++ b/libavcodec/rpza.c
@@ -267,6 +267,7 @@ static int rpza_decode_frame(AVCodecContext *avctx,
     s->buf = buf;
     s->size = buf_size;
 
+    s->frame.reference = 1;
     if (avctx->get_buffer(avctx, &s->frame)) {
         printf ("  RPZA Video: get_buffer() failed\n");
         return -1;

