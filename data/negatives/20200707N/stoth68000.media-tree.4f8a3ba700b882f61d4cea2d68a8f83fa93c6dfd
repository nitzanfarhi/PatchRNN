commit 4f8a3ba700b882f61d4cea2d68a8f83fa93c6dfd
Author: Huang Shijie <b32955@freescale.com>
Date:   Wed Sep 25 14:58:18 2013 +0800

    mtd: mtd-abi: add a helper to detect the nand type
    
    The helper is for user applications, and it is just a copy of
    the kernel helper: mtd_type_is_nand();
    
    Signed-off-by: Huang Shijie <b32955@freescale.com>
    Signed-off-by: Brian Norris <computersforpeace@gmail.com>

diff --git a/include/uapi/mtd/mtd-abi.h b/include/uapi/mtd/mtd-abi.h
index e89b096856f8..e272ea060e38 100644
--- a/include/uapi/mtd/mtd-abi.h
+++ b/include/uapi/mtd/mtd-abi.h
@@ -275,4 +275,9 @@ enum mtd_file_modes {
 	MTD_FILE_MODE_RAW,
 };
 
+static inline int mtd_type_is_nand_user(const struct mtd_info_user *mtd)
+{
+	return mtd->type == MTD_NANDFLASH || mtd->type == MTD_MLCNANDFLASH;
+}
+
 #endif /* __MTD_ABI_H__ */

