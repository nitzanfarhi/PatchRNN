commit 992779034f0cd41fde1b55b68a72362f2d2da97f
Author: deraadt <deraadt@openbsd.org>
Date:   Wed May 14 01:23:58 1997 +0000

    if generic miniroot, kill swap entry

diff --git a/sys/arch/sparc/sparc/autoconf.c b/sys/arch/sparc/sparc/autoconf.c
index 9b78d2f8837..d02a15d8671 100644
--- a/sys/arch/sparc/sparc/autoconf.c
+++ b/sys/arch/sparc/sparc/autoconf.c
@@ -2014,6 +2014,8 @@ gotswap:
 			 */
 			nswapdev = dumpdev = NODEV;
 		}
+		if (nswapdev == rootdev)
+			nswapdev = NODEV;
 		swdevt[0].sw_dev = nswapdev;
 		swdevt[1].sw_dev = NODEV;
 

