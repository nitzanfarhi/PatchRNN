commit e0fc39b02ad313088b0f8dcec20bdc9a2298fd6b
Author: deraadt <deraadt@openbsd.org>
Date:   Mon May 14 15:37:16 2001 +0000

    dummy cryptof_stat

diff --git a/sys/crypto/cryptodev.c b/sys/crypto/cryptodev.c
index 3029826d7f1..a80e9917916 100644
--- a/sys/crypto/cryptodev.c
+++ b/sys/crypto/cryptodev.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: cryptodev.c,v 1.5 2001/05/14 15:19:37 deraadt Exp $	*/
+/*	$OpenBSD: cryptodev.c,v 1.6 2001/05/14 15:37:16 deraadt Exp $	*/
 
 /*
  * Copyright (c) 2001 Theo de Raadt
@@ -87,6 +87,7 @@ int	cryptof_write(struct file *, off_t *, struct uio *, struct ucred *);
 int	cryptof_ioctl(struct file *, u_long, caddr_t, struct proc *p);
 int	cryptof_select(struct file *, int, struct proc *);
 int	cryptof_kqfilter(struct file *, struct knote *);
+int	cryptof_stat(struct file *, struct stat *, struct proc *);
 int	cryptof_close(struct file *, struct proc *);
 
 static struct fileops cryptofops = {
@@ -95,7 +96,7 @@ static struct fileops cryptofops = {
     cryptof_ioctl,
     cryptof_select,
     cryptof_kqfilter,
-    NULL,
+    cryptof_stat,
     cryptof_close
 };
 
@@ -408,6 +409,16 @@ cryptof_kqfilter(fp, kn)
 	return (0);
 }
 
+/* ARGSUSED */
+int
+cryptof_stat(fp, sb, p)
+	struct file *fp;
+	struct stat *sb;
+	struct proc *p;
+{
+	return (EOPNOTSUPP);
+}
+
 /* ARGSUSED */
 int
 cryptof_close(fp, p)

