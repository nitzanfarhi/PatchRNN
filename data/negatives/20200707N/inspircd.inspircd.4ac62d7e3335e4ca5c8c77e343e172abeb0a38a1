commit 4ac62d7e3335e4ca5c8c77e343e172abeb0a38a1
Author: brain <brain@e03df62e-2008-0410-955e-edbf42e46eb7>
Date:   Wed Aug 16 09:43:17 2006 +0000

    Optimizations
    
    
    git-svn-id: http://svn.inspircd.org/repository/trunk/inspircd@4927 e03df62e-2008-0410-955e-edbf42e46eb7

diff --git a/src/modules/m_timedbans.cpp b/src/modules/m_timedbans.cpp
index 2234e0479..d933c7f13 100644
--- a/src/modules/m_timedbans.cpp
+++ b/src/modules/m_timedbans.cpp
@@ -137,12 +137,12 @@ class ModuleTimedBans : public Module
 
 	virtual int OnDelBan(userrec* source, chanrec* chan, const std::string &banmask)
 	{
+		irc::string listitem = banmask.c_str();
+		irc::string thischan = chan->name;
 		for (timedbans::iterator i = TimedBanList.begin(); i < TimedBanList.end(); i++)
 		{
-			irc::string listitem = banmask.c_str();
 			irc::string target = i->mask.c_str();
 			irc::string tchan = i->channel.c_str();
-			irc::string thischan = chan->name;
 			if ((listitem == target) && (tchan == thischan))
 			{
 				TimedBanList.erase(i);

