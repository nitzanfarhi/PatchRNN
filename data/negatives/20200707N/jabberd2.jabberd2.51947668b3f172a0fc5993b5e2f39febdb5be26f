commit 51947668b3f172a0fc5993b5e2f39febdb5be26f
Author: Tomasz Sterna <tomek@xiaoka.com>
Date:   Tue May 3 20:44:57 2016 +0200

    CID 90884 storage_db: Check for bad data type

diff --git a/storage/storage_db.c b/storage/storage_db.c
index d5c28fa..7f3529d 100644
--- a/storage/storage_db.c
+++ b/storage/storage_db.c
@@ -299,6 +299,10 @@ static st_ret_t _st_db_put(st_driver_t drv, const char *type, const char *owner,
     DB_TXN *t;
     st_ret_t ret;
 
+    if(dbd == NULL) {
+        return st_FAILED;
+    }
+
     if(os_count(os) == 0)
         return st_SUCCESS;
 

