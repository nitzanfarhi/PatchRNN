commit 392614c6466fa479f5b7f25bbe8e44c928af1abe
Author: Luke Dashjr <luke-jr+git@utopios.org>
Date:   Wed Feb 19 17:59:24 2014 +0000

    Skip trying to submit shares in benchmark mode

diff --git a/miner.c b/miner.c
index ec7647b6..e5678b4b 100644
--- a/miner.c
+++ b/miner.c
@@ -8863,6 +8863,12 @@ static
 void _submit_work_async(struct work *work)
 {
 	applog(LOG_DEBUG, "Pushing submit work to work thread");
+	
+	if (opt_benchmark)
+	{
+		free_work(work);
+		return;
+	}
 
 	mutex_lock(&submitting_lock);
 	++total_submitting;
@@ -11767,6 +11773,7 @@ begin_bench:
 	cgtime(&total_tv_start);
 	cgtime(&total_tv_end);
 
+	if (!opt_benchmark)
 	{
 		pthread_t submit_thread;
 		if (unlikely(pthread_create(&submit_thread, NULL, submit_work_thread, NULL)))

