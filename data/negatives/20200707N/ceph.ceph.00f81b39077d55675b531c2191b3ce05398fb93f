commit 00f81b39077d55675b531c2191b3ce05398fb93f
Author: sageweil <sageweil@29311d96-e01e-0410-9327-a35deaab8ce9>
Date:   Wed Aug 29 18:08:27 2007 +0000

    allow %d (client number) in trace filename
    
    git-svn-id: https://ceph.svn.sf.net/svnroot/ceph@1732 29311d96-e01e-0410-9327-a35deaab8ce9

diff --git a/trunk/ceph/client/SyntheticClient.cc b/trunk/ceph/client/SyntheticClient.cc
index 8cc0aacc01..f238c73dba 100644
--- a/trunk/ceph/client/SyntheticClient.cc
+++ b/trunk/ceph/client/SyntheticClient.cc
@@ -599,10 +599,13 @@ int SyntheticClient::run()
         int iarg1 = iargs.front();  iargs.pop_front();
         string prefix = get_sarg(0);
 
+	char realtfile[100];
+	sprintf(realtfile, tfile.c_str(), client->get_nodeid());
+
         if (run_me()) {
           dout(2) << "trace " << tfile << " prefix " << prefix << " ... " << iarg1 << " times" << dendl;
           
-          Trace t(tfile.c_str());
+          Trace t(realtfile);
           
           client->mkdir(prefix.c_str(), 0755);
           

