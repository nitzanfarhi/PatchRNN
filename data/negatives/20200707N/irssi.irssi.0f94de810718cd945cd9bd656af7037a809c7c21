commit 0f94de810718cd945cd9bd656af7037a809c7c21
Author: Timo Sirainen <cras@irssi.org>
Date:   Sat Jul 22 19:02:39 2000 +0000

    Don't crash at startup if IRC network wasn't specified for some server.
    
    
    git-svn-id: http://svn.irssi.org/repos/irssi/trunk@506 dbcabf3a-b0e7-0310-adc4-f8d773084564

diff --git a/src/fe-common/irc/fe-common-irc.c b/src/fe-common/irc/fe-common-irc.c
index fb31a44c..c05c778f 100644
--- a/src/fe-common/irc/fe-common-irc.c
+++ b/src/fe-common/irc/fe-common-irc.c
@@ -184,7 +184,8 @@ void fe_common_irc_finish_init(void)
 	for (tmp = setupservers; tmp != NULL; tmp = tmp->next) {
 		SETUP_SERVER_REC *rec = tmp->data;
 
-		if (rec->autoconnect && (*rec->ircnet == '\0' || gslist_find_icase_string(ircnets, rec->ircnet) == NULL)) {
+		if (rec->autoconnect && (rec->ircnet == NULL || *rec->ircnet == '\0' ||
+					 gslist_find_icase_string(ircnets, rec->ircnet) == NULL)) {
 			if (*rec->ircnet != '\0')
 				ircnets = g_slist_append(ircnets, rec->ircnet);
 

