commit 6eb4a09f8372d07a80a3dfaab4cda45cd37a6e1b
Author: Romain Bouqueau <romain.bouqueau.pro@gmail.com>
Date:   Thu Nov 24 13:27:13 2011 +0000

    [bouqueau] fix win32/mobile build
    
    git-svn-id: http://svn.code.sf.net/p/gpac/code/trunk/gpac@3757 63c20433-aa62-49bd-875c-5a186b69a8fb

diff --git a/modules/ft_font/ft_font.c b/modules/ft_font/ft_font.c
index 2b07e5388..22f8036f3 100644
--- a/modules/ft_font/ft_font.c
+++ b/modules/ft_font/ft_font.c
@@ -453,8 +453,8 @@ static GF_Err ft_set_font(GF_FontReader *dr, const char *OrigFontName, u32 style
 		opt = gf_modules_get_option((GF_BaseInterface *)dr, "FontEngine", fname);
 
 		if (opt) {
-			gf_free(fname);
 			FT_Face face;
+			gf_free(fname);
 			if (FT_New_Face(ftpriv->library, opt, 0, & face )) return GF_IO_ERR;
 			if (!face) return GF_IO_ERR;
 			gf_list_add(ftpriv->loaded_fonts, face);

