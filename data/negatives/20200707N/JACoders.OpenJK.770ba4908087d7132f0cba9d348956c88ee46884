commit 770ba4908087d7132f0cba9d348956c88ee46884
Author: Ensiform <ensiform@gmail.com>
Date:   Mon Mar 24 01:32:05 2014 -0500

    [MP] Fixed an issue introduced during server side demo addition which introduced player colors and extended ascii being stripped from names.
    
    This didn't show up in-game but it would have showed up in external tools receiving the player list /serverstatus, ingame browser player list, or rcon status etc.

diff --git a/codemp/server/sv_ccmds.cpp b/codemp/server/sv_ccmds.cpp
index 6bc6dffd..78d8c543 100644
--- a/codemp/server/sv_ccmds.cpp
+++ b/codemp/server/sv_ccmds.cpp
@@ -1014,6 +1014,7 @@ void SV_AutoRecordDemo( client_t *cl ) {
 	char *demoNames[] = { demoFolderName, demoFileName };
 	char date[MAX_OSPATH];
 	char folderDate[MAX_OSPATH];
+	char demoPlayerName[MAX_NAME_LENGTH];
 	time_t rawtime;
 	struct tm * timeinfo;
 	time( &rawtime );
@@ -1021,8 +1022,10 @@ void SV_AutoRecordDemo( client_t *cl ) {
 	strftime( date, sizeof( date ), "%Y-%m-%d_%H-%M-%S", timeinfo );
 	timeinfo = localtime( &sv.realMapTimeStarted );
 	strftime( folderDate, sizeof( folderDate ), "%Y-%m-%d_%H-%M-%S", timeinfo );
+	Q_strncpyz( demoPlayerName, cl->name, sizeof( demoPlayerName ) );
+	Q_CleanStr( demoPlayerName );
 	Com_sprintf( demoFileName, sizeof( demoFileName ), "%d %s %s %s",
-			cl - svs.clients, Q_CleanStr( cl->name ), Cvar_VariableString( "mapname" ), date );
+			cl - svs.clients, demoPlayerName, Cvar_VariableString( "mapname" ), date );
 	Com_sprintf( demoFolderName, sizeof( demoFolderName ), "%s %s", Cvar_VariableString( "mapname" ), folderDate );
 	// sanitize filename
 	for ( char **start = demoNames; start - demoNames < (ptrdiff_t)ARRAY_LEN( demoNames ); start++ ) {

