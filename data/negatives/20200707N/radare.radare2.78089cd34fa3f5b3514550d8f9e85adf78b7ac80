commit 78089cd34fa3f5b3514550d8f9e85adf78b7ac80
Author: Wladimir J. van der Laan <laanwj@gmail.com>
Date:   Sat Feb 25 09:27:00 2017 -0500

    riscv: Return actual instruction length
    
    Support instructions of varying length.
    Addresses #6849.

diff --git a/libr/asm/arch/riscv/riscv.c b/libr/asm/arch/riscv/riscv.c
index fb8813650..848892cc9 100644
--- a/libr/asm/arch/riscv/riscv.c
+++ b/libr/asm/arch/riscv/riscv.c
@@ -327,5 +327,5 @@ riscv_dis(RAsm *a, RAsmOp *rop, const ut8 *buf, ut64 len) {
 	memcpy (&insn, buf, 4);
 	riscv_disassemble (a, rop, insn, a->bits);
 
-	return 4;
+	return riscv_insn_length(insn);
 }

