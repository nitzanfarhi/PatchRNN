commit db7e0242166f6d23a3a797985e859a6f16b83d41
Author: reimar <reimar@b3059339-0415-0410-9bf9-f77b7e298cf2>
Date:   Tue Feb 6 19:01:28 2007 +0000

    Support some weird AVI header, fixes bug 742
    (http://samples.mplayerhq.hu/avi/samsung_crap_bug742.avi)
    
    
    git-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@22166 b3059339-0415-0410-9bf9-f77b7e298cf2

diff --git a/libmpdemux/demux_avi.c b/libmpdemux/demux_avi.c
index 6d241be1a5..ec5527d218 100644
--- a/libmpdemux/demux_avi.c
+++ b/libmpdemux/demux_avi.c
@@ -807,6 +807,9 @@ static int avi_check_file(demuxer_t *demuxer)
     id=stream_read_dword_le(demuxer->stream); // "AVI "
     if(id==formtypeAVI)
       return DEMUXER_TYPE_AVI;
+    // "Samsung Digimax i6 PMP" crap according to bug 742
+    if(id==mmioFOURCC('A','V','I',0x19))
+      return DEMUXER_TYPE_AVI;
     if(id==mmioFOURCC('O','N','2','f')){
       mp_msg(MSGT_DEMUXER,MSGL_INFO,MSGTR_ON2AviFormat);
       return DEMUXER_TYPE_AVI;

