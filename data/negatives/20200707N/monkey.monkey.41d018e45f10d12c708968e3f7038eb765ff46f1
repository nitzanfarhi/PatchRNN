commit 41d018e45f10d12c708968e3f7038eb765ff46f1
Author: Eduardo Silva <eduardo@monkey.io>
Date:   Thu Jul 31 10:59:05 2014 -0600

    Signal: if write fails, print error
    
    Signed-off-by: Eduardo Silva <eduardo@monkey.io>

diff --git a/src/mk_signals.c b/src/mk_signals.c
index fc5cd3b5..a048bba0 100644
--- a/src/mk_signals.c
+++ b/src/mk_signals.c
@@ -51,6 +51,7 @@
 static void mk_signal_exit()
 {
     int i;
+    int n;
     uint64_t val;
 
     /* ignore future signals to properly handle the cleanup */
@@ -61,7 +62,10 @@ static void mk_signal_exit()
     /* Distribute worker signals to stop working */
     val = MK_SCHEDULER_SIGNAL_FREE_ALL;
     for (i = 0; i < config->workers; i++) {
-        write(sched_list[i].signal_channel, &val, sizeof(val));
+        n = write(sched_list[i].signal_channel, &val, sizeof(val));
+        if (n < 0) {
+            perror("write");
+        }
     }
 
     /* Wait for workers to finish */

