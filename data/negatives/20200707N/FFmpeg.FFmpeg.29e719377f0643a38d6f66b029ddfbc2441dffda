commit 29e719377f0643a38d6f66b029ddfbc2441dffda
Author: Jason Garrett-Glaser <darkshikari@gmail.com>
Date:   Tue Jun 29 12:28:06 2010 +0000

    Add missing mm_support call toff_h264_pred_init_x86.
    I'm not sure if this is supposed to be here, but it can't hurt.
    
    Originally committed as revision 23885 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavcodec/x86/h264dsp_mmx.c b/libavcodec/x86/h264dsp_mmx.c
index 2b83c65596..3c3eab0847 100644
--- a/libavcodec/x86/h264dsp_mmx.c
+++ b/libavcodec/x86/h264dsp_mmx.c
@@ -2353,6 +2353,8 @@ void ff_pred4x4_vertical_vp8_mmxext(uint8_t *src, const uint8_t *topright, int s
 #if CONFIG_H264DSP
 void ff_h264_pred_init_x86(H264PredContext *h, int codec_id)
 {
+    mm_flags = mm_support();
+
 #if HAVE_YASM
     if (mm_flags & FF_MM_MMX) {
         h->pred16x16[VERT_PRED8x8] = ff_pred16x16_vertical_mmx;

