commit a1b6810d66e9fcea5341412e6d2c7bf57184c506
Author: Andrew Beekhof <andrew@beekhof.net>
Date:   Fri May 9 13:28:43 2008 +0200

    High: crmd: Always send a direct ack as the TE doesn't see delete's
    
    Mercurial revision: 85eac21e458e6ed00acd2ac36849df534b27eb5e

diff --git a/crmd/lrm.c b/crmd/lrm.c
index bb7b14643..e7b2922ab 100644
--- a/crmd/lrm.c
+++ b/crmd/lrm.c
@@ -1269,12 +1269,12 @@ do_lrm_invoke(long long action,
 			     * have failed in the first place
 			     */
 			    g_hash_table_remove(pending_ops, op_key);
-
-			    op->op_status = LRM_OP_DONE;
-			    op->rc = EXECRA_OK;
-			    send_direct_ack(from_host, from_sys, op, rsc->id);
 			}
 
+			op->rc = EXECRA_OK;
+			op->op_status = LRM_OP_DONE;
+			send_direct_ack(from_host, from_sys, op, rsc->id);
+			
 			crm_free(op_key);
 			free_lrm_op(op);			
 			

