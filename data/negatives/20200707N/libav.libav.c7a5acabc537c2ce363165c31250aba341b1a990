commit c7a5acabc537c2ce363165c31250aba341b1a990
Author: Anton Khirnov <anton@khirnov.net>
Date:   Sun Oct 27 10:02:26 2013 +0100

    dnxhddec: stop using deprecated avcodec_set_dimensions

diff --git a/libavcodec/dnxhddec.c b/libavcodec/dnxhddec.c
index f7b8a22fe..5c29b3e13 100644
--- a/libavcodec/dnxhddec.c
+++ b/libavcodec/dnxhddec.c
@@ -347,9 +347,9 @@ static int dnxhd_decode_frame(AVCodecContext *avctx, void *data, int *got_frame,
         first_field = 1;
     }
 
-    if (av_image_check_size(ctx->width, ctx->height, 0, avctx))
-        return -1;
-    avcodec_set_dimensions(avctx, ctx->width, ctx->height);
+    ret = ff_set_dimensions(avctx, ctx->width, ctx->height);
+    if (ret < 0)
+        return ret;
 
     if (first_field) {
         if ((ret = ff_get_buffer(avctx, picture, 0)) < 0) {

