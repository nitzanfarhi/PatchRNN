commit a40a30dce0d788c97d4e0d8e48cf24be14d6214c
Author: JÃ¶rn Heusipp <manxorist@users.sourceforge.net>
Date:   Thu Jun 19 10:07:57 2014 +0000

    [New] Add hidden setting [Misc]ShowSettingsOnNewVersion (default true) which can permanently disable showing of the settings dialog on new versions, in addition to the one-time commandline switch /noSettingsOnNewVersion .
    
    git-svn-id: https://source.openmpt.org/svn/openmpt/trunk/OpenMPT@4138 56274372-70c3-4bfc-bfc3-4c3a0b034d27

diff --git a/mptrack/Mptrack.cpp b/mptrack/Mptrack.cpp
index 4ec52b373..7a1be8158 100644
--- a/mptrack/Mptrack.cpp
+++ b/mptrack/Mptrack.cpp
@@ -957,7 +957,7 @@ BOOL CTrackApp::InitInstance()
 	}
 
 	// Open settings if the previous execution was with an earlier version.
-	if (!cmdInfo.m_bNoSettingsOnNewVersion && TrackerSettings::Instance().gcsPreviousVersion < MptVersion::num)
+	if(TrackerSettings::Instance().ShowSettingsOnNewVersion && !cmdInfo.m_bNoSettingsOnNewVersion && TrackerSettings::Instance().gcsPreviousVersion < MptVersion::num)
 	{
 		StopSplashScreen();
 		m_pMainWnd->PostMessage(WM_COMMAND, ID_VIEW_OPTIONS);
diff --git a/mptrack/TrackerSettings.cpp b/mptrack/TrackerSettings.cpp
index 8f5dba514..6847fc4c0 100644
--- a/mptrack/TrackerSettings.cpp
+++ b/mptrack/TrackerSettings.cpp
@@ -158,6 +158,7 @@ TrackerSettings::TrackerSettings(SettingsContainer &conf)
 	, GUIUpdateInterval(conf, "Display", "GUIUpdateInterval", 0)
 	, VuMeterUpdateInterval(conf, "Display", "VuMeterUpdateInterval", 15)
 	// Misc
+	, ShowSettingsOnNewVersion(conf, "Misc", "ShowSettingsOnNewVersion", true)
 	, gbShowHackControls(conf, "Misc", "ShowHackControls", false)
 	, defaultModType(conf, "Misc", "DefaultModType", MOD_TYPE_IT)
 	, DefaultPlugVolumeHandling(conf, "Misc", "DefaultPlugVolumeHandling", PLUGIN_VOLUMEHANDLING_IGNORE)
diff --git a/mptrack/TrackerSettings.h b/mptrack/TrackerSettings.h
index b3fb61fec..94e361d0b 100644
--- a/mptrack/TrackerSettings.h
+++ b/mptrack/TrackerSettings.h
@@ -358,6 +358,7 @@ public:
 
 	// Misc
 
+	Setting<bool> ShowSettingsOnNewVersion;
 	Setting<bool> gbShowHackControls;
 	Setting<MODTYPE> defaultModType;
 	Setting<PLUGVOLUMEHANDLING> DefaultPlugVolumeHandling;

