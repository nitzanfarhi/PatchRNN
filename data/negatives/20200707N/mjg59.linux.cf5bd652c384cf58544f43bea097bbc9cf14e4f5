commit cf5bd652c384cf58544f43bea097bbc9cf14e4f5
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Dec 1 16:36:56 2009 +0100

    ALSA: aaci - Clean up duplicate code
    
    Now snd_ac97_pcm_open() is called with the exactly same arguments
    for both playback and capture directions.  Remove the unneeded check.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

diff --git a/sound/arm/aaci.c b/sound/arm/aaci.c
index eb715e732106..83b0328d389e 100644
--- a/sound/arm/aaci.c
+++ b/sound/arm/aaci.c
@@ -511,15 +511,9 @@ static int aaci_pcm_hw_params(struct snd_pcm_substream *substream,
 	if (err < 0)
 		goto out;
 
-	if (substream->stream == SNDRV_PCM_STREAM_PLAYBACK)
-		err = snd_ac97_pcm_open(aacirun->pcm, params_rate(params),
-					params_channels(params),
-					aacirun->pcm->r[0].slots);
-	else
-		err = snd_ac97_pcm_open(aacirun->pcm, params_rate(params),
-					params_channels(params),
-					aacirun->pcm->r[0].slots);
-
+	err = snd_ac97_pcm_open(aacirun->pcm, params_rate(params),
+				params_channels(params),
+				aacirun->pcm->r[0].slots);
 	if (err)
 		goto out;
 

