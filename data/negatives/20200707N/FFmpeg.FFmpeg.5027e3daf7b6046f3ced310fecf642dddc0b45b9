commit 5027e3daf7b6046f3ced310fecf642dddc0b45b9
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sat May 19 17:45:41 2012 +0200

    swr: fix buf_set() so it works with input == output
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libswresample/swresample.c b/libswresample/swresample.c
index dbc502ff6c..619c83eb88 100644
--- a/libswresample/swresample.c
+++ b/libswresample/swresample.c
@@ -394,7 +394,7 @@ static void buf_set(AudioData *out, AudioData *in, int count){
         for(ch=0; ch<out->ch_count; ch++)
             out->ch[ch]= in->ch[ch] + count*out->bps;
     }else{
-        for(ch=0; ch<out->ch_count; ch++)
+        for(ch=out->ch_count-1; ch>=0; ch--)
             out->ch[ch]= in->ch[0] + (ch + count*out->ch_count) * out->bps;
     }
 }

