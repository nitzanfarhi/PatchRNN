commit 489b0d4d9897676877f598a74902237f9d830f79
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Nov 22 14:13:23 2007 +0000

    Make av_read_frame with rtsp client return EINTR on interrupt
    patch from elupusateccedotse (missing hunk from r11072)
    
    Originally committed as revision 11076 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavformat/rtsp.c b/libavformat/rtsp.c
index 4fec5b4094..831ef9b26f 100644
--- a/libavformat/rtsp.c
+++ b/libavformat/rtsp.c
@@ -1196,7 +1196,7 @@ static int rtsp_read_packet(AVFormatContext *s,
         break;
     }
     if (len < 0)
-        return AVERROR(EIO);
+        return len;
     ret = rtp_parse_packet(rtsp_st->rtp_ctx, pkt, buf, len);
     if (ret < 0)
         goto redo;

