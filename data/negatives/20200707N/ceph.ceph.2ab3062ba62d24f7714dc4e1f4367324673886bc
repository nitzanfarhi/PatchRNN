commit 2ab3062ba62d24f7714dc4e1f4367324673886bc
Author: Josh Durgin <josh.durgin@dreamhost.com>
Date:   Thu May 5 16:28:35 2011 -0700

    PG: strays don't peer (only the primary does)
    
    Signed-off-by: Josh Durgin <josh.durgin@dreamhost.com>

diff --git a/src/osd/PG.cc b/src/osd/PG.cc
index 8652106570..2d30100e75 100644
--- a/src/osd/PG.cc
+++ b/src/osd/PG.cc
@@ -4100,7 +4100,6 @@ PG::RecoveryState::Stray::Stray(my_context ctx)
   assert(!pg->is_active());
   assert(!pg->is_peering());
   assert(!pg->is_primary());
-  pg->state_set(PG_STATE_PEERING);
 }
 
 boost::statechart::result 

