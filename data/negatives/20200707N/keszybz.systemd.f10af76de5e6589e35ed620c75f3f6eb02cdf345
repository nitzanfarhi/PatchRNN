commit f10af76de5e6589e35ed620c75f3f6eb02cdf345
Author: Lennart Poettering <lennart@poettering.net>
Date:   Tue Oct 28 17:27:38 2014 +0100

    swap: don't add too many deps for swap files form /proc/swap

diff --git a/src/core/swap.c b/src/core/swap.c
index cf33ab602..13e12ad67 100644
--- a/src/core/swap.c
+++ b/src/core/swap.c
@@ -196,6 +196,9 @@ static int swap_add_device_links(Swap *s) {
         if (!s->what)
                 return 0;
 
+        if (!s->from_fragment)
+                return 0;
+
         if (is_device_path(s->what))
                 return unit_add_node_link(UNIT(s), s->what, UNIT(s)->manager->running_as == SYSTEMD_SYSTEM);
         else

