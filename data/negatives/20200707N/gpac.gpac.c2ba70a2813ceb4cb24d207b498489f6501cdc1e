commit c2ba70a2813ceb4cb24d207b498489f6501cdc1e
Author: Jerome Gorin <gorinje@gmail.com>
Date:   Thu Feb 28 13:07:28 2013 +0000

    Fix bugs in map
    
    git-svn-id: http://svn.code.sf.net/p/gpac/code/trunk/gpac@4337 63c20433-aa62-49bd-875c-5a186b69a8fb

diff --git a/src/utils/map.c b/src/utils/map.c
index ce7c4b4fd..d84bab1f6 100644
--- a/src/utils/map.c
+++ b/src/utils/map.c
@@ -51,7 +51,7 @@ GF_Err gf_it_map_new(GF_Map* map, GF_It_Map** it){
 	GF_It_Map* new_it;
 
 	/* Iterator must be associated to a map */
-	if (!map) return GF_BAD_PARAM;
+	if (!map || !it) return GF_BAD_PARAM;
 
 	/* Allocate space for a new iterator */
 	GF_SAFEALLOC(new_it, GF_It_Map);
@@ -68,6 +68,7 @@ GF_Err gf_it_map_new(GF_Map* map, GF_It_Map** it){
 
 GF_EXPORT
 void gf_map_it_del(GF_It_Map* it){
+	if (!it) return;
 	gf_free(it);
 }
 

