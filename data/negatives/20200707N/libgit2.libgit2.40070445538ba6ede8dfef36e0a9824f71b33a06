commit 40070445538ba6ede8dfef36e0a9824f71b33a06
Author: Vicent Marti <tanoku@gmail.com>
Date:   Sat Jun 18 00:54:24 2011 +0200

    config: Typorrrrl

diff --git a/src/config.c b/src/config.c
index ff7204b05..2b2bdb070 100644
--- a/src/config.c
+++ b/src/config.c
@@ -93,7 +93,11 @@ int git_config_add_file_ondisk(git_config *cfg, const char *path, int priority)
 
 	error = git_config_add_file(cfg, file, priority);
 	if (error < GIT_SUCCESS) {
-		file->free(file); /* free manually; the file is not owned by the ODB yet */
+		/*
+		 * free manually; the file is not owned by the config
+		 * instance yet and will not be freed on cleanup
+		 */
+		file->free(file);
 		return error;
 	}
 

