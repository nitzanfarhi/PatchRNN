commit 3dd1658e1f3410dfdf00b267593a3cbe7041c645
Author: ckolivas <kernel@kolivas.org>
Date:   Tue Aug 7 12:10:01 2012 +1000

    We may as well leave one curl still available per pool instead of reaping the last one.

diff --git a/cgminer.c b/cgminer.c
index cc6f9490..a662c1f0 100644
--- a/cgminer.c
+++ b/cgminer.c
@@ -4514,6 +4514,8 @@ static void reap_curl(struct pool *pool)
 	gettimeofday(&now, NULL);
 	mutex_lock(&pool->pool_lock);
 	list_for_each_entry_safe(ent, iter, &pool->curlring, node) {
+		if (pool->curls < 2)
+			break;
 		if (now.tv_sec - ent->tv.tv_sec > 60) {
 			reaped++;
 			pool->curls--;

