commit b3c0fc76735f64268e6ec564fff7beb8bcbdb687
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Nov 16 23:50:18 2010 +0000

    av_find_stream_info(): set subtitle codec time_base
    
    Originally committed as revision 25758 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavformat/utils.c b/libavformat/utils.c
index 8fcbe96eea..937a615fc0 100644
--- a/libavformat/utils.c
+++ b/libavformat/utils.c
@@ -2183,7 +2183,8 @@ int av_find_stream_info(AVFormatContext *ic)
             st->codec->frame_size = 0;
             st->codec->channels = 0;
         }
-        if(st->codec->codec_type == AVMEDIA_TYPE_VIDEO){
+        if (st->codec->codec_type == AVMEDIA_TYPE_VIDEO ||
+            st->codec->codec_type == AVMEDIA_TYPE_SUBTITLE) {
 /*            if(!st->time_base.num)
                 st->time_base= */
             if(!st->codec->time_base.num)

