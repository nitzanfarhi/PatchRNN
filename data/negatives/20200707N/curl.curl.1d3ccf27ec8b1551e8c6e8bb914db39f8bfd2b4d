commit 1d3ccf27ec8b1551e8c6e8bb914db39f8bfd2b4d
Author: Jiri Hruska <jirka@fud.cz>
Date:   Sun Mar 3 10:12:27 2013 +0100

    imap: Introduced custom request parameters
    
    Added custom request parameters to the per-request structure.

diff --git a/lib/imap.c b/lib/imap.c
index 1feeb7330..3a1d135f3 100644
--- a/lib/imap.c
+++ b/lib/imap.c
@@ -1713,6 +1713,8 @@ static CURLcode imap_done(struct connectdata *conn, CURLcode status,
   Curl_safefree(imap->uidvalidity);
   Curl_safefree(imap->uid);
   Curl_safefree(imap->section);
+  Curl_safefree(imap->custom);
+  Curl_safefree(imap->custom_params);
 
   /* Clear the transfer mode for the next request */
   imap->transfer = FTPTRANSFER_BODY;
diff --git a/lib/imap.h b/lib/imap.h
index b92a14d51..1ca67fe2b 100644
--- a/lib/imap.h
+++ b/lib/imap.h
@@ -65,6 +65,8 @@ struct IMAP {
   char *uidvalidity;      /* UIDVALIDITY to check in select */
   char *uid;              /* Message UID to fetch */
   char *section;          /* Message SECTION to fetch */
+  char *custom;           /* Custom request */
+  char *custom_params;    /* Parameters for the custom request */
 };
 
 /* imap_conn is used for struct connection-oriented data in the connectdata

