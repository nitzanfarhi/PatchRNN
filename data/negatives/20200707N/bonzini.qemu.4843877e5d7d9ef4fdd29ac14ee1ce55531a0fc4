commit 4843877e5d7d9ef4fdd29ac14ee1ce55531a0fc4
Author: Gerd Hoffmann <kraxel@redhat.com>
Date:   Thu Apr 17 12:43:26 2014 +0200

    hda-audio: fix non-mixer codecs
    
    They don't advertise mixer support, but still allow the guest change
    mixer settings.  Add a check to avoid it.
    
    Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>

diff --git a/hw/audio/hda-codec.c b/hw/audio/hda-codec.c
index a67ca91ca7..48c6eadb03 100644
--- a/hw/audio/hda-codec.c
+++ b/hw/audio/hda-codec.c
@@ -261,6 +261,9 @@ static void hda_audio_set_amp(HDAAudioStream *st)
     left = left * 255 / QEMU_HDA_AMP_STEPS;
     right = right * 255 / QEMU_HDA_AMP_STEPS;
 
+    if (!st->state->mixer) {
+        return;
+    }
     if (st->output) {
         AUD_set_volume_out(st->voice.out, muted, left, right);
     } else {

