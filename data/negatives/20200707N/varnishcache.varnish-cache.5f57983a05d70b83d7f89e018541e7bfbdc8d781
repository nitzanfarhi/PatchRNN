commit 5f57983a05d70b83d7f89e018541e7bfbdc8d781
Author: Martin Blix Grydeland <martin@varnish-software.com>
Date:   Mon Sep 1 14:22:34 2014 +0200

    Don't log SLT_ReqAcct when we don't have assigned a VXID yet.
    
    This prevents SLT_ReqAcct log records with 0 as VXID.

diff --git a/bin/varnishd/cache/cache_req_fsm.c b/bin/varnishd/cache/cache_req_fsm.c
index 14b45cfc1..bd9b696a8 100644
--- a/bin/varnishd/cache/cache_req_fsm.c
+++ b/bin/varnishd/cache/cache_req_fsm.c
@@ -934,7 +934,7 @@ CNT_AcctLogCharge(struct dstat *ds, struct req *req)
 
 	a = &req->acct;
 
-	if (!(req->res_mode & RES_PIPE)) {
+	if (req->vsl->wid && !(req->res_mode & RES_PIPE)) {
 		VSLb(req->vsl, SLT_ReqAcct, "%ju %ju %ju %ju %ju %ju",
 		    (uintmax_t)a->req_hdrbytes,
 		    (uintmax_t)a->req_bodybytes,

