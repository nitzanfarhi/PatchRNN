commit c5e295cb9d57489741f66cbd6b058f0307652b6e
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun Oct 19 03:03:04 2014 +0200

    avcodec/mpegaudiodec_template: use av_freep(), do not leave stale pointers in memory
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libavcodec/mpegaudiodec_template.c b/libavcodec/mpegaudiodec_template.c
index c4c03d9106..1c97d724f4 100644
--- a/libavcodec/mpegaudiodec_template.c
+++ b/libavcodec/mpegaudiodec_template.c
@@ -1819,7 +1819,7 @@ static av_cold int decode_close_mp3on4(AVCodecContext * avctx)
     int i;
 
     for (i = 0; i < s->frames; i++)
-        av_free(s->mp3decctx[i]);
+        av_freep(&s->mp3decctx[i]);
 
     return 0;
 }

