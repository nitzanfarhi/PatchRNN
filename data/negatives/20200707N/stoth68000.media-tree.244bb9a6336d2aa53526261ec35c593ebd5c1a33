commit 244bb9a6336d2aa53526261ec35c593ebd5c1a33
Author: Li Zefan <lizefan@huawei.com>
Date:   Wed Sep 17 18:18:34 2014 +0800

    cgroup: remove redundant code in cgroup_rmdir()
    
    We no longer clear kn->priv in cgroup_rmdir(), so we don't need
    to get an extra refcnt.
    
    Signed-off-by: Zefan Li <lizefan@huawei.com>
    Signed-off-by: Tejun Heo <tj@kernel.org>

diff --git a/kernel/cgroup.c b/kernel/cgroup.c
index 619aae399a3a..d739a732edb9 100644
--- a/kernel/cgroup.c
+++ b/kernel/cgroup.c
@@ -4841,13 +4841,10 @@ static int cgroup_rmdir(struct kernfs_node *kn)
 	cgrp = cgroup_kn_lock_live(kn);
 	if (!cgrp)
 		return 0;
-	cgroup_get(cgrp);	/* for @kn->priv clearing */
 
 	ret = cgroup_destroy_locked(cgrp);
 
 	cgroup_kn_unlock(kn);
-
-	cgroup_put(cgrp);
 	return ret;
 }
 

