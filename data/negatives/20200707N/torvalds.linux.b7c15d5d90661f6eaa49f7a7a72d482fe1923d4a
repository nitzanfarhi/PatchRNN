commit b7c15d5d90661f6eaa49f7a7a72d482fe1923d4a
Author: Mauro Carvalho Chehab <mchehab@s-opensource.com>
Date:   Thu May 18 08:55:41 2017 -0300

    [media] saa7164: better handle error codes
    
    Right now, the driver is doing the right thing for
    PVC_ERRORCODE_UNKNOWN and PVC_ERRORCODE_INVALID_CONTROL:
    for both, it returns an error code (SAA_ERR_NOT_SUPPORTED).
    
    However, it is printing two error messages instead of one
    on those cases.
    
    Fix the logic.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@s-opensource.com>

diff --git a/drivers/media/pci/saa7164/saa7164-cmd.c b/drivers/media/pci/saa7164/saa7164-cmd.c
index 175015ca79f2..dfebd77ada59 100644
--- a/drivers/media/pci/saa7164/saa7164-cmd.c
+++ b/drivers/media/pci/saa7164/saa7164-cmd.c
@@ -506,6 +506,8 @@ int saa7164_cmd_send(struct saa7164_dev *dev, u8 id, enum tmComResCmd command,
 				dprintk(DBGLVL_CMD,
 					"%s() UNKNOWN OR INVALID CONTROL\n",
 					__func__);
+				ret = SAA_ERR_NOT_SUPPORTED;
+				break;
 			default:
 				dprintk(DBGLVL_CMD, "%s() UNKNOWN\n", __func__);
 				ret = SAA_ERR_NOT_SUPPORTED;

