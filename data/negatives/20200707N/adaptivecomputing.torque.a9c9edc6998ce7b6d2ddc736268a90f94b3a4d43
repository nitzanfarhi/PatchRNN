commit a9c9edc6998ce7b6d2ddc736268a90f94b3a4d43
Author: dbeer <dbeer@8f940c70-5916-0410-ac46-d1fa2fa6ea29>
Date:   Thu Jun 14 15:42:21 2012 +0000

    BETA-57. Numa jobs weren't exiting correctly because the sock_addr wasn't set correctly on the node, meaning the execution address wasn't set correctly on the job, meaning pbs_server didn't recognize that the job was on the mom that reported it having finished.

diff --git a/src/server/node_func.c b/src/server/node_func.c
index d4fe5b860..f2af99cc0 100644
--- a/src/server/node_func.c
+++ b/src/server/node_func.c
@@ -1562,6 +1562,7 @@ int setup_node_boards(
     /* make sure the server communicates on the correct ports */
     pn->nd_mom_port = pnode->nd_mom_port;
     pn->nd_mom_rm_port = pnode->nd_mom_rm_port;
+    memcpy(&pn->nd_sock_addr, &pnode->nd_sock_addr, sizeof(pn->nd_sock_addr));
 
     /* update the np string pointer */
     if (np_ptr != NULL)

