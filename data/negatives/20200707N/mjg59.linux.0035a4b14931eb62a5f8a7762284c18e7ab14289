commit 0035a4b14931eb62a5f8a7762284c18e7ab14289
Author: Marcin Slusarz <marcin.slusarz@gmail.com>
Date:   Sun May 11 22:01:29 2008 +0200

    dlm: tcp_connect_to_sock should check for -EINVAL, not EINVAL
    
    Signed-off-by: Marcin Slusarz <marcin.slusarz@gmail.com>
    Cc: Christine Caulfield <ccaulfie@redhat.com>
    Cc: David Teigland <teigland@redhat.com>
    Cc: cluster-devel@redhat.com
    Signed-off-by: David Teigland <teigland@redhat.com>

diff --git a/fs/dlm/lowcomms.c b/fs/dlm/lowcomms.c
index c7d232a9ae12..637018c891ef 100644
--- a/fs/dlm/lowcomms.c
+++ b/fs/dlm/lowcomms.c
@@ -931,7 +931,7 @@ out_err:
 	 * errors we try again until the max number of retries is reached.
 	 */
 	if (result != -EHOSTUNREACH && result != -ENETUNREACH &&
-	    result != -ENETDOWN && result != EINVAL
+	    result != -ENETDOWN && result != -EINVAL
 	    && result != -EPROTONOSUPPORT) {
 		lowcomms_connect_sock(con);
 		result = 0;

