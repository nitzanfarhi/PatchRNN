commit 847adf689bcd7d7ee41858b6b89917879e979c5f
Author: Con Kolivas <kernel@kolivas.org>
Date:   Sun Sep 4 07:17:07 2011 +1000

    Add a small amount of hysteresis before lowering clock speed.

diff --git a/adl.c b/adl.c
index c3ee3c8f..f0737a57 100644
--- a/adl.c
+++ b/adl.c
@@ -608,7 +608,7 @@ void gpu_autotune(int gpu)
 		if (temp > ga->overtemp && engine > ga->minspeed) {
 			applog(LOG_WARNING, "Overheat detected, decreasing GPU clock speed");
 			newengine = ga->minspeed;
-		} else if (temp > ga->targettemp && engine > ga->minspeed && fan_optimal) {
+		} else if (temp > ga->targettemp + 5 && engine > ga->minspeed && fan_optimal) {
 			if (opt_debug)
 				applog(LOG_DEBUG, "Temperature over target, decreasing clock speed");
 			newengine = engine - ga->lpOdParameters.sEngineClock.iStep;

