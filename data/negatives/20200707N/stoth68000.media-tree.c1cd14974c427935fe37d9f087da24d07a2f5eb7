commit c1cd14974c427935fe37d9f087da24d07a2f5eb7
Author: Malcolm Priestley <tvboxspy@gmail.com>
Date:   Mon Jan 13 16:25:51 2014 +0000

    staging: vt6656: sparse fixes: iwctl_giwgenie use memcpy.
    
    extra is in kernel space use memcpy.
    
    sparse warning
    iwctl.c:1595:42: warning: incorrect type in argument 1 (different address spaces)
    iwctl.c:1595:42:    expected void [noderef] <asn:1>*to
    iwctl.c:1595:42:    got char *extra
    
    Signed-off-by: Malcolm Priestley <tvboxspy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/vt6656/iwctl.c b/drivers/staging/vt6656/iwctl.c
index bf5687708e18..3a68dfa23d84 100644
--- a/drivers/staging/vt6656/iwctl.c
+++ b/drivers/staging/vt6656/iwctl.c
@@ -1591,13 +1591,11 @@ int iwctl_giwgenie(struct net_device *dev, struct iw_request_info *info,
 	wrq->length = 0;
 	if (pMgmt->wWPAIELen > 0) {
 		wrq->length = pMgmt->wWPAIELen;
-		if (pMgmt->wWPAIELen <= space) {
-			if (copy_to_user(extra, pMgmt->abyWPAIE, pMgmt->wWPAIELen)) {
-				ret = -EFAULT;
-			}
-		} else {
+
+		if (pMgmt->wWPAIELen <= space)
+			memcpy(extra, pMgmt->abyWPAIE, pMgmt->wWPAIELen);
+		else
 			ret = -E2BIG;
-		}
 	}
 	return ret;
 }

