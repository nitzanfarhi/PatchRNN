commit ff057ccb07f07ee8f34ae4104f7ba8c2dcbc3f9a
Author: Andreas Färber <afaerber@suse.de>
Date:   Sun Jan 27 07:26:05 2013 +0100

    target-cris: Build fix for debug output
    
    Around r3361 (81fdc5f8d2d681da8d255baf0713144f8656bac9) env->debug1 used
    to contain the address of an MMU fault. This is now written into
    env->pregs[PR_EDA] instead.
    
    Signed-off-by: Andreas Färber <afaerber@suse.de>
    Signed-off-by: Edgar E. Iglesias <edgar.iglesias@gmail.com>

diff --git a/target-cris/op_helper.c b/target-cris/op_helper.c
index 0f6a1eeb0a..b580513848 100644
--- a/target-cris/op_helper.c
+++ b/target-cris/op_helper.c
@@ -60,7 +60,7 @@ void tlb_fill(CPUCRISState *env, target_ulong addr, int is_write, int mmu_idx,
     int ret;
 
     D_LOG("%s pc=%x tpc=%x ra=%p\n", __func__,
-          env->pc, env->debug1, (void *)retaddr);
+          env->pc, env->pregs[PR_EDA], (void *)retaddr);
     ret = cpu_cris_handle_mmu_fault(env, addr, is_write, mmu_idx);
     if (unlikely(ret)) {
         if (retaddr) {

