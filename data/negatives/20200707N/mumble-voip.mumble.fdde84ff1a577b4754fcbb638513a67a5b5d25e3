commit fdde84ff1a577b4754fcbb638513a67a5b5d25e3
Author: Thorvald Natvig <slicer@users.sourceforge.net>
Date:   Fri Sep 23 19:00:43 2005 +0000

    On channel creation, add creator to "admin" group.
    
    
    git-svn-id: https://mumble.svn.sourceforge.net/svnroot/mumble/trunk@192 05730e5d-ab1b-0410-a4ac-84af385074fa

diff --git a/Server.cpp b/Server.cpp
index 875dbc9e..d14725a3 100644
--- a/Server.cpp
+++ b/Server.cpp
@@ -569,6 +569,11 @@ void MessageChannelAdd::process(Connection *cCon) {
 	}
 
 	Channel *c = ServerDB::addChannel(p, qsName);
+	if (sPlayerId >= 0) {
+		Group *g = new Group(c, "admin");
+		g->qsAdd << sPlayerId;
+	}
+	ServerDB::updateChannel(c);
 
 	iId = c->iId;
 	g_sServer->sendAll(this);

