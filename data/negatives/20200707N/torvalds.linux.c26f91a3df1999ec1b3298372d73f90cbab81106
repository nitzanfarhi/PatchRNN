commit c26f91a3df1999ec1b3298372d73f90cbab81106
Author: Jiri Kosina <jkosina@suse.cz>
Date:   Mon Mar 22 09:32:26 2010 +0100

    x86: Remove excessive early_res debug output
    
    Commit 08677214e318297 ("x86: Make 64 bit use early_res instead
    of bootmem  before slab") introduced early_res replacement for
    bootmem, but left code  in __free_pages_memory() which dumps all
    the ranges that are beeing freed,  without any additional
    information, causing some noise in dmesg during  bootup.
    
    Just remove printing of the ranges, that doesn't provide
    anything useful  anyway.
    
    While at it, remove other commented-out KERN_DEBUG messages in
    the NO_BOOTMEM code as well.
    
    Signed-off-by: Jiri Kosina <jkosina@suse.cz>
    Found-OK-by: Andrew Morton <akpm@linux-foundation.org>
    Cc: Johannes Weiner <hannes@cmpxchg.org>
    Cc: Yinghai Lu <yinghai@kernel.org>
    LKML-Reference: <alpine.LNX.2.00.1003220931360.18642@pobox.suse.cz>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

diff --git a/mm/bootmem.c b/mm/bootmem.c
index d7c791ef0036..9b134460b016 100644
--- a/mm/bootmem.c
+++ b/mm/bootmem.c
@@ -180,19 +180,12 @@ static void __init __free_pages_memory(unsigned long start, unsigned long end)
 	end_aligned = end & ~(BITS_PER_LONG - 1);
 
 	if (end_aligned <= start_aligned) {
-#if 1
-		printk(KERN_DEBUG " %lx - %lx\n", start, end);
-#endif
 		for (i = start; i < end; i++)
 			__free_pages_bootmem(pfn_to_page(i), 0);
 
 		return;
 	}
 
-#if 1
-	printk(KERN_DEBUG " %lx %lx - %lx %lx\n",
-		 start, start_aligned, end_aligned, end);
-#endif
 	for (i = start; i < start_aligned; i++)
 		__free_pages_bootmem(pfn_to_page(i), 0);
 
@@ -428,9 +421,6 @@ void __init free_bootmem_node(pg_data_t *pgdat, unsigned long physaddr,
 {
 #ifdef CONFIG_NO_BOOTMEM
 	free_early(physaddr, physaddr + size);
-#if 0
-	printk(KERN_DEBUG "free %lx %lx\n", physaddr, size);
-#endif
 #else
 	unsigned long start, end;
 
@@ -456,9 +446,6 @@ void __init free_bootmem(unsigned long addr, unsigned long size)
 {
 #ifdef CONFIG_NO_BOOTMEM
 	free_early(addr, addr + size);
-#if 0
-	printk(KERN_DEBUG "free %lx %lx\n", addr, size);
-#endif
 #else
 	unsigned long start, end;
 

