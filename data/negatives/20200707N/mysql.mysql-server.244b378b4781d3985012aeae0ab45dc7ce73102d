commit 244b378b4781d3985012aeae0ab45dc7ce73102d
Author: heikki@hundin.mysql.fi <>
Date:   Wed Jan 15 22:48:02 2003 +0200

    srv0srv.c:
      Make SHOW INNODB STATUS aware which trx's are waiting because of innodb_thread_concurrency exceeded

diff --git a/innobase/srv/srv0srv.c b/innobase/srv/srv0srv.c
index 50ad90e60bd..61f5a847d51 100644
--- a/innobase/srv/srv0srv.c
+++ b/innobase/srv/srv0srv.c
@@ -1814,8 +1814,12 @@ retry:
 	/* Go to wait for the event; when a thread leaves InnoDB it will
 	release this thread */
 
+	trx->op_info = "waiting in InnoDB queue";
+
 	os_event_wait(slot->event);
 
+	trx->op_info = "";
+
 	os_fast_mutex_lock(&srv_conc_mutex);
 
 	srv_conc_n_waiting_threads--;

