commit eebb111f5f4aa7b91ffc046b84b24c1b75e391d1
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Tue Mar 2 21:58:16 2010 +0800

    crypto: md5 - Set statesize
    
    As md5 now has export/import functions, it must set the attribute
    statesize.  Otherwise anything that relies on import/export may
    fail as they will see a zero statesize.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

diff --git a/crypto/md5.c b/crypto/md5.c
index 9fda213a592e..30efc7dad891 100644
--- a/crypto/md5.c
+++ b/crypto/md5.c
@@ -234,6 +234,7 @@ static struct shash_alg alg = {
 	.export		=	md5_export,
 	.import		=	md5_import,
 	.descsize	=	sizeof(struct md5_state),
+	.statesize	=	sizeof(struct md5_state),
 	.base		=	{
 		.cra_name	=	"md5",
 		.cra_flags	=	CRYPTO_ALG_TYPE_SHASH,

