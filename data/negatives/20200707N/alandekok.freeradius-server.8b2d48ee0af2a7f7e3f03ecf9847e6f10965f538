commit 8b2d48ee0af2a7f7e3f03ecf9847e6f10965f538
Author: cparker <cparker>
Date:   Mon Oct 6 17:35:42 2003 +0000

    Fixed bug in 'paircreate' where it did not copy the vp->flags data structure
    item correctly, causing problems with attributes that require special handling
    such as Tunnel-Password.  Noted by Chris Brotsos <cbrotsos@starnetusa.net>

diff --git a/src/lib/valuepair.c b/src/lib/valuepair.c
index 2f5a99cbd..fe2e4ad01 100644
--- a/src/lib/valuepair.c
+++ b/src/lib/valuepair.c
@@ -71,6 +71,7 @@ VALUE_PAIR *paircreate(int attr, int type)
 	if ((da = dict_attrbyvalue(attr)) != NULL) {
 		strcpy(vp->name, da->name);
 		vp->type = da->type;
+		vp->flags = da->flags;
 	} else if (VENDOR(attr) == 0) {
 		sprintf(vp->name, "Attr-%u", attr);
 	} else {

