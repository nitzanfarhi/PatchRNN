commit f3e5a7844bbf13620ca4b6a5e19aa087c9141b15
Author: Justin Ruggles <justin.ruggles@gmail.com>
Date:   Mon Jul 9 16:57:22 2012 -0400

    alac: calculate buffer size outside the loop in allocate_buffers()

diff --git a/libavcodec/alac.c b/libavcodec/alac.c
index 7732f17bc..7c76c62df 100644
--- a/libavcodec/alac.c
+++ b/libavcodec/alac.c
@@ -505,9 +505,9 @@ static av_cold int alac_decode_close(AVCodecContext *avctx)
 static int allocate_buffers(ALACContext *alac)
 {
     int ch;
-    for (ch = 0; ch < FFMIN(alac->channels, 2); ch++) {
-        int buf_size = alac->max_samples_per_frame * sizeof(int32_t);
+    int buf_size = alac->max_samples_per_frame * sizeof(int32_t);
 
+    for (ch = 0; ch < FFMIN(alac->channels, 2); ch++) {
         FF_ALLOC_OR_GOTO(alac->avctx, alac->predict_error_buffer[ch],
                          buf_size, buf_alloc_fail);
 

