commit 179fbe1ed783e7fc0dd3ffdd027a5b8e7bf411aa
Author: Steven Dake <sdake@redhat.com>
Date:   Wed Jun 29 21:31:28 2005 +0000

    defect 653
    saCkptCheckpointOpen segfaults if null parameter passed in checkpointName
    
    
    git-svn-id: http://svn.fedorahosted.org/svn/corosync/trunk@717 fd59a12c-fef9-0310-b244-a6a79926bd2f

diff --git a/lib/ckpt.c b/lib/ckpt.c
index ffe99fb0..e4c9dbf5 100644
--- a/lib/ckpt.c
+++ b/lib/ckpt.c
@@ -481,6 +481,10 @@ saCkptCheckpointOpen (
 		return (SA_AIS_ERR_INVALID_PARAM);
 	}
 
+	if (checkpointName == NULL) {
+		return (SA_AIS_ERR_INVALID_PARAM);
+	}
+
 	if ((checkpointOpenFlags & SA_CKPT_CHECKPOINT_CREATE) && 
 		checkpointCreationAttributes == NULL) {
 

