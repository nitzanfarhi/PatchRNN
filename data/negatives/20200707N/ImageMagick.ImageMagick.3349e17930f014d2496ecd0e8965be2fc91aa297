commit 3349e17930f014d2496ecd0e8965be2fc91aa297
Author: cristy <urban-warrior@git.imagemagick.org>
Date:   Fri Jan 25 20:05:18 2013 +0000

diff --git a/MagickCore/distribute-cache.c b/MagickCore/distribute-cache.c
index 4456f4751..8676e6cd3 100644
--- a/MagickCore/distribute-cache.c
+++ b/MagickCore/distribute-cache.c
@@ -1339,6 +1339,9 @@ MagickPrivate MagickOffsetType ReadDistributePixelCachePixels(
 MagickPrivate MagickBooleanType RelinquishDistributePixelCache(
   DistributeCacheInfo *server_info)
 {
+  MagickBooleanType
+    status;
+
   MagickOffsetType
     count;
 
@@ -1360,7 +1363,10 @@ MagickPrivate MagickBooleanType RelinquishDistributePixelCache(
   count=dpc_send(server_info->file,p-message,message);
   if (count != (MagickOffsetType) (p-message))
     return(MagickFalse);
-  return(MagickTrue);
+  count=dpc_read(server_info->file,sizeof(status),(unsigned char *) &status);
+  if (count != (MagickOffsetType) sizeof(status))
+    return(MagickFalse);
+  return(status);
 }
 
 /*

