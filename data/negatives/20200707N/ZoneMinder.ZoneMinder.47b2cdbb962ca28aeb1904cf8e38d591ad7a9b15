commit 47b2cdbb962ca28aeb1904cf8e38d591ad7a9b15
Author: arjunrc <pliablepixels@gmail.com>
Date:   Fri Jan 29 09:58:50 2016 -0500

    added CMD_QUIT to kill zms via command

diff --git a/src/zm_event.cpp b/src/zm_event.cpp
index 5cf99de81..1f1fb0f0b 100644
--- a/src/zm_event.cpp
+++ b/src/zm_event.cpp
@@ -1088,6 +1088,11 @@ void EventStream::processCommand( const CmdMsg *msg )
             Debug( 1, "Got QUERY command, sending STATUS" );
             break;
         }
+	case CMD_QUIT :
+        {
+           Info ("User initiated exit - CMD_QUIT");
+           break;
+        }
         default :
         {
             // Do nothing, for now
@@ -1125,6 +1130,9 @@ void EventStream::processCommand( const CmdMsg *msg )
             exit( -1 );
         }
     }
+    // quit after sending a status, if this was a quit request
+    if ((MsgCommand)msg->msg_data[0]==CMD_QUIT)
+        exit(0);
 
     updateFrameRate( (double)event_data->frame_count/event_data->duration );
 }

