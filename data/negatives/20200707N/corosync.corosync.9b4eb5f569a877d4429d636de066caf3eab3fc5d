commit 9b4eb5f569a877d4429d636de066caf3eab3fc5d
Author: Steven Dake <sdake@mvista.com>
Date:   Fri Jun 17 18:52:55 2005 +0000

    defect 643
    saClmNodeGet timeout parameter of 0 should return SA_AIS_ERR_TIMEOUT
    
    (Logical change 1.224)
    
    
    git-svn-id: http://svn.fedorahosted.org/svn/corosync/trunk@705 fd59a12c-fef9-0310-b244-a6a79926bd2f

diff --git a/lib/clm.c b/lib/clm.c
index 70cd9765..76ed929a 100644
--- a/lib/clm.c
+++ b/lib/clm.c
@@ -521,6 +521,11 @@ saClmClusterNodeGet (
 	if (clusterNode == NULL) {
 		return (SA_AIS_ERR_INVALID_PARAM);
 	}
+
+	if (timeout == 0) {
+		return (SA_AIS_ERR_TIMEOUT);
+	}
+
 	error = saHandleInstanceGet (&clmHandleDatabase, clmHandle,
 		(void *)&clmInstance);
 	if (error != SA_OK) {

