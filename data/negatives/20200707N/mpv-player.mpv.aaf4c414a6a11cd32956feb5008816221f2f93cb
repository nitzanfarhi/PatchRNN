commit aaf4c414a6a11cd32956feb5008816221f2f93cb
Author: ulion <ulion@b3059339-0415-0410-9bf9-f77b7e298cf2>
Date:   Wed Dec 19 04:45:45 2007 +0000

    Use calloc instead of malloc when allocate vobsub_t.
    
    
    git-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@25459 b3059339-0415-0410-9bf9-f77b7e298cf2

diff --git a/vobsub.c b/vobsub.c
index 3a075bb021..d1121d3e1f 100644
--- a/vobsub.c
+++ b/vobsub.c
@@ -1106,23 +1106,13 @@ vobsub_parse_ifo(void* this, const char *const name, unsigned int *palette, unsi
 void *
 vobsub_open(const char *const name,const char *const ifo,const int force,void** spu)
 {
-    vobsub_t *vob = malloc(sizeof(vobsub_t));
+    vobsub_t *vob = calloc(1, sizeof(vobsub_t));
     if(spu)
       *spu = NULL;
     if (vobsubid == -2)
       vobsubid = vobsub_id;
     if (vob) {
 	char *buf;
-	vob->custom = 0;
-	vob->have_palette = 0;
-	vob->orig_frame_width = 0;
-	vob->orig_frame_height = 0;
-	vob->spu_streams = NULL;
-	vob->spu_streams_size = 0;
-	vob->spu_streams_current = 0;
-	vob->spu_valid_streams_size = 0;
-	vob->delay = 0;
-	vob->forced_subs=0;
 	buf = malloc(strlen(name) + 5);
 	if (buf) {
 	    rar_stream_t *fd;

