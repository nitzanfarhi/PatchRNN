commit d52cea6e987f9469bec69bf919e1616d46f7ac4e
Author: Dave Beckett <dave@dajobe.org>
Date:   Sat Feb 6 16:28:40 2010 -0800

    (raptor_new_term_from_literal): Remove language used with typed literal and generate warning

diff --git a/src/raptor_statement.c b/src/raptor_statement.c
index 8aabf6e7..ceaeb88a 100644
--- a/src/raptor_statement.c
+++ b/src/raptor_statement.c
@@ -661,6 +661,14 @@ raptor_new_term_from_literal(raptor_world* world,
   else
     *new_literal = '\0';
 
+  if(language && datatype) {
+    raptor_log_error(world, RAPTOR_LOG_LEVEL_WARN, NULL,
+                     "Ignoring language used with datatyped literal");
+    RAPTOR_FREE(cstring, language);
+    language = NULL;
+  }
+  
+
   if(language) {
     size_t language_len = strlen((const char*)language);
 

