commit 91a31dde6e92c0d4c42abadf970083f6faba87ec
Author: Lennart Poettering <lennart@poettering.net>
Date:   Thu Jul 12 17:36:51 2012 +0200

    journal: fix seeking by realtime/seqnum

diff --git a/src/journal/journal-file.c b/src/journal/journal-file.c
index 83f603ac8..9665a0535 100644
--- a/src/journal/journal-file.c
+++ b/src/journal/journal-file.c
@@ -1611,8 +1611,10 @@ int journal_file_move_to_entry_by_seqnum_for_data(
         Object *d;
         int r;
 
+        assert(f);
+
         r = journal_file_move_to_object(f, OBJECT_DATA, data_offset, &d);
-        if (r <= 0)
+        if (r < 0)
                 return r;
 
         return generic_array_bisect_plus_one(f,
@@ -1635,8 +1637,10 @@ int journal_file_move_to_entry_by_realtime_for_data(
         Object *d;
         int r;
 
+        assert(f);
+
         r = journal_file_move_to_object(f, OBJECT_DATA, data_offset, &d);
-        if (r <= 0)
+        if (r < 0)
                 return r;
 
         return generic_array_bisect_plus_one(f,

