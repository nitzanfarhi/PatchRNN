commit 55066af291ef56be5a811f09a5422de63665f49e
Author: Fabrizio Furano <furano@cern.ch>
Date:   Mon Aug 10 13:33:20 2009 +0000

    Correctly reconstruct a sync readv response containing offsets>2GB

diff --git a/src/XrdClient/XrdClientReadV.cc b/src/XrdClient/XrdClientReadV.cc
index 5c44cb96..84485ea7 100644
--- a/src/XrdClient/XrdClientReadV.cc
+++ b/src/XrdClient/XrdClientReadV.cc
@@ -97,10 +97,10 @@ kXR_int32 XrdClientReadV::UnpackReadVResp(char *destbuf, char *respdata, kXR_int
 
     // I just rebuild the readahead_list element
     struct readahead_list header;
-    kXR_int64 pos_from = 0, pos_to = 0;
+    kXR_int32 pos_from = 0, pos_to = 0;
     int i = 0;
-
-    int cur_buf_len = 0, cur_buf_offset = -1, cur_buf = 0;
+    kXR_int64 cur_buf_offset = -1;
+    int cur_buf_len = 0, cur_buf = 0;
     
     while ( (pos_from < respdatalen) && (i < nbuf) ) {
 	memcpy(&header, respdata + pos_from, sizeof(struct readahead_list));

