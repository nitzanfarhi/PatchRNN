commit c32e750b39a1e50ccd228bc5aa9e9b888e6d49b7
Author: David Beer <dbeer@adaptivecomputing.com>
Date:   Wed Jul 6 10:43:21 2016 -0600

    TRq-3649. Fix a regression - this should only affect -l jobs and not -L.

diff --git a/src/server/node_manager.c b/src/server/node_manager.c
index b0ac9d383..6fa622d4a 100644
--- a/src/server/node_manager.c
+++ b/src/server/node_manager.c
@@ -4085,7 +4085,9 @@ int place_subnodes_in_hostlist(
       return(rc);
 
     if ((pjob->ji_wattr[JOB_ATR_node_exclusive].at_flags & ATR_VFLAG_SET) &&
-        (pjob->ji_wattr[JOB_ATR_node_exclusive].at_val.at_long != 0))
+        (pjob->ji_wattr[JOB_ATR_node_exclusive].at_val.at_long != 0) &&
+        (((pjob->ji_wattr[JOB_ATR_request_version].at_flags & ATR_VFLAG_SET) == 0) ||
+         (pjob->ji_wattr[JOB_ATR_request_version].at_val.at_long < 2)))
       {
       char buf[MAXLINE];
 

