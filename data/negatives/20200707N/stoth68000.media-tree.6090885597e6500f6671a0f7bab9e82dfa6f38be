commit 6090885597e6500f6671a0f7bab9e82dfa6f38be
Author: Johan Hovold <jhovold@gmail.com>
Date:   Sun May 20 15:16:10 2012 +0200

    mfd: Fix return type of lm533 attribute is_visible
    
    Since commit 587a1f1659 ("switch ->is_visible() to returning umode_t")
    the return type of is_visible is umode_t rather than mode_t.
    
    This silences a compiler warning on some architectures where these types
    are not compatible.
    
    Reported-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Johan Hovold <jhovold@gmail.com>
    Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>

diff --git a/drivers/mfd/lm3533-core.c b/drivers/mfd/lm3533-core.c
index 09019c65da1c..104faba494c9 100644
--- a/drivers/mfd/lm3533-core.c
+++ b/drivers/mfd/lm3533-core.c
@@ -367,7 +367,7 @@ static umode_t lm3533_attr_is_visible(struct kobject *kobj,
 	struct device_attribute *dattr = to_dev_attr(attr);
 	struct lm3533_device_attribute *lattr = to_lm3533_dev_attr(dattr);
 	enum lm3533_attribute_type type = lattr->type;
-	mode_t mode = attr->mode;
+	umode_t mode = attr->mode;
 
 	if (!lm3533->have_backlights && type == LM3533_ATTR_TYPE_BACKLIGHT)
 		mode = 0;

