commit dfe4dc154b92bfea370dafa32dbda19ef4067a0b
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue Jan 26 20:28:58 2010 +0000

    use left_xy[1] in mbaff QP loop filter check, this improves the amount that can
    be skiped.
    
    Originally committed as revision 21465 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavcodec/h264.h b/libavcodec/h264.h
index 530d472a8b..52a19a0f00 100644
--- a/libavcodec/h264.h
+++ b/libavcodec/h264.h
@@ -815,7 +815,7 @@ static av_always_inline int fill_caches(H264Context *h, int mb_type, int for_deb
            && (top_xy   < 0 || ((qp + s->current_picture.qscale_table[top_xy    ] + 1)>>1) <= qp_thresh)){
             if(!FRAME_MBAFF)
                 return 1;
-            if(   (left_xy[0]< 0            || ((qp + s->current_picture.qscale_table[left_xy[0]+s->mb_stride] + 1)>>1) <= qp_thresh)
+            if(   (left_xy[0]< 0            || ((qp + s->current_picture.qscale_table[left_xy[1]             ] + 1)>>1) <= qp_thresh)
                && (top_xy    < s->mb_stride || ((qp + s->current_picture.qscale_table[top_xy    -s->mb_stride] + 1)>>1) <= qp_thresh))
                 return 1;
         }

