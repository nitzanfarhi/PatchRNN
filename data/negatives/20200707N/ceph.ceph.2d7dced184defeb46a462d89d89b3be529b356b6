commit 2d7dced184defeb46a462d89d89b3be529b356b6
Author: Dan Mick <dan.mick@inktank.com>
Date:   Tue Oct 1 22:23:24 2013 -0700

    mon/PGMap.cc: don't output header for pg dump_stuck if nothing stuck
    
    Formatted output is already correct (no header)
    
    Fixes: #4577
    Signed-off-by: Dan Mick <dan.mick@inktank.com>

diff --git a/src/mon/PGMap.cc b/src/mon/PGMap.cc
index e9a35c6b8a..4be39aba90 100644
--- a/src/mon/PGMap.cc
+++ b/src/mon/PGMap.cc
@@ -701,7 +701,8 @@ void PGMap::dump_stuck_plain(ostream& ss, PGMap::StuckPG type, utime_t cutoff) c
 {
   hash_map<pg_t, pg_stat_t> stuck_pg_stats;
   get_stuck_stats(type, cutoff, stuck_pg_stats);
-  dump_pg_stats_plain(ss, stuck_pg_stats);
+  if (!stuck_pg_stats.empty())
+    dump_pg_stats_plain(ss, stuck_pg_stats);
 }
 
 void PGMap::dump_osd_perf_stats(Formatter *f) const

