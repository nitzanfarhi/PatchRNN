commit 8cb7c71bda16e2d67a332642661e0b4219641a23
Author: Srikanth Krishnakar <skrishna@mvista.com>
Date:   Thu Oct 14 04:03:35 2010 +0000

    rtc-cmos.c : Fix warning on PowerPC
    
    The following warning is seen while compilation of PowerPC kernel:
    
     CC      drivers/rtc/rtc-cmos.o
    drivers/rtc/rtc-cmos.c:697:2: warning: #warning Assuming 128 bytes
    of RTC+NVRAM address space, not 64 bytes.
    
    Fix it by adding defined(__powerpc__).
    
    Signed-off-by: Srikanth Krishnakar <skrishna@mvista.com>
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>

diff --git a/drivers/rtc/rtc-cmos.c b/drivers/rtc/rtc-cmos.c
index 5856167a0c90..7e6ce626b7f1 100644
--- a/drivers/rtc/rtc-cmos.c
+++ b/drivers/rtc/rtc-cmos.c
@@ -687,7 +687,8 @@ cmos_do_probe(struct device *dev, struct resource *ports, int rtc_irq)
 #if	defined(CONFIG_ATARI)
 	address_space = 64;
 #elif defined(__i386__) || defined(__x86_64__) || defined(__arm__) \
-			|| defined(__sparc__) || defined(__mips__)
+			|| defined(__sparc__) || defined(__mips__) \
+			|| defined(__powerpc__)
 	address_space = 128;
 #else
 #warning Assuming 128 bytes of RTC+NVRAM address space, not 64 bytes.

