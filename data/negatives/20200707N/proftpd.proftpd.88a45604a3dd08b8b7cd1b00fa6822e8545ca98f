commit 88a45604a3dd08b8b7cd1b00fa6822e8545ca98f
Author: tjsaunders <tj@lyveminds.com>
Date:   Tue Feb 3 11:14:18 2015 -0800

    Clear the "have dangling CR" flag on data reset as well.

diff --git a/src/data.c b/src/data.c
index 8c6153f74..60102c6f4 100644
--- a/src/data.c
+++ b/src/data.c
@@ -570,6 +570,9 @@ void pr_data_reset(void) {
     destroy_pool(session.d->pool);
   }
 
+  /* Clear any leftover state from previous transfers. */
+  have_dangling_cr = FALSE;
+
   session.d = NULL;
   session.sf_flags &= (SF_ALL^(SF_ABORT|SF_POST_ABORT|SF_XFER|SF_PASSIVE|SF_ASCII_OVERRIDE|SF_EPSV_ALL));
 }

