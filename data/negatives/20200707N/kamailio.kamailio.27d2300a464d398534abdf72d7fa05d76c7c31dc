commit 27d2300a464d398534abdf72d7fa05d76c7c31dc
Author: Henning Westerholt <henning.westerholt@1und1.de>
Date:   Tue Nov 4 22:51:39 2008 +0000

    - fix bug in cr_user_rewrite_uri: the load_user_carrier function fails
      to free a DB result when the query returned NULL, this was introduced
      in a bugfix, rev4249
    
    
    git-svn-id: https://openser.svn.sourceforge.net/svnroot/openser/trunk@5165 689a6050-402a-0410-94f2-e92a70836424

diff --git a/modules_k/carrierroute/cr_db.c b/modules_k/carrierroute/cr_db.c
index 16b24d1e9..2227626ac 100644
--- a/modules_k/carrierroute/cr_db.c
+++ b/modules_k/carrierroute/cr_db.c
@@ -123,6 +123,7 @@ int load_user_carrier(str * user, str * domain) {
 	}
 
 	if (VAL_NULL(ROW_VALUES(RES_ROWS(res)))) {
+		carrierroute_dbf.free_result(carrierroute_dbh, res);
 		return 0;
 	}
 

