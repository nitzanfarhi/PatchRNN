commit 4147d8efe5cc39d18b744a866e0cddd1978a4d00
Author: Carl Eugen Hoyos <cehoyos@ag.or.at>
Date:   Tue Oct 11 09:49:35 2016 +0200

    lavf/aiffdec: Default to full rate qcelp as QT does.
    
    Fixes decoding of the output file from ticket #4009.

diff --git a/libavformat/aiffdec.c b/libavformat/aiffdec.c
index 9bff5656f8..cd916f9108 100644
--- a/libavformat/aiffdec.c
+++ b/libavformat/aiffdec.c
@@ -337,7 +337,10 @@ static int aiff_read_header(AVFormatContext *s)
     }
 
 got_sound:
-    if (!st->codecpar->block_align) {
+    if (!st->codecpar->block_align && st->codecpar->codec_id == AV_CODEC_ID_QCELP) {
+        av_log(s, AV_LOG_WARNING, "qcelp without wave chunk, assuming full rate\n");
+        st->codecpar->block_align = 35;
+    } else if (!st->codecpar->block_align) {
         av_log(s, AV_LOG_ERROR, "could not find COMM tag or invalid block_align value\n");
         return -1;
     }
diff --git a/libavformat/version.h b/libavformat/version.h
index 92801b40a9..9b401739cf 100644
--- a/libavformat/version.h
+++ b/libavformat/version.h
@@ -33,7 +33,7 @@
 // Also please add any ticket numbers that you believe might be affected here
 #define LIBAVFORMAT_VERSION_MAJOR  57
 #define LIBAVFORMAT_VERSION_MINOR  51
-#define LIBAVFORMAT_VERSION_MICRO 103
+#define LIBAVFORMAT_VERSION_MICRO 104
 
 #define LIBAVFORMAT_VERSION_INT AV_VERSION_INT(LIBAVFORMAT_VERSION_MAJOR, \
                                                LIBAVFORMAT_VERSION_MINOR, \

