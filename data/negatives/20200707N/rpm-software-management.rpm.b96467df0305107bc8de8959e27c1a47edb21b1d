commit b96467df0305107bc8de8959e27c1a47edb21b1d
Author: marc <devnull@localhost>
Date:   Fri Aug 29 14:04:58 1997 +0000

    Do not allow version specification in PreReq:
    
    CVS patchset: 1812
    CVS date: 1997/08/29 14:04:58

diff --git a/build/spec.c b/build/spec.c
index 401500ab4..3427cf64e 100644
--- a/build/spec.c
+++ b/build/spec.c
@@ -330,6 +330,11 @@ static int parseRequiresConflicts(struct PackageRec *p, char *line,
 			     "No versions on file names in Requires: %s", req);
 		    return RPMERR_BADSPEC;
 		}
+		if (flag == RPMTAG_PREREQ) {
+		    rpmError(RPMERR_BADSPEC,
+			     "No versions in PreReq: %s", req);
+		    return RPMERR_BADSPEC;
+		}
 		/* read a version */
 		flags |= rc->flags;
 		version = strtok(NULL, " ,\t\n");

