commit feae8adb848e26110b28a06d1244e02f36cdf382
Author: David Ward <david.ward@ll.mit.edu>
Date:   Sun Apr 29 09:35:40 2012 -0400

    service: actually delay auto-restart if another job is pending
    
    https://bugs.freedesktop.org/show_bug.cgi?id=45511

diff --git a/src/core/service.c b/src/core/service.c
index 2bd29ff7e..4f0375465 100644
--- a/src/core/service.c
+++ b/src/core/service.c
@@ -2232,6 +2232,8 @@ static void service_enter_restart(Service *s) {
 
                 if ((r = unit_watch_timer(UNIT(s), s->restart_usec, &s->timer_watch)) < 0)
                         goto fail;
+
+                return;
         }
 
         /* Any units that are bound to this service must also be

