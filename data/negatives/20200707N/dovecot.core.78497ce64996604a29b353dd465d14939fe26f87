commit 78497ce64996604a29b353dd465d14939fe26f87
Author: Timo Sirainen <timo.sirainen@movial.fi>
Date:   Mon Apr 24 12:34:28 2006 +0300

    Fix for last changes. We didn't handle properly non-sequential messageset ranges.
    
    --HG--
    branch : HEAD

diff --git a/src/lib-storage/index/index-search.c b/src/lib-storage/index/index-search.c
index f3063251c..8097b2516 100644
--- a/src/lib-storage/index/index-search.c
+++ b/src/lib-storage/index/index-search.c
@@ -923,6 +923,7 @@ int index_storage_search_next_update_seq(struct mail_search_context *_ctx)
 
 		/* doesn't, try next one */
 		_ctx->seq++;
+		mail_search_args_reset(ctx->args, FALSE);
 	}
 	return ret == 0 ? 0 : 1;
 }

