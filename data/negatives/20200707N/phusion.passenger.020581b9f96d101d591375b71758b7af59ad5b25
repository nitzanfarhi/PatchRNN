commit 020581b9f96d101d591375b71758b7af59ad5b25
Author: Hongli Lai (Phusion) <hongli@phusion.nl>
Date:   Thu Jan 28 09:56:13 2010 +0100

    Port changes from Nginx 0.8.32's ngx_http_static_module to StaticContentHandler.

diff --git a/ext/nginx/StaticContentHandler.c b/ext/nginx/StaticContentHandler.c
index 4ee93e17d..0dcbe46eb 100644
--- a/ext/nginx/StaticContentHandler.c
+++ b/ext/nginx/StaticContentHandler.c
@@ -81,6 +81,9 @@ passenger_static_content_handler(ngx_http_request_t *r, ngx_str_t *filename)
     #if NGINX_VERSION_NUM < 7000
         of.test_dir = 0;
     #else
+        #if NGX_VERSION_NUM >= 8000
+            of.read_ahead = clcf->read_ahead;
+        #endif
         of.directio = clcf->directio;
     #endif
     of.valid = clcf->open_file_cache_valid;

