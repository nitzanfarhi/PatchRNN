commit 9067bbe5989c39bd4d482edfd4d38ad99d5b081f
Author: Felipe Balbi <balbi@ti.com>
Date:   Mon Oct 13 15:50:08 2014 -0500

    pinctrl: baytrail: add missing module removal support
    
    pinctrl-baytrail driver provides a proper ->remove()
    method on its platform_driver definition, however there's
    no way, currently, to unload the driver due to missing
    module_exit(). This patch adds module_exit().
    
    Signed-off-by: Felipe Balbi <balbi@ti.com>
    Acked-by: David Cohen <david.a.cohen@linux.intel.com>
    Signed-off-by: Linus Walleij <linus.walleij@linaro.org>

diff --git a/drivers/pinctrl/pinctrl-baytrail.c b/drivers/pinctrl/pinctrl-baytrail.c
index e12e5b07f6d7..3ece00164523 100644
--- a/drivers/pinctrl/pinctrl-baytrail.c
+++ b/drivers/pinctrl/pinctrl-baytrail.c
@@ -612,5 +612,10 @@ static int __init byt_gpio_init(void)
 {
 	return platform_driver_register(&byt_gpio_driver);
 }
-
 subsys_initcall(byt_gpio_init);
+
+static void __exit byt_gpio_exit(void)
+{
+	platform_driver_unregister(&byt_gpio_driver);
+}
+module_exit(byt_gpio_exit);

