commit df8e729bf9866081b670a4622140756542e09cc1
Author: Misha Tyulenev <misha@mongodb.com>
Date:   Fri Dec 18 19:11:27 2015 -0500

    BF-1493 add namespace check to cleanupOrphaned

diff --git a/src/mongo/db/commands/cleanup_orphaned_cmd.cpp b/src/mongo/db/commands/cleanup_orphaned_cmd.cpp
index e1980b9a0b..87c83db074 100644
--- a/src/mongo/db/commands/cleanup_orphaned_cmd.cpp
+++ b/src/mongo/db/commands/cleanup_orphaned_cmd.cpp
@@ -218,6 +218,11 @@ public:
             return false;
         }
 
+        if (!NamespaceString(ns).isValid()) {
+            errmsg = "invalid namespace";
+            return false;
+        }
+
         BSONObj startingFromKey;
         if (!FieldParser::extract(cmdObj, startingFromKeyField, &startingFromKey, &errmsg)) {
             return false;

