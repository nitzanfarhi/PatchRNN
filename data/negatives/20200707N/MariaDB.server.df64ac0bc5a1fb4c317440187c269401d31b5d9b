commit df64ac0bc5a1fb4c317440187c269401d31b5d9b
Author: unknown <konstantin@mysql.com>
Date:   Wed Apr 6 22:09:43 2005 +0400

    Minor fix in cursors execution.
    
    
    sql/sql_select.cc:
      Fix a discrepancy spotted after the setup_end_select_func patch has been
      pushed: last join sweep assumes that join->tmp_table is zero.

diff --git a/sql/sql_select.cc b/sql/sql_select.cc
index cbde0752cd1..baf2ef09d2b 100644
--- a/sql/sql_select.cc
+++ b/sql/sql_select.cc
@@ -1779,6 +1779,7 @@ Cursor::open(JOIN *join_arg)
   thd->server_status&= ~SERVER_STATUS_CURSOR_EXISTS;
 
   /* Prepare JOIN for reading rows. */
+  join->tmp_table= 0;
   join->join_tab[join->tables-1].next_select= setup_end_select_func(join);
   join->send_records= 0;
   join->fetch_limit= join->unit->offset_limit_cnt;

