commit 7934cbb3be7a03b1ae7a8a30613a7a75b1e28645
Author: Justin Ruggles <justin.ruggles@gmail.com>
Date:   Sat Nov 14 00:25:48 2009 +0000

    ac3dec: apply dynamic range compression to correct channels in dual-mono mode.
    
    Originally committed as revision 20533 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavcodec/ac3dec.c b/libavcodec/ac3dec.c
index fa487599e4..82091bc6e3 100644
--- a/libavcodec/ac3dec.c
+++ b/libavcodec/ac3dec.c
@@ -1167,7 +1167,7 @@ static int decode_audio_block(AC3DecodeContext *s, int blk)
     for(ch=1; ch<=s->channels; ch++) {
         float gain = s->mul_bias / 4194304.0f;
         if(s->channel_mode == AC3_CHMODE_DUALMONO) {
-            gain *= s->dynamic_range[ch-1];
+            gain *= s->dynamic_range[2-ch];
         } else {
             gain *= s->dynamic_range[0];
         }

