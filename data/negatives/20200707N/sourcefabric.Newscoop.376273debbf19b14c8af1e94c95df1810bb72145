commit 376273debbf19b14c8af1e94c95df1810bb72145
Author: mugur <mugur@952d13e4-84fd-0310-bd7c-ee2827c68691>
Date:   Mon Aug 2 16:49:47 2004 +0000

    in CMsgURLRequest::setContent(): append parameters with value empty string

diff --git a/campsite/implementation/parser/parser/cmessage.cpp b/campsite/implementation/parser/parser/cmessage.cpp
index b3f4f9830..bbf7f2c7f 100644
--- a/campsite/implementation/parser/parser/cmessage.cpp
+++ b/campsite/implementation/parser/parser/cmessage.cpp
@@ -143,7 +143,15 @@ void CMsgURLRequest::setContent(char* p_pchContent)
 		if (strcasecmp(coAttr.c_str(), "string") != 0)
 			nSize = strtol(coReader.getAttributeValue("Size"), NULL, 10);
 
-		coReader.nextElement("#text");
+		try {
+			pchElement = coReader.nextElement("#text");
+		}
+		catch (invalid_message_content& rcoEx)
+		{
+			setParameter(coName, string(""));
+			pchElement = coReader.nextElement();
+			continue;
+		}
 		const char* pchContent = coReader.elementContent();
 		if (strcasecmp(coAttr.c_str(), "string") == 0)
 			setParameter(coName, string(pchContent));

