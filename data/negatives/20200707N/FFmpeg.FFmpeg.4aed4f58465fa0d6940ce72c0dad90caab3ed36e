commit 4aed4f58465fa0d6940ce72c0dad90caab3ed36e
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Fri Jan 18 00:22:39 2013 +0100

    mlpdec: dont leave a invalid huff_lsb in the context.
    
    Fix assertion failure
    
    Found-by: Mateusz "j00ru" Jurczyk and Gynvael Coldwind
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libavcodec/mlpdec.c b/libavcodec/mlpdec.c
index c7de13c15c..6d27417106 100644
--- a/libavcodec/mlpdec.c
+++ b/libavcodec/mlpdec.c
@@ -720,6 +720,7 @@ static int read_channel_params(MLPDecodeContext *m, unsigned int substr,
 
     if (cp->huff_lsbs > 24) {
         av_log(m->avctx, AV_LOG_ERROR, "Invalid huff_lsbs.\n");
+        cp->huff_lsbs = 0;
         return AVERROR_INVALIDDATA;
     }
 

