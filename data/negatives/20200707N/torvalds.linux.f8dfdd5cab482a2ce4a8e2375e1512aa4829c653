commit f8dfdd5cab482a2ce4a8e2375e1512aa4829c653
Author: Stephen Hemminger <shemminger@linux-foundation.org>
Date:   Mon Feb 26 14:51:56 2007 -0800

    netxen: do_rom_fast_write error handling
    
    Compiler warning spots real error!
    
    The function do_rom_fast_read called in do_rom_fast_write can fail
    and leave data1 unset. This causes a compile warning.
    The correct thing is to propagate the error out.
    
    Signed-off-by: Stephen Hemminger <shemminger@linux-foundation.org>
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

diff --git a/drivers/net/netxen/netxen_nic_init.c b/drivers/net/netxen/netxen_nic_init.c
index 2f324366784d..2f965701a95b 100644
--- a/drivers/net/netxen/netxen_nic_init.c
+++ b/drivers/net/netxen/netxen_nic_init.c
@@ -499,7 +499,10 @@ static inline int do_rom_fast_write_words(struct netxen_adapter *adapter,
 		while(1) {
 			int data1;
 
-			do_rom_fast_read(adapter, addridx, &data1);
+			ret = do_rom_fast_read(adapter, addridx, &data1);
+			if (ret < 0)
+				return ret;
+
 			if (data1 == data)
 				break;
 

