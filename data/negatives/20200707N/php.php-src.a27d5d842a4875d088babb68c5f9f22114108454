commit a27d5d842a4875d088babb68c5f9f22114108454
Author: Stefan Esser <sesser@php.net>
Date:   Sat Jun 26 07:43:02 2004 +0000

    IE we love you all...

diff --git a/ext/standard/string.c b/ext/standard/string.c
index 464c6a798c..77c9494280 100644
--- a/ext/standard/string.c
+++ b/ext/standard/string.c
@@ -3916,6 +3916,8 @@ PHPAPI size_t php_strip_tags(char *rbuf, int len, int *stateptr, char *allow, in
 
 	while (i < len) {
 		switch (c) {
+			case '\0':
+				break;
 			case '<':
 				if (isspace(*(p + 1))) {
 					goto reg_char;

