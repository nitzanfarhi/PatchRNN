commit 2f9a60d76692ffbc749d97ac55717f70eb1f9432
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Sep 11 18:35:38 2009 +1000

    drm/radeon/kms: set fbdev_info for suspend/resume
    
    this hopefully will bring back suspend/resume under kms.
    
    Signed-off-by: Dave Airlie <airlied@redhat.com>

diff --git a/drivers/gpu/drm/radeon/radeon_fb.c b/drivers/gpu/drm/radeon/radeon_fb.c
index ebb58959f418..19e244a512ba 100644
--- a/drivers/gpu/drm/radeon/radeon_fb.c
+++ b/drivers/gpu/drm/radeon/radeon_fb.c
@@ -258,6 +258,7 @@ int radeonfb_create(struct drm_device *dev,
 		goto out_unref;
 	}
 
+	rdev->fbdev_info = info;
 	rfbdev = info->par;
 	rfbdev->helper.funcs = &radeon_fb_helper_funcs;
 	rfbdev->helper.dev = dev;

