commit 8cb87c0407cb55277d8b9aa50f0e29201b90a88d
Author: Nicolas Pitre <nicolas.pitre@linaro.org>
Date:   Tue Nov 3 17:01:46 2015 -0500

    nouveau/nvkm/subdev/clk/gk20a.c: fix wrong do_div() usage
    
    do_div() must only be used with a u64 dividend.
    
    Signed-off-by: Nicolas Pitre <nico@linaro.org>

diff --git a/drivers/gpu/drm/nouveau/nvkm/subdev/clk/gk20a.c b/drivers/gpu/drm/nouveau/nvkm/subdev/clk/gk20a.c
index 254094ab7fb8..5da2aa8cc333 100644
--- a/drivers/gpu/drm/nouveau/nvkm/subdev/clk/gk20a.c
+++ b/drivers/gpu/drm/nouveau/nvkm/subdev/clk/gk20a.c
@@ -141,9 +141,8 @@ gk20a_pllg_calc_rate(struct gk20a_clk *clk)
 
 	rate = clk->parent_rate * clk->n;
 	divider = clk->m * pl_to_div[clk->pl];
-	do_div(rate, divider);
 
-	return rate / 2;
+	return rate / divider / 2;
 }
 
 static int

