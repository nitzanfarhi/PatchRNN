commit b4b1b7eda9fe0d5a399d9095b2e8d5657726538c
Author: Axel Haslam <ahaslam@baylibre.com>
Date:   Wed Apr 20 20:47:20 2016 +0200

    greybus: uart: Update line coding settings only when needed
    
    The check for line coding changed should use memcmp and not memcpy.
    
    Testing done: trivial
    
    Reviewed-by: Johan Hovold <johan@hovoldconsulting.com>
    Signed-off-by: Axel Haslam <ahaslam@baylibre.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@google.com>

diff --git a/drivers/staging/greybus/uart.c b/drivers/staging/greybus/uart.c
index c580fe06f554..be718918c135 100644
--- a/drivers/staging/greybus/uart.c
+++ b/drivers/staging/greybus/uart.c
@@ -383,7 +383,7 @@ static void gb_tty_set_termios(struct tty_struct *tty,
 		send_control(gb_tty, newctrl);
 	}
 
-	if (memcpy(&gb_tty->line_coding, &newline, sizeof(newline))) {
+	if (memcmp(&gb_tty->line_coding, &newline, sizeof(newline))) {
 		memcpy(&gb_tty->line_coding, &newline, sizeof(newline));
 		send_line_coding(gb_tty);
 	}

