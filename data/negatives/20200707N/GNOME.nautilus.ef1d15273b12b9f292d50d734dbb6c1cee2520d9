commit ef1d15273b12b9f292d50d734dbb6c1cee2520d9
Author: Carlos Soriano <csoriano@gnome.org>
Date:   Tue Mar 22 14:07:15 2016 +0100

    window-slot: remove unneeded code special casing desktop
    
    We are special casing to open the desktop, so in case we try to
    open the desktop in this window slot, and was already opened, we
    were opening it again.
    
    I cannot see a reason why we would need to open it anyway if was
    already opened, and the test I did works fine.
    
    So let's remove it for now, so we remove another special casing of the
    desktop.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=712620

diff --git a/src/nautilus-window-slot.c b/src/nautilus-window-slot.c
index afb6b4232..f4eb5de3e 100644
--- a/src/nautilus-window-slot.c
+++ b/src/nautilus-window-slot.c
@@ -817,19 +817,16 @@ nautilus_window_slot_open_location_full (NautilusWindowSlot      *self,
 	GFile *old_location;
 	GList *old_selection;
         NautilusWindow *window;
-        gboolean is_desktop;
 
         priv = nautilus_window_slot_get_instance_private (self);
 	old_selection = NULL;
         old_location = nautilus_window_slot_get_location (self);
         window = nautilus_window_slot_get_window (self);
-        is_desktop = NAUTILUS_IS_DESKTOP_CANVAS_VIEW (window);
 
         if (priv->content_view) {
                 old_selection = nautilus_view_get_selection (priv->content_view);
 	}
-        if (!is_desktop &&
-            old_location && g_file_equal (old_location, location) &&
+        if (old_location && g_file_equal (old_location, location) &&
             nautilus_file_selection_equal (old_selection, new_selection))
           goto done;
 

