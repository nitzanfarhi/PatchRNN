commit 8178b2e156d2263015d7d981590a0899f2cb4c05
Author: Andrew J. Schorr <schorr@ti82.(none)>
Date:   Fri May 29 09:15:20 2009 -0400

    [bgpd] 64-bit bugfix in community_del_val by Jeremy Jackson <jerj@coplanar.net>
    
    * bgpd/bgp_community.c: (community_del_val) Fix bug in memcpy that was
      using the wrong size on architectures where a pointer is not 32 bits.

diff --git a/bgpd/bgp_community.c b/bgpd/bgp_community.c
index a05ea6c6..64c6810f 100644
--- a/bgpd/bgp_community.c
+++ b/bgpd/bgp_community.c
@@ -78,7 +78,7 @@ community_del_val (struct community *com, u_int32_t *val)
 	  c = com->size -i -1;
 
 	  if (c > 0)
-	    memcpy (com->val + i, com->val + (i + 1), c * sizeof (val));
+	    memcpy (com->val + i, com->val + (i + 1), c * sizeof (*val));
 
 	  com->size--;
 

