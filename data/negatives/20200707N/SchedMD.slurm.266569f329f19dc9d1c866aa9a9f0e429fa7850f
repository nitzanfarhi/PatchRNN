commit 266569f329f19dc9d1c866aa9a9f0e429fa7850f
Author: Moe Jette <jette1@llnl.gov>
Date:   Thu Apr 6 18:03:53 2006 +0000

    Fix debug level normalization logic.

diff --git a/src/common/read_config.c b/src/common/read_config.c
index 8ece564f99..b87b597ba8 100644
--- a/src/common/read_config.c
+++ b/src/common/read_config.c
@@ -1187,10 +1187,10 @@ slurm_conf_unlock(void)
 /* Normalize supplied debug level to be in range per log.h definitions */
 static void _normalize_debug_level(uint16_t *level)
 {
-	if (*level > LOG_LEVEL_DEBUG3) {
+	if (*level > LOG_LEVEL_END) {
 		error("Normalizing debug level from %u to %d", 
-		      *level, LOG_LEVEL_DEBUG3);
-		*level = LOG_LEVEL_DEBUG3;
+		      *level, (LOG_LEVEL_END - 1));
+		*level = (LOG_LEVEL_END - 1);
 	}
 	/* level is uint16, always > LOG_LEVEL_QUIET(0), can't underflow */
 }

