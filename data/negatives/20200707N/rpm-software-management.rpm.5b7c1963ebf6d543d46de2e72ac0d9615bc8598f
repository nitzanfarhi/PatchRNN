commit 5b7c1963ebf6d543d46de2e72ac0d9615bc8598f
Author: jbj <devnull@localhost>
Date:   Thu Sep 30 16:11:52 1999 +0000

    Access fd_fileno correctly.
    
    CVS patchset: 3354
    CVS date: 1999/09/30 16:11:52

diff --git a/build.c b/build.c
index e3fe075b6..0b1de4d03 100644
--- a/build.c
+++ b/build.c
@@ -57,7 +57,7 @@ static int isSpecFile(const char *specfile)
     int count;
     int checking;
 
-    if ((fd = fdOpen(specfile, O_RDONLY, 0)) < 0) {
+    if (fdFileno((fd = fdOpen(specfile, O_RDONLY, 0))) < 0) {
 	fprintf(stderr, _("Unable to open spec file: %s\n"), specfile);
 	return 0;
     }

