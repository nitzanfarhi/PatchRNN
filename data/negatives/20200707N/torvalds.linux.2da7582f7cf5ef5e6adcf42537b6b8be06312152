commit 2da7582f7cf5ef5e6adcf42537b6b8be06312152
Author: Milton Miller <miltonm@bga.com>
Date:   Thu Jan 8 02:14:28 2009 +0000

    hvc_console: Use kzalloc() instead of kmalloc() + memset()
    
    Replace kmalloc() + memset()  with kzalloc().
    
    Signed-off-by: Milton Miller <miltonm@bga.com>
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>

diff --git a/drivers/char/hvc_console.c b/drivers/char/hvc_console.c
index 0e18fdb9dddb..09676b4e5d89 100644
--- a/drivers/char/hvc_console.c
+++ b/drivers/char/hvc_console.c
@@ -765,13 +765,11 @@ struct hvc_struct __devinit *hvc_alloc(uint32_t vtermno, int data,
 			return ERR_PTR(err);
 	}
 
-	hp = kmalloc(ALIGN(sizeof(*hp), sizeof(long)) + outbuf_size,
+	hp = kzalloc(ALIGN(sizeof(*hp), sizeof(long)) + outbuf_size,
 			GFP_KERNEL);
 	if (!hp)
 		return ERR_PTR(-ENOMEM);
 
-	memset(hp, 0x00, sizeof(*hp));
-
 	hp->vtermno = vtermno;
 	hp->data = data;
 	hp->ops = ops;

