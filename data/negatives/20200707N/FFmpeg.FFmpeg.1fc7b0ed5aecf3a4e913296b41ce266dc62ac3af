commit 1fc7b0ed5aecf3a4e913296b41ce266dc62ac3af
Author: JULIAN GARDNER <joolzg@btinternet.com>
Date:   Fri Oct 14 16:33:34 2011 +0200

    dvbsubdec: handle mode change page state
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libavcodec/dvbsubdec.c b/libavcodec/dvbsubdec.c
index 2e9ef12347..25552bed39 100644
--- a/libavcodec/dvbsubdec.c
+++ b/libavcodec/dvbsubdec.c
@@ -1136,7 +1136,7 @@ static void dvbsub_parse_page_segment(AVCodecContext *avctx,
 
     av_dlog(avctx, "Page time out %ds, state %d\n", ctx->time_out, page_state);
 
-    if (page_state == 2) {
+    if (page_state == 1 || page_state == 2) {
         delete_regions(ctx);
         delete_objects(ctx);
         delete_cluts(ctx);

