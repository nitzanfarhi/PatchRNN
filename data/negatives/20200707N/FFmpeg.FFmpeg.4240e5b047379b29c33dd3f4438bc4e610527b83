commit 4240e5b047379b29c33dd3f4438bc4e610527b83
Author: Pavel Koshevoy <pkoshevoy@gmail.com>
Date:   Sat Dec 17 17:14:48 2016 -0700

    lavfi/atempo: avoid false triggering an assertion failure
    
    Steps to reproduce:
    ./ffmpeg_g -f s16be -i /dev/null -af atempo=0.5 -y /tmp/atempo.wav
    
    Signed-off-by: Marton Balint <cus@passwd.hu>

diff --git a/libavfilter/af_atempo.c b/libavfilter/af_atempo.c
index 59b08ec7c6..a4878820db 100644
--- a/libavfilter/af_atempo.c
+++ b/libavfilter/af_atempo.c
@@ -914,8 +914,8 @@ static int yae_flush(ATempoContext *atempo,
 
     atempo->state = YAE_FLUSH_OUTPUT;
 
-    if (atempo->position[0] == frag->position[0] + frag->nsamples &&
-        atempo->position[1] == frag->position[1] + frag->nsamples) {
+    if (atempo->position[0] >= frag->position[0] + frag->nsamples &&
+        atempo->position[1] >= frag->position[1] + frag->nsamples) {
         // the current fragment is already flushed:
         return 0;
     }

