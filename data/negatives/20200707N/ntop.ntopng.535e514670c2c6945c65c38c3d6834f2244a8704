commit 535e514670c2c6945c65c38c3d6834f2244a8704
Author: Luca Deri <deri@ntop.org>
Date:   Tue Nov 21 17:36:29 2017 +0100

    Added fix for using aggregations with dummy interface

diff --git a/src/NetworkInterface.cpp b/src/NetworkInterface.cpp
index 86d7ccae..4fec0d2c 100644
--- a/src/NetworkInterface.cpp
+++ b/src/NetworkInterface.cpp
@@ -2543,7 +2543,7 @@ void NetworkInterface::periodicStatsUpdate() {
 
 #ifdef NTOPNG_PRO
   if(aggregated_flows_hash) {
-    if(--nextFlowAggregation == 0) {
+    if((getIfType() == interface_type_DUMMY) || (--nextFlowAggregation == 0)) {
       /* Start over */
       aggregated_flows_hash->cleanup();
       nextFlowAggregation = FLOW_AGGREGATION_DURATION;
@@ -2554,7 +2554,6 @@ void NetworkInterface::periodicStatsUpdate() {
 				   "Aggregated flows hash cleared. [num_items: %i]",
 				   aggregated_flows_hash->getCurrentSize());
 #endif
-
     } else
 #ifdef AGGREGATED_FLOW_DEBUG
       ntop->getTrace()->traceEvent(TRACE_NORMAL,

