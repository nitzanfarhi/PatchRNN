commit bdb3f44147bc1a55a97131b4b39d42844ae4fb9e
Author: Serge Hallyn <serge.hallyn@ubuntu.com>
Date:   Mon Nov 11 12:32:14 2013 -0600

    lxc_abstract_unix_connect: accomodate containers started before Oct 28
    
    commit aae93dd3dd20dd12c6b8f9f0490e2fb877ee3f09 fixed the command socket
    name to use the right pathlen instead of always passing in the max
    socket namelen.  However, this breaks lxc-info/lxc-list/etc for
    containers started before that commit.  So if the correct command
    sock name doesn't work, try the preexising one.
    
    Note we can probably undo this "after awhile".  Maybe in august 2014.
    
    Signed-off-by: Serge Hallyn <serge.hallyn@ubuntu.com>
    Acked-by: St√©phane Graber <stgraber@ubuntu.com>

diff --git a/src/lxc/af_unix.c b/src/lxc/af_unix.c
index ab73963e..6f0183d9 100644
--- a/src/lxc/af_unix.c
+++ b/src/lxc/af_unix.c
@@ -135,6 +135,9 @@ int lxc_abstract_unix_connect(const char *path)
 
 	if (connect(fd, (struct sockaddr *)&addr, offsetof(struct sockaddr_un, sun_path) + len)) {
 		int tmp = errno;
+		/* special case to connect to older containers */
+		if (connect(fd, (struct sockaddr *)&addr, sizeof(addr)) == 0)
+			return fd;
 		process_lock();
 		close(fd);
 		process_unlock();

