commit e9bff10f8db94912b1b0e6e2e3394cae02faf614
Author: Jan Kiszka <jan.kiszka@siemens.com>
Date:   Thu Nov 22 20:56:11 2012 +0100

    event notifier: Fix setup for win32
    
    The event notifier state is only reset by test_and_clear. But we created
    the windows event object with auto-reset, which subtly swallowed events.
    
    Reviewed-by: Stefan Hajnoczi <stefanha@redhat.com>
    Signed-off-by: Jan Kiszka <jan.kiszka@siemens.com>
    Signed-off-by: Anthony Liguori <aliguori@us.ibm.com>

diff --git a/event_notifier-win32.c b/event_notifier-win32.c
index c723dadf31..4ed21c2a7c 100644
--- a/event_notifier-win32.c
+++ b/event_notifier-win32.c
@@ -16,7 +16,7 @@
 
 int event_notifier_init(EventNotifier *e, int active)
 {
-    e->event = CreateEvent(NULL, FALSE, FALSE, NULL);
+    e->event = CreateEvent(NULL, TRUE, FALSE, NULL);
     assert(e->event);
     return 0;
 }

