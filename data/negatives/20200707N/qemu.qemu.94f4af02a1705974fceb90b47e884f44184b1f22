commit 94f4af02a1705974fceb90b47e884f44184b1f22
Author: Aurelien Jarno <aurelien@aurel32.net>
Date:   Sun Oct 4 15:30:44 2009 +0200

    tcg: allocate s->op_dead_iargs dynamically
    
    Similarly to what is already done in tcg_liveness_analysis() when
    USE_LIVENESS_ANALYSIS is not set.
    
    Signed-off-by: Aurelien Jarno <aurelien@aurel32.net>

diff --git a/tcg/tcg.c b/tcg/tcg.c
index 3d74809190..9f57b6a2d3 100644
--- a/tcg/tcg.c
+++ b/tcg/tcg.c
@@ -1086,8 +1086,7 @@ static void tcg_liveness_analysis(TCGContext *s)
 
     nb_ops = gen_opc_ptr - gen_opc_buf;
 
-    /* XXX: make it really dynamic */
-    s->op_dead_iargs = tcg_malloc(OPC_BUF_SIZE * sizeof(uint16_t));
+    s->op_dead_iargs = tcg_malloc(nb_ops * sizeof(uint16_t));
     
     dead_temps = tcg_malloc(s->nb_temps);
     memset(dead_temps, 1, s->nb_temps);

