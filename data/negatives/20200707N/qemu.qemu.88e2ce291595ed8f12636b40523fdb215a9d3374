commit 88e2ce291595ed8f12636b40523fdb215a9d3374
Author: Eric Blake <eblake@redhat.com>
Date:   Thu Sep 10 10:34:50 2015 -0600

    error: Copy location information in error_copy()
    
    Commit 1e9b65bb forgot to propagate source information to copied
    errors.
    
    Signed-off-by: Eric Blake <eblake@redhat.com>
    Message-Id: <1441902890-23064-1-git-send-email-eblake@redhat.com>
    Signed-off-by: Markus Armbruster <armbru@redhat.com>

diff --git a/util/error.c b/util/error.c
index 9dd474f3be..b1eb8a288b 100644
--- a/util/error.c
+++ b/util/error.c
@@ -174,6 +174,9 @@ Error *error_copy(const Error *err)
     err_new = g_malloc0(sizeof(*err));
     err_new->msg = g_strdup(err->msg);
     err_new->err_class = err->err_class;
+    err_new->src = err->src;
+    err_new->line = err->line;
+    err_new->func = err->func;
     if (err->hint) {
         err_new->hint = g_string_new(err->hint->str);
     }

