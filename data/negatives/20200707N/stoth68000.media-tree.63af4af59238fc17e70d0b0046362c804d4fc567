commit 63af4af59238fc17e70d0b0046362c804d4fc567
Author: Wei Yongjun <yongjun_wei@trendmicro.com.cn>
Date:   Tue Oct 30 09:49:38 2012 -0300

    [media] davinci: vpif_display: fix return type check for v4l2_subdev_call()
    
    The v4l2_subdev_call() call returns -ENODEV when subdev is
    null and -ENOIOCTLCMD wnen no icotl is present.
    This patch fixes the return type check for v4l2_subdev_call().
    The pattern E == C1 && E == C2 is always false. This patch
    fix this according to the assumption that && should be ||.
    dpatch engine is used to auto generate this patch.
    (https://github.com/weiyj/dpatch)
    
    Signed-off-by: Wei Yongjun <yongjun_wei@trendmicro.com.cn>
    [prabhakar.lad@ti.com: reword commit messaage]
    Signed-off-by: Lad, Prabhakar <prabhakar.lad@ti.com>
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>

diff --git a/drivers/media/platform/davinci/vpif_display.c b/drivers/media/platform/davinci/vpif_display.c
index b716fbd4241f..977ee436c334 100644
--- a/drivers/media/platform/davinci/vpif_display.c
+++ b/drivers/media/platform/davinci/vpif_display.c
@@ -1380,7 +1380,7 @@ vpif_enum_dv_timings(struct file *file, void *priv,
 	int ret;
 
 	ret = v4l2_subdev_call(ch->sd, video, enum_dv_timings, timings);
-	if (ret == -ENOIOCTLCMD && ret == -ENODEV)
+	if (ret == -ENOIOCTLCMD || ret == -ENODEV)
 		return -EINVAL;
 	return ret;
 }

