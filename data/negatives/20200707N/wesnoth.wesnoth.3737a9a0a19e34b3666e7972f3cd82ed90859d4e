commit 3737a9a0a19e34b3666e7972f3cd82ed90859d4e
Author: Ali El Gariani <alinkmaze@gmail.com>
Date:   Fri Aug 24 01:37:28 2007 +0000

    When the cursor is on off-map tiles, in the status bar:
    
    don't show (X,Y) coordinates and "None" terrain type.
    
    So it looks exactly like the real off-map parts (outside of the map rectangle)

diff --git a/src/generate_report.cpp b/src/generate_report.cpp
index 8355711233..3508608bbb 100644
--- a/src/generate_report.cpp
+++ b/src/generate_report.cpp
@@ -399,6 +399,9 @@ Units cannot be killed by poison alone. The poison will not reduce it below 1 HP
 			break;
 
 		const t_translation::t_letter terrain = map.get_terrain(mouseover);
+		if (terrain == t_translation::OFF_MAP_USER)
+			break;
+
 		const t_translation::t_list& underlying = map.underlying_union_terrain(terrain);
 
 		if(map.is_village(mouseover)) {
@@ -437,13 +440,16 @@ Units cannot be killed by poison alone. The poison will not reduce it below 1 HP
 			break;
 		}
 
+		const t_translation::t_letter terrain = map[mouseover.x][mouseover.y];
+
+		if (terrain == t_translation::OFF_MAP_USER)
+			break;
+
 		str << mouseover;
 
 		if(u == units.end() || current_team.shrouded(mouseover.x,mouseover.y))
 			break;
 
-		const t_translation::t_letter terrain = map[mouseover.x][mouseover.y];
-
 		const int move_cost = u->second.movement_cost(terrain);
 		const int defense = 100 - u->second.defense_modifier(terrain);
 

