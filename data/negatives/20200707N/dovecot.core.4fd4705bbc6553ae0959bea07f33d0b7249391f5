commit 4fd4705bbc6553ae0959bea07f33d0b7249391f5
Author: Timo Sirainen <tss@iki.fi>
Date:   Sun Sep 18 15:27:53 2005 +0300

    We were forcing a maildir resync when it hadn't changed at all.
    
    --HG--
    branch : HEAD

diff --git a/src/lib-storage/index/maildir/maildir-sync.c b/src/lib-storage/index/maildir/maildir-sync.c
index 19b4ba72a..0bbccf2ee 100644
--- a/src/lib-storage/index/maildir/maildir-sync.c
+++ b/src/lib-storage/index/maildir/maildir-sync.c
@@ -1167,7 +1167,7 @@ static int maildir_sync_context(struct maildir_sync_context *ctx, int forced,
 			return -1;
 
 		if (!new_changed && !cur_changed)
-			return 0;
+			return 1;
 	} else {
 		new_changed = cur_changed = TRUE;
 	}

