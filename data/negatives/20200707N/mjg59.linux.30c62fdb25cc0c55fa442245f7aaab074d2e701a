commit 30c62fdb25cc0c55fa442245f7aaab074d2e701a
Author: Chao Yu <chao2.yu@samsung.com>
Date:   Mon Mar 23 10:37:39 2015 +0800

    f2fs: persist system.advise into on-disk inode
    
    This patch fixes to dirty inode for persisting i_advise of f2fs inode info into
    on-disk inode if user sets system.advise through setxattr. Otherwise the new
    value will be lost.
    
    Signed-off-by: Chao Yu <chao2.yu@samsung.com>
    Signed-off-by: Jaegeuk Kim <jaegeuk@kernel.org>

diff --git a/fs/f2fs/xattr.c b/fs/f2fs/xattr.c
index 55649bec0b4d..b0fd2f2d0716 100644
--- a/fs/f2fs/xattr.c
+++ b/fs/f2fs/xattr.c
@@ -153,6 +153,7 @@ static int f2fs_xattr_advise_set(struct dentry *dentry, const char *name,
 		return -EINVAL;
 
 	F2FS_I(inode)->i_advise |= *(char *)value;
+	mark_inode_dirty(inode);
 	return 0;
 }
 

