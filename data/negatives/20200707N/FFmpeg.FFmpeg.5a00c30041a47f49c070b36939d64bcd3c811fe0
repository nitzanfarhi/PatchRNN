commit 5a00c30041a47f49c070b36939d64bcd3c811fe0
Author: Michael Niedermayer <michael@niedermayer.cc>
Date:   Sun Aug 30 23:49:04 2015 +0200

    avfilter/vf_scale: Do not skip scale if the color matrix mismatches
    
    Signed-off-by: Michael Niedermayer <michael@niedermayer.cc>

diff --git a/libavfilter/vf_scale.c b/libavfilter/vf_scale.c
index be061e289c..01f0020f05 100644
--- a/libavfilter/vf_scale.c
+++ b/libavfilter/vf_scale.c
@@ -350,6 +350,7 @@ static int config_props(AVFilterLink *outlink)
     scale->isws[0] = scale->isws[1] = scale->sws = NULL;
     if (inlink0->w == outlink->w &&
         inlink0->h == outlink->h &&
+        !scale->out_color_matrix &&
         scale->in_range == scale->out_range &&
         inlink0->format == outlink->format)
         ;

