commit 4cda09ca5978f58866d41866bb9a92a7b631b782
Author: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
Date:   Thu Feb 26 13:49:17 2015 +0000

    drm: Complete moving rotation property to core
    
    Commit 1da30627fc511a57c9bd23a02c97f0576379f761 "drm: Add rotation value to
    plane state" moved the rotation property to DRM core but only did the set
    property part. This does the get property part as well.
    
    Signed-off-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
    Cc: Matt Roper <matthew.d.roper@intel.com>
    Cc: dri-devel@lists.freedesktop.org
    Reviewed-by: Matt Roper <matthew.d.roper@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

diff --git a/drivers/gpu/drm/drm_atomic.c b/drivers/gpu/drm/drm_atomic.c
index 321e098ddf04..7ca54cb6b15b 100644
--- a/drivers/gpu/drm/drm_atomic.c
+++ b/drivers/gpu/drm/drm_atomic.c
@@ -450,6 +450,8 @@ drm_atomic_plane_get_property(struct drm_plane *plane,
 		*val = state->src_w;
 	} else if (property == config->prop_src_h) {
 		*val = state->src_h;
+	} else if (property == config->rotation_property) {
+		*val = state->rotation;
 	} else if (plane->funcs->atomic_get_property) {
 		return plane->funcs->atomic_get_property(plane, state, property, val);
 	} else {

