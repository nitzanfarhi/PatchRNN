commit 6b228abad039aaf89a35671ffa6c57cce9af51bc
Author: Peter Powell <petpow@saberuk.com>
Date:   Sun Aug 13 08:35:20 2017 +0100

    m_chghost: use an iterator instead of a NULL-checking loop.

diff --git a/src/modules/m_chghost.cpp b/src/modules/m_chghost.cpp
index 60146c78b..ad8353cbd 100644
--- a/src/modules/m_chghost.cpp
+++ b/src/modules/m_chghost.cpp
@@ -37,15 +37,13 @@ class CommandChghost : public Command
 
 	CmdResult Handle(const std::vector<std::string> &parameters, User *user)
 	{
-		const char* x = parameters[1].c_str();
-
 		if (parameters[1].length() > ServerInstance->Config->Limits.MaxHost)
 		{
 			user->WriteNotice("*** CHGHOST: Host too long");
 			return CMD_FAILURE;
 		}
 
-		for (; *x; x++)
+		for (std::string::const_iterator x = parameters[1].begin(); x != parameters[1].end(); x++)
 		{
 			if (!hostmap[(unsigned char)*x])
 			{

