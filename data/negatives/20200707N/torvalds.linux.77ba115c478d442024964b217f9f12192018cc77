commit 77ba115c478d442024964b217f9f12192018cc77
Author: Steffen Klassert <steffen.klassert@secunet.com>
Date:   Tue Mar 2 21:59:54 2010 +0800

    crypto: authenc - Use correct ahash complete functions
    
    We accidentally assigned the ahash update complete function to
    the wrong function pointer in crypto_authenc_verify.
    This patch fixes this.
    
    Signed-off-by: Steffen Klassert <steffen.klassert@secunet.com>
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

diff --git a/crypto/authenc.c b/crypto/authenc.c
index 18870906ea06..6287cfd4d7a0 100644
--- a/crypto/authenc.c
+++ b/crypto/authenc.c
@@ -454,7 +454,7 @@ static int crypto_authenc_verify(struct aead_request *req,
 	unsigned int authsize;
 
 	areq_ctx->complete = authenc_verify_ahash_done;
-	areq_ctx->complete = authenc_verify_ahash_update_done;
+	areq_ctx->update_complete = authenc_verify_ahash_update_done;
 
 	ohash = authenc_ahash_fn(req, CRYPTO_TFM_REQ_MAY_SLEEP);
 	if (IS_ERR(ohash))

