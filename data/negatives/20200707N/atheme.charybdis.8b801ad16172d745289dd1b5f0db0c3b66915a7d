commit 8b801ad16172d745289dd1b5f0db0c3b66915a7d
Author: Jilles Tjoelker <jilles@stack.nl>
Date:   Thu Jan 29 23:53:20 2009 +0100

    Log unknown class in auth errors to ircd.log as well.

diff --git a/src/s_conf.c b/src/s_conf.c
index 430ef201..f578ae28 100644
--- a/src/s_conf.c
+++ b/src/s_conf.c
@@ -28,6 +28,7 @@
 #include "ircd_defs.h"
 #include "s_conf.h"
 #include "s_newconf.h"
+#include "newconf.h"
 #include "s_serv.h"
 #include "s_stats.h"
 #include "channel.h"
@@ -1440,8 +1441,8 @@ conf_add_class_to_conf(struct ConfItem *aconf)
 	{
 		if(aconf->status == CONF_CLIENT)
 		{
-			sendto_realops_snomask(SNO_GENERAL, L_ALL,
-					     "Warning -- Using default class for missing class \"%s\" in auth{} for %s@%s",
+			conf_report_error(
+					     "Using default class for missing class \"%s\" in auth{} for %s@%s",
 					     aconf->className, aconf->user, aconf->host);
 		}
 

