commit 9b591cbd4e0fc2911d105d88d354124467b2cc08
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Sun Apr 9 22:37:18 2006 -0700

    [X25]: Restore skb->dev setting in x25_type_trans().
    
    Noticed by Pascal Schlafer.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/include/net/x25device.h b/include/net/x25device.h
index 1a318374faef..1d10c879f7e2 100644
--- a/include/net/x25device.h
+++ b/include/net/x25device.h
@@ -8,6 +8,7 @@
 static inline __be16 x25_type_trans(struct sk_buff *skb, struct net_device *dev)
 {
 	skb->mac.raw = skb->data;
+	skb->dev = dev;
 	skb->pkt_type = PACKET_HOST;
 	
 	return htons(ETH_P_X25);

