commit 501866a1fab9ee38b5360ae0e0dc0d04cbff1bf6
Author: Roine Gustafsson <roine@users.sourceforge.net>
Date:   Thu Jan 27 15:41:03 2005 +0000

    movenc illegal access patch by Roine Gustafsson <roine AT users DOT sourceforge DOT net>
    
    Originally committed as revision 3891 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavformat/movenc.c b/libavformat/movenc.c
index a7d8a9f330..e97b84dc09 100644
--- a/libavformat/movenc.c
+++ b/libavformat/movenc.c
@@ -1096,7 +1096,7 @@ static int mov_write_udta_tag(ByteIOContext *pb, MOVContext* mov,
     }
 
     /* Encoder */
-    if(!(mov->tracks[0].enc->flags & CODEC_FLAG_BITEXACT))
+    if(mov->tracks[0].enc && !(mov->tracks[0].enc->flags & CODEC_FLAG_BITEXACT))
     {
         int pos = url_ftell(pb);
         put_be32(pb, 0); /* size */

