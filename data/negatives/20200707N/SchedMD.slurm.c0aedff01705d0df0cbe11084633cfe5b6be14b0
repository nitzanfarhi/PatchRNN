commit c0aedff01705d0df0cbe11084633cfe5b6be14b0
Author: Tim Wickberg <tim@schedmd.com>
Date:   Sun Aug 19 20:29:26 2018 -0600

    Remove snprintf() in favor of xstrfmtcat().
    
    Fixes GCC 8.2.0 compilation warnings.
    
    Bug 5465.

diff --git a/src/common/stepd_api.c b/src/common/stepd_api.c
index 0b3d6cce42..5f15a45cf1 100644
--- a/src/common/stepd_api.c
+++ b/src/common/stepd_api.c
@@ -137,13 +137,16 @@ _handle_stray_socket(const char *socket_name)
 
 static void _handle_stray_script(const char *directory, uint32_t job_id)
 {
-	char dir_path[MAXPATHLEN], file_path[MAXPATHLEN];
+	char *dir_path = NULL, *file_path = NULL;
 
-	snprintf(dir_path, sizeof(dir_path), "%s/job%05u", directory, job_id);
-	snprintf(file_path, sizeof(file_path), "%s/slurm_script", dir_path);
+	xstrfmtcat(dir_path, "%s/job%05u", directory, job_id);
+	xstrfmtcat(file_path, "%s/slurm_script", dir_path);
 	info("%s: Purging vestigial job script %s", __func__, file_path);
 	(void) unlink(file_path);
 	(void) rmdir(dir_path);
+
+	xfree(dir_path);
+	xfree(file_path);
 }
 
 static int

