commit acbb378d1dd3e945d907743de221991d0ef11756
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun Feb 21 23:22:51 2010 +0000

    Fix timestamp association for mpeg2 field pictures.
    Fixes /MPlayer/incoming/codec_copy_fails_vob_to_mpeg-ts/codec_copy_fails_vob_to_mpeg-ts.vob
    
    Originally committed as revision 21949 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavcodec/mpeg12.c b/libavcodec/mpeg12.c
index 7eddabcaca..09bac2d860 100644
--- a/libavcodec/mpeg12.c
+++ b/libavcodec/mpeg12.c
@@ -2204,7 +2204,7 @@ int ff_mpeg1_find_frame_end(ParseContext *pc, const uint8_t *buf, int buf_size,
                     return i-3;
                 }
             }
-            if(s && state == PICTURE_START_CODE){
+            if(pc->frame_start_found == 0 && s && state == PICTURE_START_CODE){
                 ff_fetch_timestamp(s, i-3, 1);
             }
         }

