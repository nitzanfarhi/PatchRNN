commit 2d42f2f69fe2060949208e680c14a0be732f6655
Author: MySQL Build Team <build@mysql.com>
Date:   Wed Mar 24 13:11:57 2010 +0100

    Backport into build-201003230706-5.1.43sp1
    
    > ------------------------------------------------------------
    > revno: 3333.1.11 [merge]
    > revision-id: joro@sun.com-20100201115030-hgvq6489bt0w3rty
    > parent: li-bing.song@sun.com-20100130124925-o6sfex42b6noyc6x
    > parent: joro@sun.com-20100201114016-jylx4hivgqbs0vg2
    > committer: Georgi Kodinov <joro@sun.com>
    > branch nick: test-5.1-bugteam
    > timestamp: Mon 2010-02-01 13:50:30 +0200
    > message:
    >   merge
    > ------------------------------------------------------------
    > Use --include-merges or -n0 to see merged revisions.

diff --git a/sql/sql_select.cc b/sql/sql_select.cc
index c1c3827106a..0e36d35289f 100644
--- a/sql/sql_select.cc
+++ b/sql/sql_select.cc
@@ -549,7 +549,7 @@ JOIN::prepare(Item ***rref_pointer_array,
         there. Such fields don't contain any data to sort.
       */
       if (!real_order &&
-          (item->type() != Item::Item::FIELD_ITEM ||
+          (item->type() != Item::FIELD_ITEM ||
            ((Item_field *) item)->field->maybe_null() ||
            ((Item_field *) item)->field->sort_length()))
         real_order= TRUE;

