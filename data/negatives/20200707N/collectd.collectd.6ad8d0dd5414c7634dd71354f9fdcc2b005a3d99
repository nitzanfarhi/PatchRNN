commit 6ad8d0dd5414c7634dd71354f9fdcc2b005a3d99
Author: Fabien Wernli <faxmodem@collectd.org>
Date:   Thu Apr 30 10:05:35 2015 +0200

    Fix test for tables and empty instance
    
    Change-Id: I9a3fc3ded9566bd68c80e5fbce2d8b717ea1848d

diff --git a/src/curl_xml.c b/src/curl_xml.c
index e31e73d2..13f6680c 100644
--- a/src/curl_xml.c
+++ b/src/curl_xml.c
@@ -344,7 +344,7 @@ static int cx_handle_instance_xpath (xmlXPathContextPtr xpath_ctx, /* {{{ */
   /* If the base xpath returns more than one block, the result is assumed to be
    * a table. The `Instnce' option is not optional in this case. Check for the
    * condition and inform the user. */
-  if (is_table && (vl->type_instance == NULL))
+  if (is_table && (xpath->instance == NULL))
   {
     WARNING ("curl_xml plugin: "
         "Base-XPath %s is a table (more than one result was returned), "

