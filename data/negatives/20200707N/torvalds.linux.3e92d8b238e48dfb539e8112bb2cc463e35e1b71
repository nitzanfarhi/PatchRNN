commit 3e92d8b238e48dfb539e8112bb2cc463e35e1b71
Author: Hans Verkuil <hans.verkuil@cisco.com>
Date:   Fri Aug 12 13:32:07 2016 -0300

    [media] cec: ignore messages when log_addr_mask == 0
    
    Most CEC adapters will still receive broadcast messages, even if no logical
    addresses are claimed. But those messages should only be passed on for
    monitoring purposes, but not for processing by either kernel or userspace
    if userspace didn't call CEC_ADAP_S_LOG_ADDRS first.
    
    So if adap->log_addrs.log_addr_mask is 0, then just return before passing
    the received message on to the processing code.
    
    Signed-off-by: Hans Verkuil <hans.verkuil@cisco.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@s-opensource.com>

diff --git a/drivers/staging/media/cec/cec-adap.c b/drivers/staging/media/cec/cec-adap.c
index 6cc7d7904446..e980ac9c9279 100644
--- a/drivers/staging/media/cec/cec-adap.c
+++ b/drivers/staging/media/cec/cec-adap.c
@@ -851,6 +851,9 @@ void cec_received_msg(struct cec_adapter *adap, struct cec_msg *msg)
 	if (!valid_la || msg->len <= 1)
 		return;
 
+	if (adap->log_addrs.log_addr_mask == 0)
+		return;
+
 	/*
 	 * Process the message on the protocol level. If is_reply is true,
 	 * then cec_receive_notify() won't pass on the reply to the listener(s)

