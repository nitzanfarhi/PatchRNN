commit 8172d4afcf105b58a4b16735f5e6f8ccc5404dd5
Author: brain <brain@e03df62e-2008-0410-955e-edbf42e46eb7>
Date:   Fri Jun 6 15:34:43 2008 +0000

    More spanningtree tweaks
    
    git-svn-id: http://svn.inspircd.org/repository/trunk/inspircd@9844 e03df62e-2008-0410-955e-edbf42e46eb7

diff --git a/src/modules/m_spanningtree/rconnect.cpp b/src/modules/m_spanningtree/rconnect.cpp
index 78adae28c..462c1e03d 100644
--- a/src/modules/m_spanningtree/rconnect.cpp
+++ b/src/modules/m_spanningtree/rconnect.cpp
@@ -55,8 +55,9 @@ CmdResult cmd_rconnect::Handle (const std::vector<std::string>& parameters, User
 		ServerInstance->SNO->WriteToSnoMask('l',"Remote CONNECT from %s matching \002%s\002, connecting server \002%s\002",user->nick.c_str(),parameters[0].c_str(),parameters[1].c_str());
 		std::vector<std::string> para;
 		para.push_back(parameters[1]);
-		std::string original_command = std::string("CONNECT ") + parameters[1];
-		Creator->OnPreCommand("CONNECT", para, user, true, original_command);
+		std::string cmd("CONNECT");
+		std::string original_command = cmd + " " + parameters[1];
+		Creator->OnPreCommand(cmd, para, user, true, original_command);
 	}
 	return CMD_SUCCESS;
 }

