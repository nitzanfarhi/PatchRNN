commit 57064f4b1c9373a9e1c734e4c8e9104fec42be55
Author: Sebastien Helleu <flashcode@flashtux.org>
Date:   Tue Jul 14 08:20:40 2009 +0200

    Allow cursor to be displayed in a root bar

diff --git a/src/gui/curses/gui-curses-bar-window.c b/src/gui/curses/gui-curses-bar-window.c
index 85342c8a2..768a00d9e 100644
--- a/src/gui/curses/gui-curses-bar-window.c
+++ b/src/gui/curses/gui-curses-bar-window.c
@@ -607,7 +607,7 @@ gui_bar_window_draw (struct t_gui_bar_window *bar_window,
     
     /* move cursor if it was asked in an item content (input_text does that
        to move cursor in user input text) */
-    if (window && (gui_current_window == window)
+    if ((!window || (gui_current_window == window))
         && (bar_window->cursor_x >= 0) && (bar_window->cursor_y >= 0))
     {
         move (bar_window->cursor_y, bar_window->cursor_x);

