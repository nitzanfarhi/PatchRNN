commit 14a49e1fd2bb91ba2bf0e1f06711b6dbc21de02d
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Tue Jun 5 00:19:24 2007 -0700

    [TCP] tcp_probe: Attach printf attribute properly to printl().
    
    GCC doesn't like the way Stephen initially did it:
    
    net/ipv4/tcp_probe.c:83: warning: empty declaration
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/net/ipv4/tcp_probe.c b/net/ipv4/tcp_probe.c
index 760165a0800c..d9323dfff826 100644
--- a/net/ipv4/tcp_probe.c
+++ b/net/ipv4/tcp_probe.c
@@ -62,6 +62,9 @@ struct {
  * Print to log with timestamps.
  * FIXME: causes an extra copy
  */
+static void printl(const char *fmt, ...)
+	__attribute__ ((format (printf, 1, 2)));
+
 static void printl(const char *fmt, ...)
 {
 	va_list args;
@@ -80,8 +83,7 @@ static void printl(const char *fmt, ...)
 
 	kfifo_put(tcpw.fifo, tbuf, len);
 	wake_up(&tcpw.wait);
-} __attribute__ ((format (printf, 1, 2)));
-
+}
 
 /*
  * Hook inserted to be called before each receive packet.

