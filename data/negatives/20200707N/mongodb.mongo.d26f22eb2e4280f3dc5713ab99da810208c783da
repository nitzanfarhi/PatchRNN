commit d26f22eb2e4280f3dc5713ab99da810208c783da
Author: Greg Studer <greg@10gen.com>
Date:   Mon Nov 26 14:14:51 2012 -0500

    SERVER-939 error handling for string*

diff --git a/src/mongo/util/assert_util.h b/src/mongo/util/assert_util.h
index 8d6e764cb8..ed42107265 100644
--- a/src/mongo/util/assert_util.h
+++ b/src/mongo/util/assert_util.h
@@ -175,6 +175,9 @@ namespace mongo {
     inline std::string causedBy( const DBException& e ){ return causedBy( e.toString().c_str() ); }
     inline std::string causedBy( const std::exception& e ){ return causedBy( e.what() ); }
     inline std::string causedBy( const std::string& e ){ return causedBy( e.c_str() ); }
+    inline std::string causedBy( const std::string* e ){
+        return (e && *e != "") ? causedBy(*e) : "";
+    }
 
     /** aborts on condition failure */
     inline void fassert(int msgid, bool testOK) {if (MONGO_unlikely(!testOK)) fassertFailed(msgid);}

