commit 9ab875affbe61b2c88685c342461c9a367ab7a3e
Author: David Herrmann <dh.herrmann@googlemail.com>
Date:   Thu Feb 9 21:58:31 2012 +0100

    Bluetooth: btusb: Remove device lock on release
    
    Recently we changed the way how we release driver-data. A driver is now
    responsible of destroying the data so we no longer need the device lock
    on deinitialization in btusb driver.
    
    Signed-off-by: David Herrmann <dh.herrmann@googlemail.com>
    Acked-by: Marcel Holtmann <marcel@holtmann.org>
    Signed-off-by: Johan Hedberg <johan.hedberg@intel.com>

diff --git a/drivers/bluetooth/btusb.c b/drivers/bluetooth/btusb.c
index f4fb256d6ca6..066d5ec83a9b 100644
--- a/drivers/bluetooth/btusb.c
+++ b/drivers/bluetooth/btusb.c
@@ -1079,9 +1079,6 @@ static void btusb_disconnect(struct usb_interface *intf)
 		return;
 
 	hdev = data->hdev;
-
-	hci_dev_hold(hdev);
-
 	usb_set_intfdata(data->intf, NULL);
 
 	if (data->isoc)
@@ -1094,8 +1091,6 @@ static void btusb_disconnect(struct usb_interface *intf)
 	else if (data->isoc)
 		usb_driver_release_interface(&btusb_driver, data->isoc);
 
-	hci_dev_put(hdev);
-
 	hci_free_dev(hdev);
 	kfree(data);
 }

