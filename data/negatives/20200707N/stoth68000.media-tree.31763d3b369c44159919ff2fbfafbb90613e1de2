commit 31763d3b369c44159919ff2fbfafbb90613e1de2
Author: Biao Huang <biao.huang@mediatek.com>
Date:   Wed Feb 17 03:16:33 2016 +0800

    pinctrl: mediatek: add input-enable setting in gpio_request_enable
    
    Since input-disable cuts off input signal of gpio, add input-enable
    setting in .gpio_request_enable implementation to ensure gpio function well
    
    Signed-off-by: Biao Huang <biao.huang@mediatek.com>
    Signed-off-by: Linus Walleij <linus.walleij@linaro.org>

diff --git a/drivers/pinctrl/mediatek/pinctrl-mtk-common.c b/drivers/pinctrl/mediatek/pinctrl-mtk-common.c
index 6024483dd336..578897a1c45f 100644
--- a/drivers/pinctrl/mediatek/pinctrl-mtk-common.c
+++ b/drivers/pinctrl/mediatek/pinctrl-mtk-common.c
@@ -764,6 +764,7 @@ static int mtk_pmx_gpio_request_enable(struct pinctrl_dev *pctldev,
 	}
 
 	mtk_pmx_set_mode(pctldev, offset, muxval);
+	mtk_pconf_set_ies_smt(pctl, offset, 1, PIN_CONFIG_INPUT_ENABLE);
 
 	return 0;
 }

