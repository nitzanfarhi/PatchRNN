commit e2b778814396be92b3d02e8bf633e71c81f47ccd
Author: Vic Lee <llyzs@163.com>
Date:   Mon Apr 23 18:00:52 2012 +0800

    libfreerdp-core: server fix sending zero length update pdu.
    
    System pointer update PDU (default pointer or null pointer) has
    zero length update body. This will fix fastpath module to be able
    to send out such packets.

diff --git a/libfreerdp-core/fastpath.c b/libfreerdp-core/fastpath.c
index 441ecca94..a54330fcf 100644
--- a/libfreerdp-core/fastpath.c
+++ b/libfreerdp-core/fastpath.c
@@ -639,7 +639,7 @@ boolean fastpath_send_update_pdu(rdpFastPath* fastpath, uint8 updateCode, STREAM
 	try_comp = rdp->settings->compression;
 	comp_update = stream_new(0);
 
-	for (fragment = 0; totalLength > 0; fragment++)
+	for (fragment = 0; totalLength > 0 || fragment == 0; fragment++)
 	{
 		stream_get_mark(s, holdp);
 		ls = s;

