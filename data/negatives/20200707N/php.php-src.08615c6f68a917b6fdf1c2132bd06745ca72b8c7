commit 08615c6f68a917b6fdf1c2132bd06745ca72b8c7
Author: Zeev Suraski <zeev@php.net>
Date:   Thu Nov 15 23:26:52 2001 +0000

    MFZE1

diff --git a/Zend/zend_compile.c b/Zend/zend_compile.c
index a9f0a09e7a..89b28dbc2a 100644
--- a/Zend/zend_compile.c
+++ b/Zend/zend_compile.c
@@ -579,6 +579,9 @@ void zend_do_end_variable_parse(int type, int arg_offset TSRMLS_DC)
 				opline->extended_value = arg_offset;
 				break;
 			case BP_VAR_UNSET:
+				if (opline->opcode == ZEND_FETCH_DIM_W && opline->op2.op_type == IS_UNUSED) {
+					zend_error(E_COMPILE_ERROR, "Cannot use [] for unsetting");
+				}
 				opline->opcode += 12; /* 3+3+3+3 */
 				break;
 		}

