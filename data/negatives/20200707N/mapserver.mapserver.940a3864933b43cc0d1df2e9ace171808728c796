commit 940a3864933b43cc0d1df2e9ace171808728c796
Author: Frank Warmerdam <warmerdam@pobox.com>
Date:   Tue Nov 19 04:50:09 2002 +0000

    fixed x/y transpose bug with alpha blending for RGBA imagemode
    
    
    git-svn-id: http://svn.osgeo.org/mapserver/trunk@1578 7532c77e-422f-0410-93f4-f0b67bdd69e2

diff --git a/mapresample.c b/mapresample.c
index 4388ca55..8b0ed836 100644
--- a/mapresample.c
+++ b/mapresample.c
@@ -28,6 +28,9 @@
  ******************************************************************************
  *
  * $Log$
+ * Revision 1.33  2002/11/19 04:50:09  frank
+ * fixed x/y transpose bug with alpha blending for RGBA imagemode
+ *
  * Revision 1.32  2002/11/18 22:32:52  frank
  * additional work to make transparency work properly for RGB or RGBA GD modes
  *
@@ -241,7 +244,7 @@ msSimpleRasterResampler( imageObj *psSrcImage, colorObj offsite,
                         int gd_original_alpha, gd_new_alpha;
                         
                         gd_original_alpha = 
-                          gdTrueColorGetAlpha( dstImg->tpixels[nDstX][nDstY] );
+                          gdTrueColorGetAlpha( dstImg->tpixels[nDstY][nDstX] );
 
                         /* I assume a fairly simple additive model for 
                            opaqueness.  Note that gdAlphaBlend() always returns
@@ -253,7 +256,7 @@ msSimpleRasterResampler( imageObj *psSrcImage, colorObj offsite,
                         
                         nSetPoints++;
                         dstImg->tpixels[nDstY][nDstX] = 
-                            gdAlphaBlend( dstImg->tpixels[nDstX][nDstY], 
+                            gdAlphaBlend( dstImg->tpixels[nDstY][nDstX], 
                                           nValue );
                         dstImg->tpixels[nDstY][nDstX] &= 0x00ffffff;
                         dstImg->tpixels[nDstY][nDstX] |= gd_new_alpha << 24;

