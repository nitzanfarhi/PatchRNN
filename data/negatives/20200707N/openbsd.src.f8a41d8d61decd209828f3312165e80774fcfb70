commit f8a41d8d61decd209828f3312165e80774fcfb70
Author: robert <robert@openbsd.org>
Date:   Thu Apr 12 13:16:12 2018 +0000

    keep the STT_FILE symbol in the table so that we know what file
    was used to compile and object
    
    ok kettenis@

diff --git a/gnu/llvm/tools/lld/ELF/Writer.cpp b/gnu/llvm/tools/lld/ELF/Writer.cpp
index 3b21394b7b8..4ff5e15f43c 100644
--- a/gnu/llvm/tools/lld/ELF/Writer.cpp
+++ b/gnu/llvm/tools/lld/ELF/Writer.cpp
@@ -487,7 +487,7 @@ template <class ELFT> void Writer<ELFT>::run() {
 
 static bool shouldKeepInSymtab(SectionBase *Sec, StringRef SymName,
                                const Symbol &B) {
-  if (B.isFile() || B.isSection())
+  if (B.isSection())
     return false;
 
   // If sym references a section in a discarded group, don't keep it.

