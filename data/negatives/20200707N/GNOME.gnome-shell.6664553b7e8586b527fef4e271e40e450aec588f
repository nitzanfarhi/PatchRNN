commit 6664553b7e8586b527fef4e271e40e450aec588f
Author: Michael Catanzaro <mcatanzaro@gnome.org>
Date:   Mon Nov 16 10:56:13 2015 -0600

    Revert "browser-plugin: Set windowless mode and don't claim to need XEmbed"
    
    This reverts commit a52c91e9e5f9c521f6f78a029d85e32564196760.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=758035

diff --git a/browser-plugin/browser-plugin.c b/browser-plugin/browser-plugin.c
index 0cc92e5d2..46dacae27 100644
--- a/browser-plugin/browser-plugin.c
+++ b/browser-plugin/browser-plugin.c
@@ -218,9 +218,6 @@ NPP_New(NPMIMEType    mimetype,
   data = g_slice_new (PluginData);
   instance->pdata = data;
 
-  /* set windowless mode */
-  funcs.setvalue(instance, NPPVpluginWindowBool, NULL);
-
   data->proxy = g_dbus_proxy_new_for_bus_sync (G_BUS_TYPE_SESSION,
                                                G_DBUS_PROXY_FLAGS_NONE,
                                                NULL, /* interface info */
@@ -1037,6 +1034,10 @@ NPP_GetValue(NPP          instance,
     *(NPObject**)value = funcs.createobject (instance, &plugin_class);
     break;
 
+  case NPPVpluginNeedsXEmbed:
+    *(bool *)value = TRUE;
+    break;
+
   default:
     ;
   }

