commit 8fb1e3e2349c9940732b5bb77a2a4053b8f72a4f
Author: Timo Sirainen <tss@iki.fi>
Date:   Tue Oct 21 16:50:09 2003 +0300

    assert
    
    --HG--
    branch : HEAD

diff --git a/src/lib-storage/index/index-mail-headers.c b/src/lib-storage/index/index-mail-headers.c
index 184a96062..e5ebbfcb0 100644
--- a/src/lib-storage/index/index-mail-headers.c
+++ b/src/lib-storage/index/index-mail-headers.c
@@ -94,6 +94,8 @@ cached_header_add(struct index_mail *mail, const char *name)
 	struct cached_header *hdr;
 	unsigned int idx;
 
+	i_assert(*name != '\0');
+
 	hdr = cached_header_find(mail, name, &idx);
 	if (hdr != NULL)
 		return hdr;

