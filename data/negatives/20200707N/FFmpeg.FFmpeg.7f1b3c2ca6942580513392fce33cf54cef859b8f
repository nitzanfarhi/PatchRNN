commit 7f1b3c2ca6942580513392fce33cf54cef859b8f
Author: Carl Eugen Hoyos <cehoyos@ag.or.at>
Date:   Thu Jun 27 11:09:02 2013 +0200

    Fix muxing QDM2 mono into caf.

diff --git a/libavformat/cafenc.c b/libavformat/cafenc.c
index 11bb055965..cd3a0be907 100644
--- a/libavformat/cafenc.c
+++ b/libavformat/cafenc.c
@@ -86,8 +86,9 @@ static uint32_t samples_per_packet(enum AVCodecID codec_id, int channels) {
         return 1152;
     case AV_CODEC_ID_AC3:
         return 1536;
-    case AV_CODEC_ID_ALAC:
     case AV_CODEC_ID_QDM2:
+        return 2048 * channels;
+    case AV_CODEC_ID_ALAC:
         return 4096;
     case AV_CODEC_ID_ADPCM_IMA_WAV:
         return (1024 - 4 * channels) * 8 / (4 * channels) + 1;

