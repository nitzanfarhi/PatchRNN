commit a1b8786ae64c3bfeb92def5a7c11ed0aa1915358
Author: greg@kroah.com <greg@kroah.com>
Date:   Wed Nov 19 06:38:18 2003 -0800

    [PATCH] fix namedev.c to build with older version of gcc.

diff --git a/namedev.c b/namedev.c
index 223fd6de1..9a556cb83 100644
--- a/namedev.c
+++ b/namedev.c
@@ -753,11 +753,12 @@ static void do_kernelname(struct sysfs_class_device *class_dev, struct udevice *
 {
 	struct config_device *dev;
 	struct list_head *tmp;
+	int len;
 
 	strfieldcpy(udev->name, class_dev->name);
 	list_for_each(tmp, &config_device_list) {
 		dev = list_entry(tmp, struct config_device, node);
-		int len = strlen(dev->name);
+		len = strlen(dev->name);
 		if (dev->name[len-1] == '*') {
 			len--;
 			if (strncmp(dev->name, class_dev->name, len))

