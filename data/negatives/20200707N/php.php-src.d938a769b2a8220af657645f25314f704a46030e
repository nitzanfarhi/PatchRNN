commit d938a769b2a8220af657645f25314f704a46030e
Author: Thomas Punt <tpunt@hotmail.co.uk>
Date:   Tue Aug 22 13:32:47 2017 +0100

    Use ZEND_HASH_APPLY_SHIFT macro instead of hard-coded literal

diff --git a/Zend/zend_hash.c b/Zend/zend_hash.c
index c1ac05cc3d..3d5f584056 100644
--- a/Zend/zend_hash.c
+++ b/Zend/zend_hash.c
@@ -74,7 +74,7 @@ static void _zend_is_inconsistent(const HashTable *ht, const char *file, int lin
 
 #define HASH_PROTECT_RECURSION(ht)														\
 	if ((ht)->u.flags & HASH_FLAG_APPLY_PROTECTION) {									\
-		if (((ht)->u.flags & ZEND_HASH_APPLY_COUNT_MASK) >= (3 << 8)) {												\
+		if (((ht)->u.flags & ZEND_HASH_APPLY_COUNT_MASK) >= (3 << ZEND_HASH_APPLY_SHIFT)) {\
 			zend_error_noreturn(E_ERROR, "Nesting level too deep - recursive dependency?");\
 		}																				\
 		ZEND_HASH_INC_APPLY_COUNT(ht);													\

