commit 3e1c60b96ff5bd3454611fa25115a6fd0773a8ae
Author: marko <>
Date:   Fri Oct 20 12:22:42 2006 +0000

    branches/zip: btr_search_guess_on_hash(): Do not call buf_block_get_frame(),
    because it will lead to debug assertion failure when buf_fix_count == 0.
    This bug was introduced in r912.

diff --git a/btr/btr0sea.c b/btr/btr0sea.c
index d04852b9eec..9368be109af 100644
--- a/btr/btr0sea.c
+++ b/btr/btr0sea.c
@@ -757,7 +757,7 @@ btr_search_guess_on_hash(
 	}
 
 	block = buf_block_align(rec);
-	page = buf_block_get_frame(block);
+	page = page_align(rec);
 
 	if (UNIV_LIKELY(!has_search_latch)) {
 

