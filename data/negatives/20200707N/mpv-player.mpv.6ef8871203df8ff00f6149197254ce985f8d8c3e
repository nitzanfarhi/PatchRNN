commit 6ef8871203df8ff00f6149197254ce985f8d8c3e
Author: nick <nick@b3059339-0415-0410-9bf9-f77b7e298cf2>
Date:   Mon Nov 5 17:56:11 2001 +0000

    Fixed rgb32(24)to15 stuff
    
    
    git-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@2721 b3059339-0415-0410-9bf9-f77b7e298cf2

diff --git a/postproc/rgb2rgb.c b/postproc/rgb2rgb.c
index 5779bf5e30..ddb805bbc6 100644
--- a/postproc/rgb2rgb.c
+++ b/postproc/rgb2rgb.c
@@ -238,7 +238,7 @@ void rgb32to15(const uint8_t *src, uint8_t *dst, unsigned src_size)
 		const int g= src[i+1];
 		const int r= src[i+2];
 
-		d[j]= (b>>3) | ((g&0xF8)<<3) | ((r&0xF8)<<7);
+		d[j]= (b>>3) | ((g&0xF8)<<2) | ((r&0xF8)<<7);
 	}
 }
 
@@ -266,7 +266,7 @@ void rgb24to15(const uint8_t *src, uint8_t *dst, unsigned src_size)
 		const int g= src[i+1];
 		const int r= src[i+2];
 
-		d[j]= (b>>3) | ((g&0xF8)<<3) | ((r&0xF8)<<7);
+		d[j]= (b>>3) | ((g&0xF8)<<2) | ((r&0xF8)<<7);
 	}
 }
 
diff --git a/postproc/rgb2rgb_template.c b/postproc/rgb2rgb_template.c
index 5779bf5e30..ddb805bbc6 100644
--- a/postproc/rgb2rgb_template.c
+++ b/postproc/rgb2rgb_template.c
@@ -238,7 +238,7 @@ void rgb32to15(const uint8_t *src, uint8_t *dst, unsigned src_size)
 		const int g= src[i+1];
 		const int r= src[i+2];
 
-		d[j]= (b>>3) | ((g&0xF8)<<3) | ((r&0xF8)<<7);
+		d[j]= (b>>3) | ((g&0xF8)<<2) | ((r&0xF8)<<7);
 	}
 }
 
@@ -266,7 +266,7 @@ void rgb24to15(const uint8_t *src, uint8_t *dst, unsigned src_size)
 		const int g= src[i+1];
 		const int r= src[i+2];
 
-		d[j]= (b>>3) | ((g&0xF8)<<3) | ((r&0xF8)<<7);
+		d[j]= (b>>3) | ((g&0xF8)<<2) | ((r&0xF8)<<7);
 	}
 }
 

