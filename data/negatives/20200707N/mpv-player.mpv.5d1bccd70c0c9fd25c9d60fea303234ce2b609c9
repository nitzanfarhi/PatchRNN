commit 5d1bccd70c0c9fd25c9d60fea303234ce2b609c9
Author: ods15 <ods15@b3059339-0415-0410-9bf9-f77b7e298cf2>
Date:   Tue Feb 7 18:17:12 2006 +0000

    Fix mpng to work correctly with 16 bit png's. don't have any files to test
    this on, but mpng still works correctly for files that worked fine before.
    patch by derf < tterribe BANG xiph POIT org >
    
    
    git-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@17553 b3059339-0415-0410-9bf9-f77b7e298cf2

diff --git a/libmpcodecs/vd_mpng.c b/libmpcodecs/vd_mpng.c
index efc0a49152..3c2078e353 100644
--- a/libmpcodecs/vd_mpng.c
+++ b/libmpcodecs/vd_mpng.c
@@ -89,6 +89,7 @@ static mp_image_t* decode(sh_video_t *sh,void* data,int len,int flags){
  pngPointer=8;
  pngLength=len;
  png_set_read_fn( png,data,pngReadFN );
+ png_set_strip_16( png );
  png_set_sig_bytes( png,8 );
  png_read_info( png,info );
  png_get_IHDR( png,info,&png_width,&png_height,&depth,&color,NULL,NULL,NULL );

