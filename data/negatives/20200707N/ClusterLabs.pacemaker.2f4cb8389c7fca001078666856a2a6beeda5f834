commit 2f4cb8389c7fca001078666856a2a6beeda5f834
Author: David Vossel <dvossel@redhat.com>
Date:   Fri Mar 28 17:47:34 2014 -0400

    Low: pengine: Do not fence remote-node entries left over in the node section that have no connection rsc

diff --git a/lib/pengine/unpack.c b/lib/pengine/unpack.c
index 934d0b822..059a69fb5 100644
--- a/lib/pengine/unpack.c
+++ b/lib/pengine/unpack.c
@@ -404,6 +404,13 @@ handle_startup_fencing(pe_working_set_t *data_set, node_t *new_node)
     static gboolean unseen_are_unclean = TRUE;
     static gboolean init_startup_fence_params = FALSE;
 
+    if ((new_node->details->type == node_remote) && (new_node->details->remote_rsc == NULL)) {
+        /* ignore fencing remote-nodes that don't have a conneciton resource associated
+         * with them. This happens when remote-node entries get left in the nodes section
+         * after the connection resource is removed */
+        return;
+    }
+
     if (init_startup_fence_params == FALSE) {
         blind_faith = pe_pref(data_set->config_hash, "startup-fencing");
         init_startup_fence_params = TRUE;

