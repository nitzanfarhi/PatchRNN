commit bb3eff82c84fa9a91ee7a46c8b483e5308f96269
Author: aystarik <aystarik>
Date:   Wed Jun 29 16:30:27 2005 +0000

    Fixed debugger output for Index/BufferField
    
    
    date    2004.01.29.19.01.00;    author rmoore1; state Exp;

diff --git a/source/components/disassembler/dmobject.c b/source/components/disassembler/dmobject.c
index fc05ff771..877bcbc8b 100644
--- a/source/components/disassembler/dmobject.c
+++ b/source/components/disassembler/dmobject.c
@@ -1,7 +1,7 @@
 /*******************************************************************************
  *
  * Module Name: dmobject - ACPI object decode and display
- *              $Revision: 1.10 $
+ *              $Revision: 1.11 $
  *
  ******************************************************************************/
 
@@ -432,14 +432,30 @@ AcpiDmDisplayInternalObject (
 
             case AML_INDEX_OP:
 
-                AcpiOsPrintf ("[Index]          ");
-                if (!ObjDesc->Reference.Where)
+                AcpiOsPrintf ("[Index]  ");
+                switch (ObjDesc->Reference.TargetType)
                 {
-                    AcpiOsPrintf ("Uninitialized WHERE ptr");
-                }
-                else
-                {
-                    AcpiDmDecodeInternalObject (*(ObjDesc->Reference.Where));
+                case ACPI_TYPE_BUFFER_FIELD:
+                    AcpiOsPrintf ("%p", ObjDesc->Reference.Object);
+                    AcpiDmDecodeInternalObject (ObjDesc->Reference.Object);
+                    break;
+
+                case ACPI_TYPE_PACKAGE:
+
+                    AcpiOsPrintf ("%p", ObjDesc->Reference.Where);
+                    if (!ObjDesc->Reference.Where)
+                    {
+                        AcpiOsPrintf (" Uninitialized WHERE ptr");
+                    }
+                    else
+                    {
+                        AcpiDmDecodeInternalObject (*(ObjDesc->Reference.Where));
+                    }
+                    break;
+
+                default:
+                    AcpiOsPrintf ("Unknown index target type");
+                    break;
                 }
                 break;
 
@@ -489,8 +505,7 @@ AcpiDmDisplayInternalObject (
 
         default:
 
-            AcpiOsPrintf ("<Obj> ");
-            AcpiOsPrintf ("           ");
+            AcpiOsPrintf ("<Obj>            ");
             AcpiDmDecodeInternalObject (ObjDesc);
             break;
         }

