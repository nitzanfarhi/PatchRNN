commit 0e09c863dbb8b1816ebc106df1a1cae4c588ce0e
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Mon Jul 28 16:37:10 2008 +0200

    pcmcia: rsrc_nonstatic: check value, not pointer
    
    Bug found by Harvey Harrison and Stephen Rothwell.
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

diff --git a/drivers/pcmcia/rsrc_nonstatic.c b/drivers/pcmcia/rsrc_nonstatic.c
index d0c1d63d1891..203e579ebbd2 100644
--- a/drivers/pcmcia/rsrc_nonstatic.c
+++ b/drivers/pcmcia/rsrc_nonstatic.c
@@ -275,7 +275,7 @@ static int readable(struct pcmcia_socket *s, struct resource *res,
 		destroy_cis_cache(s);
 	}
 	s->cis_mem.res = NULL;
-	if ((ret != 0) || (count == 0))
+	if ((ret != 0) || (*count == 0))
 		return 0;
 	return 1;
 }

