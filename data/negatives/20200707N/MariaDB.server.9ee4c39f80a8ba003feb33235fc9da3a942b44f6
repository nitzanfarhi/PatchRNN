commit 9ee4c39f80a8ba003feb33235fc9da3a942b44f6
Author: Barry Perlman <barry@tokutek.com>
Date:   Wed Apr 17 00:02:06 2013 -0400

    [t:3825] #3825 Add malloc_fail and realloc_fail to engine status.
    
    git-svn-id: file:///svn/mysql/tokudb-engine/tokudb-engine@33949 c7de825b-a66e-492c-adef-691d508d4ae1

diff --git a/storage/tokudb/hatoku_hton.cc b/storage/tokudb/hatoku_hton.cc
index 7084ec35888..35f673bbcb0 100644
--- a/storage/tokudb/hatoku_hton.cc
+++ b/storage/tokudb/hatoku_hton.cc
@@ -1401,6 +1401,10 @@ static bool tokudb_show_engine_status(THD * thd, stat_print_fn * stat_print) {
       STATPRINT("free count", buf);
       snprintf(buf, bufsiz, "%" PRIu64, engstat.realloc_count);
       STATPRINT("realloc count", buf);
+      snprintf(buf, bufsiz, "%" PRIu64, engstat.malloc_fail);
+      STATPRINT("malloc fail", buf);
+      snprintf(buf, bufsiz, "%" PRIu64, engstat.realloc_fail);
+      STATPRINT("realloc fail", buf);
       snprintf(buf, bufsiz, "%" PRIu64, engstat.mem_requested);
       STATPRINT("mem requested", buf);
       snprintf(buf, bufsiz, "%" PRIu64, engstat.mem_used);

