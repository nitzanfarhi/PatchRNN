commit 439264ca2d90833a37dba5c94202830f4313955c
Author: Con Kolivas <kernel@kolivas.org>
Date:   Thu Oct 16 18:00:05 2014 +1100

    Send correct diff work to sp30 for hashmeter to be correct

diff --git a/driver-spondoolies-sp30.c b/driver-spondoolies-sp30.c
index c5ae6105..c1fcd31a 100644
--- a/driver-spondoolies-sp30.c
+++ b/driver-spondoolies-sp30.c
@@ -240,7 +240,7 @@ static void fill_minergate_request(minergate_do_job_req_sp30* work, struct work
 	//work->leading_zeroes = get_leading_zeroes(cg_work->target);
 	// Is there no better way to get leading zeroes?
 	work->leading_zeroes = 30;
-	wd = round(cg_work->work_difficulty);
+	wd = round(cg_work->device_diff);
 	while (wd) {
 		work->leading_zeroes++;
 		wd = wd >> 1;

