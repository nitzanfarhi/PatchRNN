commit f24f2b5e17ea1ce029b5627a1dc50ba80f02c9c7
Author: Timo Sirainen <tss@iki.fi>
Date:   Fri Mar 6 16:37:07 2015 +0200

    lmtp: Fixed lmtp_user_concurrency_limit=0 to actually mean unlimited

diff --git a/src/lmtp/commands.c b/src/lmtp/commands.c
index 289c186e1..f7c75a986 100644
--- a/src/lmtp/commands.c
+++ b/src/lmtp/commands.c
@@ -758,7 +758,8 @@ client_deliver(struct client *client, const struct mail_recipient *rcpt,
 	input = mail_storage_service_user_get_input(rcpt->service_user);
 	username = t_strdup(input->username);
 
-	if (rcpt->parallel_count >= client->lmtp_set->lmtp_user_concurrency_limit) {
+	if (client->lmtp_set->lmtp_user_concurrency_limit > 0 &&
+	    rcpt->parallel_count >= client->lmtp_set->lmtp_user_concurrency_limit) {
 		client_send_line(client, ERRSTR_TEMP_USERDB_FAIL_PREFIX
 				 "Too many concurrent deliveries for user",
 				 rcpt->address);

