commit 9102ebacf7c89a062aabd39417340c0d99e6876c
Author: mcskaf <devnull@localhost>
Date:   Sun Dec 1 19:44:12 2002 +0000

    Use P_EWORKING in connect().

diff --git a/src/s_auth.c b/src/s_auth.c
index 0f347b0d..3577d580 100644
--- a/src/s_auth.c
+++ b/src/s_auth.c
@@ -103,8 +103,7 @@ void start_auth(aClient *cptr)
 	sock.SIN_PORT = htons(113);
 	sock.SIN_FAMILY = AFINET;
 
-	if (connect(cptr->authfd, (struct sockaddr *)&sock,
-		sizeof(sock)) == -1 && !(ERRNO == P_EINPROGRESS))
+	if (connect(cptr->authfd, (struct sockaddr *)&sock, sizeof(sock)) == -1 && !(ERRNO == P_EWORKING))
 	{
 		ircstp->is_abad++;
 		/*

