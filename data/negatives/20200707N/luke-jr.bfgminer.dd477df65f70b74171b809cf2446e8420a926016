commit dd477df65f70b74171b809cf2446e8420a926016
Author: Luke Dashjr <luke-jr+git@utopios.org>
Date:   Tue Oct 29 03:02:00 2013 +0000

    Linux hotplug: Ignore EAGAIN and EINTR from epoll_wait so debugging works

diff --git a/miner.c b/miner.c
index 732a40ae..69efb14a 100644
--- a/miner.c
+++ b/miner.c
@@ -11061,8 +11061,16 @@ void *hotplug_thread(__maybe_unused void *p)
 	}
 	
 	struct epoll_event ev;
-	while (epoll_wait(epfd, &ev, 1, -1) != -1)
+	int rv;
+	while (true)
 	{
+		rv = epoll_wait(epfd, &ev, 1, -1);
+		if (rv == -1)
+		{
+			if (errno == EAGAIN || errno == EINTR)
+				continue;
+			break;
+		}
 		struct udev_device * const device = udev_monitor_receive_device(mon);
 		if (!device)
 			continue;

