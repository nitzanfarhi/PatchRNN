commit 725af4c2dd2edb2986041a3b8decb509b66eeabb
Author: Xinchen Hui <laruence@php.net>
Date:   Mon Oct 31 03:47:11 2011 +0000

    Fixed bug #60174 (Notice when array in method prototype error)
    this should also exists in ext/reflection. since the new warning of "array to string convert" is introduced in zend_make_printable_zval which is used in ext/reflection too

diff --git a/Zend/zend_compile.c b/Zend/zend_compile.c
index 727380dac9..47e6f53736 100644
--- a/Zend/zend_compile.c
+++ b/Zend/zend_compile.c
@@ -3133,6 +3133,9 @@ static char * zend_get_function_declaration(zend_function *fptr TSRMLS_DC) /* {{
 								*(offset++) = '.';
 							}
 							*(offset++) = '\'';
+						} else if (Z_TYPE_P(zv) == IS_ARRAY) {
+							memcpy(offset, "Array", 5);
+							offset += 5;
 						} else {
 							zend_make_printable_zval(zv, &zv_copy, &use_copy);
 							REALLOC_BUF_IF_EXCEED(buf, offset, length, Z_STRLEN(zv_copy));
@@ -3155,7 +3158,7 @@ static char * zend_get_function_declaration(zend_function *fptr TSRMLS_DC) /* {{
 				*(offset++) = ' ';
 			}
 			arg_info++;
-			REALLOC_BUF_IF_EXCEED(buf, offset, length, 23);
+			REALLOC_BUF_IF_EXCEED(buf, offset, length, 32);
 		}
 	}
 	*(offset++) = ')';

