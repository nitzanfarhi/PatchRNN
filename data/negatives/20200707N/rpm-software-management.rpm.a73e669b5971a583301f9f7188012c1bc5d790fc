commit a73e669b5971a583301f9f7188012c1bc5d790fc
Author: ewt <devnull@localhost>
Date:   Wed Mar 10 03:43:22 1999 +0000

    replaced = NULL stuff here and there with blanket memset() calls
    
    CVS patchset: 2871
    CVS date: 1999/03/10 03:43:22

diff --git a/lib/transaction.c b/lib/transaction.c
index a35818953..862b0942b 100644
--- a/lib/transaction.c
+++ b/lib/transaction.c
@@ -222,11 +222,10 @@ int rpmRunTransactions(rpmTransactionSet ts, rpmCallbackFunction notify,
        worth the trouble though. */
     for (fi = flList, alp = al->list; (alp - al->list) < al->size; 
 		fi++, alp++) {
+	memset(fi, 0, sizeof(*fi));
+
 	if (!headerGetEntryMinMemory(alp->h, RPMTAG_FILENAMES, NULL, 
 				     (void *) NULL, &fi->fc)) {
-	    fi->replaced = NULL;
-	    fi->actions = NULL;
-	    fi->fc = 0;
 	    fi->h = alp->h;
 	    hdrs[alp - al->list] = headerLink(fi->h);
 	    continue;
@@ -256,7 +255,6 @@ int rpmRunTransactions(rpmTransactionSet ts, rpmCallbackFunction notify,
 	fi->type = ADDED;
         fi->fps = malloc(fi->fc * sizeof(*fi->fps));
 	fi->ap = alp;
-	fi->replaced = NULL;
     }
 
     NOTIFY((NULL, RPMCALLBACK_TRANS_STOP, 3, al->size, NULL, notifyData));
@@ -265,9 +263,8 @@ int rpmRunTransactions(rpmTransactionSet ts, rpmCallbackFunction notify,
 	    NULL, notifyData));
 
     for (i = 0; i < ts->numRemovedPackages; i++, fi++) {
+	memset(fi, 0, sizeof(*fi));
 
-	fi->actions = NULL;
-	fi->replaced = NULL;
 	fi->type = REMOVED;
 	fi->record = ts->removedPackages[i];
 	fi->h = rpmdbGetRecord(ts->db, fi->record);
@@ -291,8 +288,6 @@ int rpmRunTransactions(rpmTransactionSet ts, rpmCallbackFunction notify,
 	headerGetEntry(fi->h, RPMTAG_FILEMD5S, NULL, 
 				(void *) &fi->fmd5s, NULL);
 
-	fi->flinks = NULL;
-
 	headerGetEntry(fi->h, RPMTAG_FILEMODES, NULL, 
 				(void *) &fi->fmodes, NULL);
 	fi->fmodes = memcpy(malloc(fi->fc * sizeof(*fi->fmodes)),

