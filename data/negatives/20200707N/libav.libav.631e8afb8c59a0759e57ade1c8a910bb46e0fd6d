commit 631e8afb8c59a0759e57ade1c8a910bb46e0fd6d
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Mon Sep 15 20:30:22 2008 +0000

    Correct the threshold of get_ur_golomb_jpegls() at which the optimized
    case is used.
    Fix issue245.
    
    Originally committed as revision 15334 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavcodec/golomb.h b/libavcodec/golomb.h
index a1d904cce..f2fb8928a 100644
--- a/libavcodec/golomb.h
+++ b/libavcodec/golomb.h
@@ -255,7 +255,7 @@ static inline int get_ur_golomb_jpegls(GetBitContext *gb, int k, int limit, int
 
     log= av_log2(buf);
 
-    if(log > 31-11){
+    if(log - k >= 32-MIN_CACHE_BITS){
         buf >>= log - k;
         buf += (30-log)<<k;
         LAST_SKIP_BITS(re, gb, 32 + k - log);

