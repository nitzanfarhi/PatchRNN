commit f9ea47db3d2e9494321131f789e8e5e9513b26dc
Author: Pedro Giffuni <pfg@freebsd.org>
Date:   Fri Apr 7 13:36:06 2017 -0700

    OpenZFS 8046 - Let calloc() do the multiplication in libzfs_fru_refresh
    
    Authored by: Pedro Giffuni <pfg@freebsd.org>
    Approved by: Robert Mustacchi <rm@joyent.com>
    Reviewed by: Matthew Ahrens <mahrens@delphix.com>
    Reviewed by: Paul Dagnelie <pcd@delphix.com>
    Reviewed-by: Brian Behlendorf <behlendorf1@llnl.gov>
    Reviewed-by: George Melikov <mail@gmelikov.ru>
    Ported-by: Giuseppe Di Natale <dinatale2@llnl.gov>
    
    OpenZFS-issue: https://www.illumos.org/issues/8046
    OpenZFS-commit: https://github.com/openzfs/openzfs/commit/3a3c0d5
    Closes #5989

diff --git a/lib/libzfs/libzfs_fru.c b/lib/libzfs/libzfs_fru.c
index bb278aa7b..2ee8bdfb2 100644
--- a/lib/libzfs/libzfs_fru.c
+++ b/lib/libzfs/libzfs_fru.c
@@ -284,7 +284,7 @@ libzfs_fru_refresh(libzfs_handle_t *hdl)
 
 	if (hdl->libzfs_fru_hash == NULL &&
 	    (hdl->libzfs_fru_hash =
-	    calloc(ZFS_FRU_HASH_SIZE * sizeof (void *), 1)) == NULL)
+	    calloc(ZFS_FRU_HASH_SIZE, sizeof (void *))) == NULL)
 		return;
 
 	/*

