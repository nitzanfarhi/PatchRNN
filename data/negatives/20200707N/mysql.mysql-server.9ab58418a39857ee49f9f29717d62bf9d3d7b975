commit 9ab58418a39857ee49f9f29717d62bf9d3d7b975
Author: Pratik Patodi <pratik.patodi@oracle.com>
Date:   Tue Sep 23 14:54:13 2014 +0530

    Bug #19667663 : NDB_SHOW_TABLE TEST CASES FAILING ON SPARC
    
    removed the _dbname parameter from Ndb constructor call,
    and setting the _dbname value to "TEST_DB", if no database name is provied in the option.
    else using the value provied in the option -d.

diff --git a/storage/ndb/tools/listTables.cpp b/storage/ndb/tools/listTables.cpp
index 162c4744b99..675beeb30e9 100644
--- a/storage/ndb/tools/listTables.cpp
+++ b/storage/ndb/tools/listTables.cpp
@@ -326,11 +326,12 @@ int main(int argc, char** argv){
   if (ndb_cluster_connection->wait_until_ready(30,0) < 0)
     fatal("Cluster nodes not ready in 30 seconds.");
 
-  ndb = new Ndb(ndb_cluster_connection, _dbname);
+  ndb = new Ndb(ndb_cluster_connection);
   if (ndb->init() != 0)
     fatal("init");
   if (_dbname == 0 && _tabname != 0)
-        ndb->setDatabaseName("TEST_DB");
+    _dbname = "TEST_DB";
+  ndb->setDatabaseName(_dbname);
   dic = ndb->getDictionary();
   if( argc >0){
     if(!dic->getTable(_tabname)){

