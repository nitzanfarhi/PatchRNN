commit 442f4f36bed8bcadcbda299c615c12fae95eda99
Author: Rene Herman <rene.herman@gmail.com>
Date:   Mon Feb 19 13:07:50 2007 +0100

    [ALSA] gusextreme: set codec_flag
    
    The gusextreme driver neglects to set the gus->codec_flag meaning
    snd_gf1_pcm_new() allocates a second 'PCM Playback Volume' control,
    which makes the driver fail to load.
    
    Signed-off-by: Rene Herman <rene.herman@gmail.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>
    Signed-off-by: Jaroslav Kysela <perex@suse.cz>

diff --git a/sound/isa/gus/gusextreme.c b/sound/isa/gus/gusextreme.c
index 74e34e6e16f2..0aeaa6cf6cf0 100644
--- a/sound/isa/gus/gusextreme.c
+++ b/sound/isa/gus/gusextreme.c
@@ -283,6 +283,7 @@ static int __devinit snd_gusextreme_probe(struct device *dev, unsigned int n)
 			"detected at 0x%lx\n", dev->bus_id, gus->gf1.port);
 		goto out;
 	}
+	gus->codec_flag = 1;
 
 	error = snd_es1688_pcm(es1688, 0, NULL);
 	if (error < 0)

