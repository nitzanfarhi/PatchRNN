commit 2552488345ea0933711010ee2c844792130a4252
Author: Chris Mason <chris.mason@oracle.com>
Date:   Thu Jan 3 15:44:57 2008 -0500

    Btrfs: Lower the max inline size to 8k
    
    Signed-off-by: Chris Mason <chris.mason@oracle.com>

diff --git a/fs/btrfs/file.c b/fs/btrfs/file.c
index e862292bdfc6..94c93373cb7d 100644
--- a/fs/btrfs/file.c
+++ b/fs/btrfs/file.c
@@ -303,7 +303,7 @@ static int noinline dirty_and_release_pages(struct btrfs_trans_handle *trans,
 	 */
 	inline_size = end_pos;
 	if (isize >= BTRFS_MAX_INLINE_DATA_SIZE(root) ||
-	    inline_size > 32768 ||
+	    inline_size > 8192 ||
 	    inline_size >= BTRFS_MAX_INLINE_DATA_SIZE(root)) {
 		u64 last_end;
 		u64 existing_delalloc = 0;

