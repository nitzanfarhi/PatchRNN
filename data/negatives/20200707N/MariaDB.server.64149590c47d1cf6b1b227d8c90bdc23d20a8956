commit 64149590c47d1cf6b1b227d8c90bdc23d20a8956
Author: Vicen»õiu Ciorbaru <vicentiu@mariadb.org>
Date:   Sat Dec 19 13:31:44 2015 +0200

    MDEV-7526: TokuDB doesn't build on OS X
    
    This patch fixes another compilation error caused by specifying
    attribute nonnull for all the parameters of the copyout function. This
    is incorrect as the function actually gets called with null parameters
    indirectly and thus only the output parameter should be nonnull.

diff --git a/storage/tokudb/ft-index/util/dmt.h b/storage/tokudb/ft-index/util/dmt.h
index d4b032f5d6f..43e44df6a70 100644
--- a/storage/tokudb/ft-index/util/dmt.h
+++ b/storage/tokudb/ft-index/util/dmt.h
@@ -679,16 +679,16 @@ class dmt {
     __attribute__((nonnull))
     void rebalance(subtree *const subtree);
 
-    __attribute__((nonnull))
+    __attribute__((nonnull(3)))
     static void copyout(uint32_t *const outlen, dmtdata_t *const out, const dmt_node *const n);
 
-    __attribute__((nonnull))
+    __attribute__((nonnull(3)))
     static void copyout(uint32_t *const outlen, dmtdata_t **const out, dmt_node *const n);
 
-    __attribute__((nonnull))
+    __attribute__((nonnull(4)))
     static void copyout(uint32_t *const outlen, dmtdata_t *const out, const uint32_t len, const dmtdata_t *const stored_value_ptr);
 
-    __attribute__((nonnull))
+    __attribute__((nonnull(4)))
     static void copyout(uint32_t *const outlen, dmtdata_t **const out, const uint32_t len, dmtdata_t *const stored_value_ptr);
 
     template<typename dmtcmp_t,

