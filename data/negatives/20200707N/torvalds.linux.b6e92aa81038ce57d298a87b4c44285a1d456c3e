commit b6e92aa81038ce57d298a87b4c44285a1d456c3e
Author: Laura Abbott <labbott@redhat.com>
Date:   Tue Jan 10 13:35:43 2017 -0800

    kexec: Switch to __pa_symbol
    
    __pa_symbol is the correct api to get the physical address of kernel
    symbols. Switch to it to allow for better debug checking.
    
    Reviewed-by: Mark Rutland <mark.rutland@arm.com>
    Tested-by: Mark Rutland <mark.rutland@arm.com>
    Acked-by: "Eric W. Biederman" <ebiederm@xmission.com>
    Signed-off-by: Laura Abbott <labbott@redhat.com>
    Signed-off-by: Will Deacon <will.deacon@arm.com>

diff --git a/kernel/kexec_core.c b/kernel/kexec_core.c
index 5617cc412444..a01974e1bf6b 100644
--- a/kernel/kexec_core.c
+++ b/kernel/kexec_core.c
@@ -1399,7 +1399,7 @@ void __weak arch_crash_save_vmcoreinfo(void)
 
 phys_addr_t __weak paddr_vmcoreinfo_note(void)
 {
-	return __pa((unsigned long)(char *)&vmcoreinfo_note);
+	return __pa_symbol((unsigned long)(char *)&vmcoreinfo_note);
 }
 
 static int __init crash_save_vmcoreinfo_init(void)

