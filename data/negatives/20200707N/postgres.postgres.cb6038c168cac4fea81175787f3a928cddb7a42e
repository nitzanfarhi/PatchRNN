commit cb6038c168cac4fea81175787f3a928cddb7a42e
Author: Peter Eisentraut <peter_e@gmx.net>
Date:   Thu Jun 3 21:02:12 2010 +0000

    Fix some inconsistent quoting of wal_level values in messages
    
    When referring to postgresql.conf syntax, then it's without quotes
    (wal_level=archive); in narrative it's with double quotes.  But never
    single quotes.

diff --git a/src/backend/access/transam/xlog.c b/src/backend/access/transam/xlog.c
index c154dae0a7..3024d1695e 100644
--- a/src/backend/access/transam/xlog.c
+++ b/src/backend/access/transam/xlog.c
@@ -7,7 +7,7 @@
  * Portions Copyright (c) 1996-2010, PostgreSQL Global Development Group
  * Portions Copyright (c) 1994, Regents of the University of California
  *
- * $PostgreSQL: pgsql/src/backend/access/transam/xlog.c,v 1.416 2010/06/03 03:19:59 rhaas Exp $
+ * $PostgreSQL: pgsql/src/backend/access/transam/xlog.c,v 1.417 2010/06/03 21:02:11 petere Exp $
  *
  *-------------------------------------------------------------------------
  */
@@ -5594,8 +5594,8 @@ CheckRequiredParameterValues(void)
 	if (InArchiveRecovery && ControlFile->wal_level == WAL_LEVEL_MINIMAL)
 	{
 		ereport(WARNING,
-				(errmsg("WAL was generated with wal_level=\"minimal\", data may be missing"),
-				 errhint("This happens if you temporarily set wal_level=\"minimal\" without taking a new base backup.")));
+				(errmsg("WAL was generated with wal_level=minimal, data may be missing"),
+				 errhint("This happens if you temporarily set wal_level=minimal without taking a new base backup.")));
 	}
 
 	/*
@@ -7731,9 +7731,9 @@ XLogReportParameters(void)
 		/*
 		 * The change in number of backend slots doesn't need to be
 		 * WAL-logged if archiving is not enabled, as you can't start
-		 * archive recovery with wal_level='minimal' anyway. We don't
+		 * archive recovery with wal_level=minimal anyway. We don't
 		 * really care about the values in pg_control either if
-		 * wal_level='minimal', but seems better to keep them up-to-date
+		 * wal_level=minimal, but seems better to keep them up-to-date
 		 * to avoid confusion.
 		 */
 		if (wal_level != ControlFile->wal_level || XLogIsNeeded())
diff --git a/src/backend/postmaster/postmaster.c b/src/backend/postmaster/postmaster.c
index 5c7639ef7d..0a3064753d 100644
--- a/src/backend/postmaster/postmaster.c
+++ b/src/backend/postmaster/postmaster.c
@@ -37,7 +37,7 @@
  *
  *
  * IDENTIFICATION
- *	  $PostgreSQL: pgsql/src/backend/postmaster/postmaster.c,v 1.610 2010/05/27 02:01:37 rhaas Exp $
+ *	  $PostgreSQL: pgsql/src/backend/postmaster/postmaster.c,v 1.611 2010/06/03 21:02:11 petere Exp $
  *
  * NOTES
  *
@@ -730,10 +730,10 @@ PostmasterMain(int argc, char *argv[])
 	}
 	if (XLogArchiveMode && wal_level == WAL_LEVEL_MINIMAL)
 		ereport(ERROR,
-				(errmsg("WAL archival (archive_mode='on') requires wal_level 'archive' or 'hot_standby'")));
+				(errmsg("WAL archival (archive_mode=on) requires wal_level \"archive\" or \"hot_standby\"")));
 	if (max_wal_senders > 0 && wal_level == WAL_LEVEL_MINIMAL)
 		ereport(ERROR,
-				(errmsg("WAL streaming (max_wal_senders > 0) requires wal_level 'archive' or 'hot_standby")));
+				(errmsg("WAL streaming (max_wal_senders > 0) requires wal_level \"archive\" or \"hot_standby\"")));
 
 	/*
 	 * Other one-time internal sanity checks can go here, if they are fast.
diff --git a/src/backend/replication/walsender.c b/src/backend/replication/walsender.c
index 1d3b9aa861..d2e37fd008 100644
--- a/src/backend/replication/walsender.c
+++ b/src/backend/replication/walsender.c
@@ -30,7 +30,7 @@
  *
  *
  * IDENTIFICATION
- *	  $PostgreSQL: pgsql/src/backend/replication/walsender.c,v 1.23 2010/05/31 10:44:37 heikki Exp $
+ *	  $PostgreSQL: pgsql/src/backend/replication/walsender.c,v 1.24 2010/06/03 21:02:12 petere Exp $
  *
  *-------------------------------------------------------------------------
  */
@@ -274,7 +274,7 @@ WalSndHandshake(void)
 						if (wal_level == WAL_LEVEL_MINIMAL)
 							ereport(FATAL,
 									(errcode(ERRCODE_CANNOT_CONNECT_NOW),
-									 errmsg("standby connections not allowed because wal_level=\"minimal\"")));
+									 errmsg("standby connections not allowed because wal_level=minimal")));
 
 						/* Send a CopyOutResponse message, and start streaming */
 						pq_beginmessage(&buf, 'H');

