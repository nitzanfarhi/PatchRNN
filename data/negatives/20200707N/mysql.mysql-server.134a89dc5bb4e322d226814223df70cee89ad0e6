commit 134a89dc5bb4e322d226814223df70cee89ad0e6
Author: Allen Lai <zheng.lai@oracle.com>
Date:   Thu Sep 21 19:01:48 2017 +0800

    Followup patch of #bug#25811623 ASAN CRASH IN MY_MB_WC_UTF8_PROTOTYPE WITH FULLTEXT MATCH
    
    Fixed valgrind issue.

diff --git a/storage/innobase/fts/fts0que.cc b/storage/innobase/fts/fts0que.cc
index e468ae5eebb..64315522670 100644
--- a/storage/innobase/fts/fts0que.cc
+++ b/storage/innobase/fts/fts0que.cc
@@ -4061,7 +4061,7 @@ fts_query(
 	the ut_malloc'ed result and so remember to free it before return. */
 
 	lc_query_str_len = query_len * charset->casedn_multiply + charset->mbmaxlen;
-	lc_query_str = static_cast<byte*>(ut_malloc_nokey(lc_query_str_len));
+	lc_query_str = static_cast<byte*>(ut_zalloc_nokey(lc_query_str_len));
 
 	result_len = innobase_fts_casedn_str(
 		charset, (char*) query_str, query_len,

