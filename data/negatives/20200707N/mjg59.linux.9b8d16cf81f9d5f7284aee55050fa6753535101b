commit 9b8d16cf81f9d5f7284aee55050fa6753535101b
Author: Giuseppe CAVALLARO <peppe.cavallaro@st.com>
Date:   Wed Dec 3 12:32:58 2014 +0100

    stmmac: fix max coal timer parameter
    
    This patch is to fix the max coalesce timer setting that can be provided
    by ethtool.
    The default value (STMMAC_COAL_TX_TIMER) was used in the set_coalesce helper
    instead of the max one (STMMAC_MAX_COAL_TX_TICK, so defined but not used).
    
    Signed-off-by: Giuseppe Cavallaro <peppe.cavallaro@st.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/drivers/net/ethernet/stmicro/stmmac/stmmac_ethtool.c b/drivers/net/ethernet/stmicro/stmmac/stmmac_ethtool.c
index 3a08a1f78c73..771cda2a48b2 100644
--- a/drivers/net/ethernet/stmicro/stmmac/stmmac_ethtool.c
+++ b/drivers/net/ethernet/stmicro/stmmac/stmmac_ethtool.c
@@ -696,7 +696,7 @@ static int stmmac_set_coalesce(struct net_device *dev,
 	    (ec->tx_max_coalesced_frames == 0))
 		return -EINVAL;
 
-	if ((ec->tx_coalesce_usecs > STMMAC_COAL_TX_TIMER) ||
+	if ((ec->tx_coalesce_usecs > STMMAC_MAX_COAL_TX_TICK) ||
 	    (ec->tx_max_coalesced_frames > STMMAC_TX_MAX_FRAMES))
 		return -EINVAL;
 

