commit ea656980f40d599400d2306b23f2fbc707ae7313
Author: Sergei Shtylyov <sshtylyov@ru.mvista.com>
Date:   Fri Oct 17 18:09:16 2008 +0200

    sgiioc4: remove maskproc() method
    
    Since the maskproc() method calls either mirror the interrupt en/disable via
    the nIEN bit of the device control register done by the IDE core before issuing
    a command or unmask the interrupt after a command executed in polled mode (when
    interrupt is already not expected), it is pointless to implement this method
    by manipulating the nIEN bit...
    
    Signed-off-by: Sergei Shtylyov <sshtylyov@ru.mvista.com>
    Cc: jeremy@sgi.com
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

diff --git a/drivers/ide/pci/sgiioc4.c b/drivers/ide/pci/sgiioc4.c
index dd634541ce36..8581789352aa 100644
--- a/drivers/ide/pci/sgiioc4.c
+++ b/drivers/ide/pci/sgiioc4.c
@@ -108,13 +108,6 @@ sgiioc4_init_hwif_ports(hw_regs_t * hw, unsigned long data_port,
 		hw->io_ports.irq_addr = irq_port;
 }
 
-static void
-sgiioc4_maskproc(ide_drive_t * drive, int mask)
-{
-	writeb(ATA_DEVCTL_OBS | (mask ? 2 : 0),
-	       (void __iomem *)drive->hwif->io_ports.ctl_addr);
-}
-
 static int
 sgiioc4_checkirq(ide_hwif_t * hwif)
 {
@@ -563,8 +556,6 @@ static const struct ide_port_ops sgiioc4_port_ops = {
 	.set_dma_mode		= sgiioc4_set_dma_mode,
 	/* reset DMA engine, clear IRQs */
 	.resetproc		= sgiioc4_resetproc,
-	/* mask on/off NIEN register */
-	.maskproc		= sgiioc4_maskproc,
 };
 
 static const struct ide_dma_ops sgiioc4_dma_ops = {

