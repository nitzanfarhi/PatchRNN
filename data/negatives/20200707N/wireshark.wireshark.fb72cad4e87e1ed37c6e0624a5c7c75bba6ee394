commit fb72cad4e87e1ed37c6e0624a5c7c75bba6ee394
Author: Guy Harris <guy@alum.mit.edu>
Date:   Mon Oct 26 02:43:26 2015 -0700

    Allocate h245_labels when we initialize the h245dg tap.
    
    Otherwise, it might not exist at the time we try to use it.  (Yes,
    reproducible if you download
    
            https://wiki.wireshark.org/SampleCaptures?action=AttachFile&do=get&target=h223-over-rtp.pcap.gz
    
    load it into Wireshark and, at least in the Qt UI, select Telephony ->
    VoIP Calls - crashes every time on my Mac running Yosemite.)
    
    Change-Id: Iacf5b8ef7fb5749dabeb5fc33d3494b5fc073c03
    Reviewed-on: https://code.wireshark.org/review/11277
    Reviewed-by: Guy Harris <guy@alum.mit.edu>

diff --git a/ui/voip_calls.c b/ui/voip_calls.c
index 0a630276b4..17643d796f 100644
--- a/ui/voip_calls.c
+++ b/ui/voip_calls.c
@@ -291,6 +291,10 @@ voip_calls_reset_all_taps(voip_calls_tapinfo_t *tapinfo)
     tapinfo->rtp_stream_list = NULL;
 
     if (!tapinfo->h245_labels) {
+        /*
+         * XXX - given that we set this in fff, will this ever be
+         * the case?
+         */
         tapinfo->h245_labels = g_new0(h245_labels_t, 1);
     } else {
         memset(tapinfo->h245_labels, 0, sizeof(h245_labels_t));
@@ -2218,6 +2222,8 @@ h245dg_calls_init_tap(voip_calls_tapinfo_t *tap_id_base)
 {
     GString *error_string;
 
+    tap_id_base->h245_labels = g_new0(h245_labels_t, 1);
+
     error_string = register_tap_listener("h245dg", tap_base_to_id(tap_id_base, tap_id_offset_h245dg_), NULL,
             0,
             NULL,

