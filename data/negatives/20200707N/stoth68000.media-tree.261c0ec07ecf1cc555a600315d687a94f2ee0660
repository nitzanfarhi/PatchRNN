commit 261c0ec07ecf1cc555a600315d687a94f2ee0660
Author: Emmanuel Grumbach <emmanuel.grumbach@intel.com>
Date:   Wed Jun 11 15:37:25 2014 +0300

    iwlwifi: mvm: BT Coex - add High Band retention
    
    Tell the firmware if TTC should be enabled when switching
    to High Band.
    
    Signed-off-by: Emmanuel Grumbach <emmanuel.grumbach@intel.com>

diff --git a/drivers/net/wireless/iwlwifi/mvm/coex.c b/drivers/net/wireless/iwlwifi/mvm/coex.c
index 3395df1c5b75..64325b60c0ff 100644
--- a/drivers/net/wireless/iwlwifi/mvm/coex.c
+++ b/drivers/net/wireless/iwlwifi/mvm/coex.c
@@ -587,6 +587,8 @@ int iwl_send_bt_init_conf(struct iwl_mvm *mvm)
 			cpu_to_le32(BT_COEX_MPLUT_BOOST_ENABLED);
 	}
 
+	bt_cmd->enabled_modules |= cpu_to_le32(BT_COEX_HIGH_BAND_RET);
+
 	if (mvm->cfg->bt_shared_single_ant)
 		memcpy(&bt_cmd->decision_lut, iwl_single_shared_ant,
 		       sizeof(iwl_single_shared_ant));
diff --git a/drivers/net/wireless/iwlwifi/mvm/fw-api-coex.h b/drivers/net/wireless/iwlwifi/mvm/fw-api-coex.h
index 98becb9c90fa..fea817d6a9be 100644
--- a/drivers/net/wireless/iwlwifi/mvm/fw-api-coex.h
+++ b/drivers/net/wireless/iwlwifi/mvm/fw-api-coex.h
@@ -220,6 +220,7 @@ enum iwl_bt_coex_enabled_modules {
 	BT_COEX_MPLUT_BOOST_ENABLED	= BIT(1),
 	BT_COEX_SYNC2SCO_ENABLED	= BIT(2),
 	BT_COEX_CORUN_ENABLED		= BIT(3),
+	BT_COEX_HIGH_BAND_RET		= BIT(4),
 }; /* BT_COEX_MODULES_ENABLE_E_VER_1 */
 
 /**

