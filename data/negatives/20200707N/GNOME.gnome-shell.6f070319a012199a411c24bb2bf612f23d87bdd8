commit 6f070319a012199a411c24bb2bf612f23d87bdd8
Author: Dan Winship <danw@gnome.org>
Date:   Mon Jan 24 12:30:34 2011 -0500

    shell-doc-system: fix %-escaping code in shell_doc_system_open()
    
    It was escaping app_exec into app_exec_quoted, but then forgot about
    it and went back to using app_exec.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=640447

diff --git a/src/shell-doc-system.c b/src/shell-doc-system.c
index dab64e9a0..3ee51e6ba 100644
--- a/src/shell-doc-system.c
+++ b/src/shell-doc-system.c
@@ -285,7 +285,8 @@ shell_doc_system_open (ShellDocSystem *system,
           app_exec_quoted = g_regex_replace (regex, app_exec, -1, 0, "%%", 0, NULL);
           g_regex_unref (regex);
 
-          app_info = g_app_info_create_from_commandline (app_exec, NULL, 0, NULL);
+          app_info = g_app_info_create_from_commandline (app_exec_quoted, NULL, 0, NULL);
+          g_free (app_exec_quoted);
 
           /* The point of passing an app launch context to
              launch() is mostly to get startup notification and

