commit 52cb1c2b70d9d2a81e842b90456b7a8158541ffd
Author: Andy Fleming <afleming@freescale.com>
Date:   Wed Jul 18 01:06:28 2007 -0500

    Fix error checking in Vitesse IRQ config
    
    phy_read() returns a negative number if there's an error, but the
    error-checking code in the Vitesse driver's config_intr function
    triggers if phy_read() returns non-zero.  Correct that.
    
    Signed-off-by: Andy Fleming <afleming@freescale.com>
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

diff --git a/drivers/net/phy/vitesse.c b/drivers/net/phy/vitesse.c
index 6a5385647911..8874497b6bbf 100644
--- a/drivers/net/phy/vitesse.c
+++ b/drivers/net/phy/vitesse.c
@@ -109,7 +109,7 @@ static int vsc824x_config_intr(struct phy_device *phydev)
 		 */
 		err = phy_read(phydev, MII_VSC8244_ISTAT);
 
-		if (err)
+		if (err < 0)
 			return err;
 
 		err = phy_write(phydev, MII_VSC8244_IMASK, 0);

