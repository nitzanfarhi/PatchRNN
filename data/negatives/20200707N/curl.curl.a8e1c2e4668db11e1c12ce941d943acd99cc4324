commit a8e1c2e4668db11e1c12ce941d943acd99cc4324
Author: Gisle Vanem <gisle.vanem@gmail.com>
Date:   Wed Aug 2 14:24:51 2017 +0200

    netrc: skip lines starting with '#'
    
    Bug: https://curl.haxx.se/mail/lib-2017-08/0008.html

diff --git a/lib/netrc.c b/lib/netrc.c
index 996711d11..6e4858b3f 100644
--- a/lib/netrc.c
+++ b/lib/netrc.c
@@ -5,7 +5,7 @@
  *                            | (__| |_| |  _ <| |___
  *                             \___|\___/|_| \_\_____|
  *
- * Copyright (C) 1998 - 2016, Daniel Stenberg, <daniel@haxx.se>, et al.
+ * Copyright (C) 1998 - 2017, Daniel Stenberg, <daniel@haxx.se>, et al.
  *
  * This software is licensed as described in the file COPYING, which
  * you should have received as part of this distribution. The terms
@@ -119,6 +119,9 @@ int Curl_parsenetrc(const char *host,
 
     while(!done && fgets(netrcbuffer, netrcbuffsize, file)) {
       tok=strtok_r(netrcbuffer, " \t\n", &tok_buf);
+      if(tok && *tok == '#')
+        /* treat an initial hash as a comment line */
+        continue;
       while(!done && tok) {
 
         if((*loginp && **loginp) && (*passwordp && **passwordp)) {

