commit a37235a3d63d544b22ba50c14470ef169b2e9436
Author: Alek Pinchuk <apinchuk@datto.com>
Date:   Thu Nov 2 13:42:10 2017 -0400

    8074 need to add FMA event for SSD wearout (fix was incomplete)

diff --git a/usr/src/lib/fm/libdiskstatus/common/ds_scsi.c b/usr/src/lib/fm/libdiskstatus/common/ds_scsi.c
index 081f441dd9..2f7e6c63e5 100644
--- a/usr/src/lib/fm/libdiskstatus/common/ds_scsi.c
+++ b/usr/src/lib/fm/libdiskstatus/common/ds_scsi.c
@@ -1210,10 +1210,10 @@ logpage_ssm_analyze(ds_scsi_info_t *sip, scsi_log_parameter_header_t *lphp,
 	nvlist_t *nvl;
 	int i, plen = 0;
 
-	assert(sip->si_dsp->ds_overtemp == NULL);
-	if (nvlist_alloc(&sip->si_dsp->ds_overtemp, NV_UNIQUE_NAME, 0) != 0)
+	assert(sip->si_dsp->ds_ssmwearout == NULL);
+	if (nvlist_alloc(&sip->si_dsp->ds_ssmwearout, NV_UNIQUE_NAME, 0) != 0)
 		return (scsi_set_errno(sip, EDS_NOMEM));
-	nvl = sip->si_dsp->ds_overtemp;
+	nvl = sip->si_dsp->ds_ssmwearout;
 
 	for (i = 0; i < log_length; i += plen) {
 		lphp = (scsi_log_parameter_header_t *)((uint8_t *)lphp + plen);

