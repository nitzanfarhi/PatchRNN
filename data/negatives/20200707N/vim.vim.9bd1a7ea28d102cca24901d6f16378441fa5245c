commit 9bd1a7ea28d102cca24901d6f16378441fa5245c
Author: Bram Moolenaar <Bram@vim.org>
Date:   Thu May 19 14:50:54 2011 +0200

    updated for version 7.3.193
    Problem:    In the command line window ":close" doesn't work properly. (Tony
                Mechelynck)
    Solution:   Use Ctrl_C instead of K_IGNORE for cmdwin_result. (Jean-Rene
                David)

diff --git a/src/ex_docmd.c b/src/ex_docmd.c
index 49aadd358..1598d893e 100644
--- a/src/ex_docmd.c
+++ b/src/ex_docmd.c
@@ -6472,7 +6472,7 @@ ex_close(eap)
 {
 # ifdef FEAT_CMDWIN
     if (cmdwin_type != 0)
-	cmdwin_result = K_IGNORE;
+	cmdwin_result = Ctrl_C;
     else
 # endif
 	if (!text_locked()
diff --git a/src/ex_getln.c b/src/ex_getln.c
index ed45f5716..6dc5c3501 100644
--- a/src/ex_getln.c
+++ b/src/ex_getln.c
@@ -6324,6 +6324,12 @@ ex_window()
 	    ccline.cmdbuff = vim_strsave((char_u *)"qa");
 	    cmdwin_result = CAR;
 	}
+	else if (cmdwin_result == Ctrl_C)
+	{
+	    /* :q or :close, don't execute any command
+	     * and don't modify the cmd window. */
+	    ccline.cmdbuff = NULL;
+	}
 	else
 	    ccline.cmdbuff = vim_strsave(ml_get_curline());
 	if (ccline.cmdbuff == NULL)
diff --git a/src/version.c b/src/version.c
index 94f1a95d6..1bd185844 100644
--- a/src/version.c
+++ b/src/version.c
@@ -709,6 +709,8 @@ static char *(features[]) =
 
 static int included_patches[] =
 {   /* Add new patch number below this line */
+/**/
+    193,
 /**/
     192,
 /**/

