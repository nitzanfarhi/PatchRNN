commit 65a777f3316fb3a3adfa61739a091bb9d61582a8
Author: Vasiliy Ganchev <vance@ukr.net>
Date:   Fri Nov 24 13:54:13 2017 +0200

    http_client: add missed useragent parameter
    
    While preparing query_params, "useragent" was missed - add it.

diff --git a/src/modules/http_client/functions.c b/src/modules/http_client/functions.c
index d19910f90..3dfe21a8a 100644
--- a/src/modules/http_client/functions.c
+++ b/src/modules/http_client/functions.c
@@ -552,6 +552,7 @@ int curl_con_query_url_f(struct sip_msg* _m, const str *connection,
 	query_params.cacert = default_tls_cacert;
 	query_params.ciphersuites = conn->ciphersuites;
 	query_params.tlsversion = conn->tlsversion;
+	query_params.useragent = conn->useragent;
 	query_params.verify_peer = conn->verify_peer;
 	query_params.verify_host = conn->verify_host;
 	query_params.timeout = conn->timeout;

