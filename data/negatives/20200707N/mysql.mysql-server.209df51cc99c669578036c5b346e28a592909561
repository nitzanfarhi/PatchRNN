commit 209df51cc99c669578036c5b346e28a592909561
Author: Tor Didriksen <tor.didriksen@oracle.com>
Date:   Mon Dec 20 10:00:14 2010 +0100

    Bug #59021 Valgrind warning in key_unpack()
    
    Introduced by fix for Bug#57687

diff --git a/sql/sql_select.cc b/sql/sql_select.cc
index e14b872d18e..3b8dc2e170a 100644
--- a/sql/sql_select.cc
+++ b/sql/sql_select.cc
@@ -10720,6 +10720,7 @@ create_tmp_table(THD *thd,TMP_TABLE_PARAM *param,List<Item> &fields,
 	 (ha_base_keytype) key_part_info->type == HA_KEYTYPE_VARTEXT1 ||
 	 (ha_base_keytype) key_part_info->type == HA_KEYTYPE_VARTEXT2) ?
 	0 : FIELDFLAG_BINARY;
+      key_part_info->key_part_flag= 0;
       if (!using_unique_constraint)
       {
 	cur_group->buff=(char*) group_buff;

