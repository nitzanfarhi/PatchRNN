commit c0dbd8318cf521ba2700c8d736643eda7073d093
Author: Tim Wickberg <tim@schedmd.com>
Date:   Tue Sep 13 15:45:15 2016 -0400

    Fix issues from memory conversion.
    
    Coverity 147131, 147130, 147129.

diff --git a/src/common/slurm_protocol_pack.c b/src/common/slurm_protocol_pack.c
index 368c9c6882..b53ae92675 100644
--- a/src/common/slurm_protocol_pack.c
+++ b/src/common/slurm_protocol_pack.c
@@ -3786,7 +3786,7 @@ _unpack_resource_allocation_response_msg(
 	tmp_ptr = xmalloc(sizeof(resource_allocation_response_msg_t));
 	*msg = tmp_ptr;
 
-	if (protocol_version >= SLURM_16_05_PROTOCOL_VERSION) {
+	if (protocol_version >= SLURM_17_02_PROTOCOL_VERSION) {
 		safe_unpackstr_xmalloc(&tmp_ptr->account, &uint32_tmp,
 				       buffer);
 		safe_unpackstr_xmalloc(&tmp_ptr->alias_list, &uint32_tmp,
diff --git a/src/slurmctld/partition_mgr.c b/src/slurmctld/partition_mgr.c
index d27e44f8ce..2866c1457d 100644
--- a/src/slurmctld/partition_mgr.c
+++ b/src/slurmctld/partition_mgr.c
@@ -1200,7 +1200,7 @@ void pack_part(struct part_record *part_ptr, Buf buffer,
 {
 	uint32_t altered;
 
-	if (protocol_version >= SLURM_16_05_PROTOCOL_VERSION) {
+	if (protocol_version >= SLURM_17_02_PROTOCOL_VERSION) {
 		if (default_part_loc == part_ptr)
 			part_ptr->flags |= PART_FLAG_DEFAULT;
 		else
diff --git a/src/sview/job_info.c b/src/sview/job_info.c
index 475af9bce7..5ca58db842 100644
--- a/src/sview/job_info.c
+++ b/src/sview/job_info.c
@@ -916,7 +916,7 @@ static const char *_set_job_msg(job_desc_msg_t *job_msg, const char *new_text,
 		else
 			type = "min memory per node";
 
-		if (temp_int <= 0)
+		if (temp_ll <= 0)
 			goto return_error;
 		job_msg->pn_min_memory = (uint64_t) temp_ll;
 		if (p)

