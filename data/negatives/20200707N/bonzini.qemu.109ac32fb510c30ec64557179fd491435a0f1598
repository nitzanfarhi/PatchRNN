commit 109ac32fb510c30ec64557179fd491435a0f1598
Author: Juha Riihimäki <juha.riihimaki@nokia.com>
Date:   Thu Dec 3 15:56:07 2009 +0200

    handle SD CMD5 without error messages
    
    From: Juha Riihimäki <juha.riihimaki@nokia.com>
    Signed-off-by: Juha Riihimäki <juha.riihimaki@nokia.com>
    Signed-off-by: Riku Voipio <riku.voipio@nokia.com>
    Signed-off-by: Aurelien Jarno <aurelien@aurel32.net>

diff --git a/hw/sd.c b/hw/sd.c
index 7b345e71fb..cc2839d1a5 100644
--- a/hw/sd.c
+++ b/hw/sd.c
@@ -669,6 +669,10 @@ static sd_rsp_type_t sd_normal_command(SDState *sd,
         }
         break;
 
+    case 5: /* CMD5: reserved for SDIO cards */
+        sd->card_status |= ILLEGAL_COMMAND;
+        return sd_r0;
+
     case 6:	/* CMD6:   SWITCH_FUNCTION */
         if (sd->spi)
             goto bad_cmd;

