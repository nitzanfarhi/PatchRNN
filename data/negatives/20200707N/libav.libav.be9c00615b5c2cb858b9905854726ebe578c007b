commit be9c00615b5c2cb858b9905854726ebe578c007b
Author: Zohar Kelrich <lumimies@gmail.com>
Date:   Sun Jul 24 11:13:50 2011 +0300

    mpegts: Silence "can't seek" warning on unseekable
    
    Do not try to seek when we already know we are not allowed to.
    Silences warning that always happens when streaming.
    
    Signed-off-by: Zohar Kelrich <lumimies@gmail.com>
    Signed-off-by: Luca Barbato <lu_zero@gentoo.org>

diff --git a/libavformat/mpegts.c b/libavformat/mpegts.c
index e9b984dc1..410507db6 100644
--- a/libavformat/mpegts.c
+++ b/libavformat/mpegts.c
@@ -1488,7 +1488,7 @@ static int mpegts_read_header(AVFormatContext *s,
         /* normal demux */
 
         /* first do a scaning to get all the services */
-        if (avio_seek(pb, pos, SEEK_SET) < 0)
+        if (pb->seekable && avio_seek(pb, pos, SEEK_SET) < 0)
             av_log(s, AV_LOG_ERROR, "Unable to seek back to the start\n");
 
         mpegts_open_section_filter(ts, SDT_PID, sdt_cb, ts, 1);

