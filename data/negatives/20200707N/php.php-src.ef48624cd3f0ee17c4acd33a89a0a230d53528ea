commit ef48624cd3f0ee17c4acd33a89a0a230d53528ea
Author: Pierrick Charron <pierrick@php.net>
Date:   Mon Aug 22 01:11:22 2011 +0000

    - Fixed bug #55156 (ReflectionClass::getDocComment() returns comment even though the class has none)
    # Patch was not committed on the PHP5.3 branch

diff --git a/Zend/zend_compile.c b/Zend/zend_compile.c
index ff61702261..11138570a5 100644
--- a/Zend/zend_compile.c
+++ b/Zend/zend_compile.c
@@ -5184,6 +5184,12 @@ void zend_do_begin_namespace(const znode *name, zend_bool with_bracket TSRMLS_DC
 		efree(CG(current_import));
 		CG(current_import) = NULL;
 	}
+
+	if (CG(doc_comment)) {
+		efree(CG(doc_comment));
+		CG(doc_comment) = NULL;
+		CG(doc_comment_len) = 0;
+	}
 }
 /* }}} */
 

