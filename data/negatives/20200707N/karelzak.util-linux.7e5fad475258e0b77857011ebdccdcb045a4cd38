commit 7e5fad475258e0b77857011ebdccdcb045a4cd38
Author: Karel Zak <kzak@redhat.com>
Date:   Mon Nov 26 15:19:29 2007 +0100

    fdisk: non-linux support (MAXPATHLEN)
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

diff --git a/fdisk/fdiskbsdlabel.c b/fdisk/fdiskbsdlabel.c
index 01912ab52..377b64ec4 100644
--- a/fdisk/fdiskbsdlabel.c
+++ b/fdisk/fdiskbsdlabel.c
@@ -515,7 +515,7 @@ static void
 xbsd_write_bootstrap (void)
 {
   char *bootdir = BSD_LINUX_BOOTDIR;
-  char path[MAXPATHLEN];
+  char path[sizeof(BSD_LINUX_BOOTDIR) + 1 + 2 + 4];  /* BSD_LINUX_BOOTDIR + / + {sd,wd} + boot */
   char *dkbasename;
   struct xbsd_disklabel dl;
   char *d, *p, *e;

