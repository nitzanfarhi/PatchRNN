commit 5df38e7f1766f73f5e13c921d58214c9cf266631
Author: Poul-Henning Kamp <phk@phk.freebsd.dk>
Date:   Mon Apr 3 14:41:51 2006 +0000

    Move memset further up.
    
    
    git-svn-id: http://www.varnish-cache.org/svn/trunk/varnish-cache@102 d4fa192b-c00b-0410-8231-f00ffab90ce4

diff --git a/bin/varnishd/cache_httpd.c b/bin/varnishd/cache_httpd.c
index 5c74b0205..0694c913e 100644
--- a/bin/varnishd/cache_httpd.c
+++ b/bin/varnishd/cache_httpd.c
@@ -21,6 +21,8 @@ HttpdAnalyze(struct sess *sp)
 
 	sp->handling = HND_Unclass;
 
+	memset(&sp->http, 0, sizeof sp->http);
+
 	/* First, isolate and possibly identify request type */
 	sp->http.req = sp->rcv;
 	for (p = sp->rcv; isalpha(*p); p++)
@@ -55,8 +57,6 @@ HttpdAnalyze(struct sess *sp)
 	if (*p == '\r')
 		p++;
 
-	memset(&sp->http, 0, sizeof sp->http);
-
 	for (; p < sp->rcv + sp->rcv_len; p = r) {
 		q = strchr(p, '\n');
 		r = q + 1;

