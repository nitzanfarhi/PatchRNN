commit 2fe6bd3d49c7d54fd7e52605f1f35ef3df7516a7
Author: John Spray <john.spray@redhat.com>
Date:   Fri Jul 24 14:46:49 2015 +0100

    osdc: fix pgls_filter op encoding
    
    This was broken with respect to the OSD's expected order
    of decoding.
    
    Signed-off-by: John Spray <john.spray@redhat.com>

diff --git a/src/osdc/Objecter.h b/src/osdc/Objecter.h
index 7c49efb95c..65a3569cc2 100644
--- a/src/osdc/Objecter.h
+++ b/src/osdc/Objecter.h
@@ -194,8 +194,8 @@ struct ObjectOperation {
     string mname = "filter";
     ::encode(cname, osd_op.indata);
     ::encode(mname, osd_op.indata);
-    ::encode(cookie, osd_op.indata);
     osd_op.indata.append(filter);
+    ::encode(cookie, osd_op.indata);
   }
   void add_alloc_hint(int op, uint64_t expected_object_size,
                       uint64_t expected_write_size) {

