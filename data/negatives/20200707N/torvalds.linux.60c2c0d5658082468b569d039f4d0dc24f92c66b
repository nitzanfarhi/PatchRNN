commit 60c2c0d5658082468b569d039f4d0dc24f92c66b
Author: Jiri Pinkava <jiri.pinkava@vscht.cz>
Date:   Tue May 25 09:48:58 2010 +0200

    ARM: SAMSUNG: MMC: fix build error when both DMA and PIO mode selected
    
    [cjb: fix line-wrapped patch]
    Signed-off-by: Jiri Pinkava <jiri.pinkava@vscht.cz>
    Signed-off-by: Chris Ball <cjb@laptop.org>
    Cc: Matt Fleming <matt@console-pimps.org>
    Cc: Russell King <rmk@arm.linux.org.uk>
    Cc: Ben Dooks <ben-linux@fluff.org>
    Cc: <linux-mmc@vger.kernel.org>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

diff --git a/drivers/mmc/host/s3cmci.c b/drivers/mmc/host/s3cmci.c
index 2e16e0a90a5e..976330de379e 100644
--- a/drivers/mmc/host/s3cmci.c
+++ b/drivers/mmc/host/s3cmci.c
@@ -1600,7 +1600,7 @@ static int __devinit s3cmci_probe(struct platform_device *pdev)
 	host->pio_active 	= XFER_NONE;
 
 #ifdef CONFIG_MMC_S3C_PIODMA
-	host->dodma		= host->pdata->dma;
+	host->dodma		= host->pdata->use_dma;
 #endif
 
 	host->mem = platform_get_resource(pdev, IORESOURCE_MEM, 0);

