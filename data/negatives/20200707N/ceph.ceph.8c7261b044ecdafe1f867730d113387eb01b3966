commit 8c7261b044ecdafe1f867730d113387eb01b3966
Author: huanwen ren <ren.huanwen@zte.com.cn>
Date:   Mon Feb 1 11:57:47 2016 +0800

    Rgw: check the return value when call fe->run()
    
    Fixes: #14585
    Signed-off-by: wei qiaomiao <wei.qiaomiao@zte.com.cn>

diff --git a/src/rgw/rgw_main.cc b/src/rgw/rgw_main.cc
index 181d943c92..bf8a4c52c0 100644
--- a/src/rgw/rgw_main.cc
+++ b/src/rgw/rgw_main.cc
@@ -1271,7 +1271,11 @@ int main(int argc, const char **argv)
       derr << "ERROR: failed initializing frontend" << dendl;
       return -r;
     }
-    fe->run();
+    r = fe->run();
+    if (r < 0) {
+      derr << "ERROR: failed run" << dendl;
+      return -r;
+    }
 
     fes.push_back(fe);
   }

