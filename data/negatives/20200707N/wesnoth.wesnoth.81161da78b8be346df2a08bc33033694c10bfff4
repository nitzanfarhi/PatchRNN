commit 81161da78b8be346df2a08bc33033694c10bfff4
Author: gfgtdf <tischpapier@gmail.com>
Date:   Mon Jun 16 20:34:25 2014 +0200

    preserve [story] on random scenario generation
    
    this was the previous behaviour. That also HttT 17 expects.

diff --git a/src/saved_game.cpp b/src/saved_game.cpp
index b82b93e8b8..c5f0e16441 100644
--- a/src/saved_game.cpp
+++ b/src/saved_game.cpp
@@ -318,8 +318,14 @@ void saved_game::expand_random_scenario()
 			LOG_NG << "randomly generating scenario...\n";
 			const cursor::setter cursor_setter(cursor::WAIT);
 
-			starting_pos_ = random_generate_scenario(starting_pos_["scenario_generation"],
+			config scenario_new = random_generate_scenario(starting_pos_["scenario_generation"],
 				starting_pos_.child("generator"));
+			//Preserve "story" form the scenario toplevel.
+			BOOST_FOREACH(config& story, starting_pos_.child_range("story"))
+			{
+				scenario_new.add_child("story", story);
+			}
+			starting_pos_ = scenario_new;
 		}
 		//it looks like we support a map= where map=filename equals more or less map_data={filename}
 		if(starting_pos_["map_data"].empty() && starting_pos_["map"] != "") {

