commit d05434ac40029afb1e26b620940f6ba33c03a0f1
Author: jacekm <jacekm@openbsd.org>
Date:   Mon Feb 16 10:15:10 2009 +0000

    Don't warn about F_MESSAGE_SCHEDULED flag being present in on-disk version of
    the envelope; ok gilles@

diff --git a/usr.sbin/smtpd/queue_shared.c b/usr.sbin/smtpd/queue_shared.c
index 53f6a74bb36..b44d1aff89d 100644
--- a/usr.sbin/smtpd/queue_shared.c
+++ b/usr.sbin/smtpd/queue_shared.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: queue_shared.c,v 1.8 2009/02/15 13:44:06 jacekm Exp $	*/
+/*	$OpenBSD: queue_shared.c,v 1.9 2009/02/16 10:15:10 jacekm Exp $	*/
 
 /*
  * Copyright (c) 2008 Gilles Chehade <gilles@openbsd.org>
@@ -694,10 +694,12 @@ display_envelope(struct message *envelope, int flags)
 		errx(1, "%s: unexpected status 0x%04x", envelope->message_uid,
 		    envelope->status);
 
-	getflag(&envelope->flags, F_MESSAGE_SCHEDULED, "SCHEDULED",
+	getflag(&envelope->flags, F_MESSAGE_AUTHENTICATED, "AUTH",
 	    status, sizeof(status));
 	getflag(&envelope->flags, F_MESSAGE_PROCESSING, "PROCESSING",
 	    status, sizeof(status));
+	getflag(&envelope->flags, F_MESSAGE_SCHEDULED, "SCHEDULED",
+	    status, sizeof(status));
 
 	if (envelope->flags)
 		errx(1, "%s: unexpected flags 0x%04x", envelope->message_uid,

