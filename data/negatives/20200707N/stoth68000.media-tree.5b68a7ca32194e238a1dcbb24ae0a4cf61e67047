commit 5b68a7ca32194e238a1dcbb24ae0a4cf61e67047
Author: Dan Carpenter <dan.carpenter@oracle.com>
Date:   Fri Dec 16 23:26:00 2011 +0300

    NFC: use kfree_skb() for sk_buffs
    
    This is a struct sk_buff pointer and it should be freed with kfree_skb()
    instead of kfree().
    
    Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com>
    Acked-by: Samuel Ortiz <sameo@linux.intel.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

diff --git a/net/nfc/llcp/llcp.c b/net/nfc/llcp/llcp.c
index f99d6b4658ed..1d32680807d6 100644
--- a/net/nfc/llcp/llcp.c
+++ b/net/nfc/llcp/llcp.c
@@ -954,7 +954,7 @@ void nfc_llcp_unregister_device(struct nfc_dev *dev)
 	skb_queue_purge(&local->tx_queue);
 	destroy_workqueue(local->tx_wq);
 	destroy_workqueue(local->rx_wq);
-	kfree(local->rx_pending);
+	kfree_skb(local->rx_pending);
 	kfree(local);
 }
 

