commit dd6255588a56e755380b66275ff4f35a8243b64a
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Sun Jan 11 15:18:19 2015 -0800

    Bluetooth: Add BUILD_BUG_ON for size of struct sockaddr_l2
    
    This adds an extra check for ensuring that the size of sockaddr_l2
    does not grow larger than sockaddr.
    
    Signed-off-by: Marcel Holtmann <marcel@holtmann.org>
    Signed-off-by: Johan Hedberg <johan.hedberg@intel.com>

diff --git a/net/bluetooth/l2cap_sock.c b/net/bluetooth/l2cap_sock.c
index f65caf41953f..20206cd3acbc 100644
--- a/net/bluetooth/l2cap_sock.c
+++ b/net/bluetooth/l2cap_sock.c
@@ -1614,6 +1614,8 @@ int __init l2cap_init_sockets(void)
 {
 	int err;
 
+	BUILD_BUG_ON(sizeof(struct sockaddr_l2) > sizeof(struct sockaddr));
+
 	err = proto_register(&l2cap_proto, 0);
 	if (err < 0)
 		return err;

