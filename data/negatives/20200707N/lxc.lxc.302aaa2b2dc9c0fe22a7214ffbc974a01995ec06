commit 302aaa2b2dc9c0fe22a7214ffbc974a01995ec06
Author: Michael Santos <michael.santos@gmail.com>
Date:   Wed Mar 16 10:04:13 2011 -0400

    Exit if allocation fails
    
    Signed-off-by: Michael Santos <michael.santos@gmail.com>
    Signed-off-by: Daniel Lezcano <dlezcano@fr.ibm.com>

diff --git a/src/lxc/lxc_monitor.c b/src/lxc/lxc_monitor.c
index 314d4a5e..1da09061 100644
--- a/src/lxc/lxc_monitor.c
+++ b/src/lxc/lxc_monitor.c
@@ -69,6 +69,10 @@ int main(int argc, char *argv[])
 		return -1;
 
 	regexp = malloc(strlen(my_args.name) + 3);
+	if (!regexp) {
+		ERROR("failed to allocate memory");
+		return -1;
+	}
 	sprintf(regexp, "^%s$", my_args.name);
 
 	if (regcomp(&preg, regexp, REG_NOSUB|REG_EXTENDED)) {

