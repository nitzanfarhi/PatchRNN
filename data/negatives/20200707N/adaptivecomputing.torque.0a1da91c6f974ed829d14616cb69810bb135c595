commit 0a1da91c6f974ed829d14616cb69810bb135c595
Author: glen <glen@8f940c70-5916-0410-ac46-d1fa2fa6ea29>
Date:   Tue Sep 9 01:20:53 2008 +0000

    fix segfault if job array struct can not be recovered (from 2.3-fixes)

diff --git a/src/server/pbsd_init.c b/src/server/pbsd_init.c
index b2b9b881f..69e57ec9b 100644
--- a/src/server/pbsd_init.c
+++ b/src/server/pbsd_init.c
@@ -796,6 +796,15 @@ int pbsd_init(
         if (pa == NULL)
           {
           /* TODO GB */
+
+          sprintf(log_buffer,
+                  "could not recover array-struct from file %s--skipping",
+                  pdirent->d_name);
+
+          log_err(errno, "pbsd_init", log_buffer);
+
+          continue;
+
           }
 
         pa->jobs_recovered = 0;

