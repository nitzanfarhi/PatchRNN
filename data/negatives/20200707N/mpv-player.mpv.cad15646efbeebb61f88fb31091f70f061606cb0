commit cad15646efbeebb61f88fb31091f70f061606cb0
Author: rtognimp <rtognimp@b3059339-0415-0410-9bf9-f77b7e298cf2>
Date:   Sat Apr 24 13:19:20 2004 +0000

    Stop parsing an url after connection failure
    Patch by adland
    
    
    git-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@12270 b3059339-0415-0410-9bf9-f77b7e298cf2

diff --git a/libmpdemux/open.c b/libmpdemux/open.c
index 65719223b0..af1eafee28 100644
--- a/libmpdemux/open.c
+++ b/libmpdemux/open.c
@@ -527,8 +527,8 @@ if(strncmp("dvd://",filename,6) == 0){
         stream=new_stream(f,STREAMTYPE_STREAM);
 	if( streaming_start( stream, file_format, url )<0){
           mp_msg(MSGT_OPEN,MSGL_ERR,MSGTR_UnableOpenURL, filename);
-	  //url_free(url);
-	  //return NULL;
+	  url_free(url);
+	  return NULL;
 	} else {
         mp_msg(MSGT_OPEN,MSGL_INFO,MSGTR_ConnToServer, url->hostname );
 	url_free(url);

