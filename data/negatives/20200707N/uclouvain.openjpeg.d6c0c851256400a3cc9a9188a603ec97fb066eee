commit d6c0c851256400a3cc9a9188a603ec97fb066eee
Author: Antonin Descampe <antonin@gmail.com>
Date:   Wed Feb 12 15:16:36 2014 +0000

    [trunk] added a warning when tif conversion changes input image bitdepth

diff --git a/src/bin/jp2/convert.c b/src/bin/jp2/convert.c
index 4144a395..6997def9 100644
--- a/src/bin/jp2/convert.c
+++ b/src/bin/jp2/convert.c
@@ -2535,6 +2535,14 @@ opj_image_t* tiftoimage(const char *filename, opj_cparameters_t *parameters)
 */ 
     memset(&cmptparm[0], 0, 4 * sizeof(opj_image_cmptparm_t));
 
+    if ((tiPhoto == PHOTOMETRIC_RGB) && (parameters->cp_cinema)) {
+        fprintf(stdout,"WARNING:\n"
+                "Input image bitdepth is %d bits\n"
+                "TIF conversion has automatically rescaled to 12-bits\n"
+                "to comply with cinema profiles.\n",
+                tiBps);
+    }
+
     if(tiPhoto == PHOTOMETRIC_RGB) /* RGB(A) */
     {
         numcomps = 3 + has_alpha;

