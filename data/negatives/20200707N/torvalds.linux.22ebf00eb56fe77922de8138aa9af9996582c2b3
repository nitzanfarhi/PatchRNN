commit 22ebf00eb56fe77922de8138aa9af9996582c2b3
Author: Lukasz Gemborowski <lukasz.gemborowski@nokia.com>
Date:   Mon Jun 27 12:57:47 2016 +0200

    i2c: mux: reg: wrong condition checked for of_address_to_resource return value
    
    of_address_to_resource return 0 on successful call but
    devm_ioremap_resource is called only if it returns non-zero value
    
    Signed-off-by: Lukasz Gemborowski <lukasz.gemborowski@nokia.com>
    Reviewed-by: Alexander Sverdlin <alexander.sverdlin@nokia.com>
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>
    Cc: stable@kernel.org

diff --git a/drivers/i2c/muxes/i2c-mux-reg.c b/drivers/i2c/muxes/i2c-mux-reg.c
index 26e7c5187a58..c6a90b4a9c62 100644
--- a/drivers/i2c/muxes/i2c-mux-reg.c
+++ b/drivers/i2c/muxes/i2c-mux-reg.c
@@ -145,7 +145,7 @@ static int i2c_mux_reg_probe_dt(struct regmux *mux,
 		mux->data.idle_in_use = true;
 
 	/* map address from "reg" if exists */
-	if (of_address_to_resource(np, 0, &res)) {
+	if (of_address_to_resource(np, 0, &res) == 0) {
 		mux->data.reg_size = resource_size(&res);
 		mux->data.reg = devm_ioremap_resource(&pdev->dev, &res);
 		if (IS_ERR(mux->data.reg))

