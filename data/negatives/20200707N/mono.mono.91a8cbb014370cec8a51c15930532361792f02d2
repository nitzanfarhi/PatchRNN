commit 91a8cbb014370cec8a51c15930532361792f02d2
Author: Zoltan Varga <vargaz@gmail.com>
Date:   Fri Nov 5 07:45:33 2010 +0100

    Fix a bug introduced by the previous change to mono_jit_walk_stack_from_ctx_in_thread ().

diff --git a/mono/mini/mini-exceptions.c b/mono/mini/mini-exceptions.c
index efaa58b15e3..9e06be23404 100644
--- a/mono/mini/mini-exceptions.c
+++ b/mono/mini/mini-exceptions.c
@@ -742,6 +742,7 @@ mono_jit_walk_stack_from_ctx_in_thread (MonoJitStackWalk func, MonoDomain *domai
 				/*
 				 * FIXME: These frames show up twice, and ctx could refer to native code.
 				 */
+				ctx = new_ctx;
 				continue;
 			}
 			frame.actual_method = get_method_from_stack_frame (frame.ji, get_generic_info_from_stack_frame (frame.ji, &ctx));

