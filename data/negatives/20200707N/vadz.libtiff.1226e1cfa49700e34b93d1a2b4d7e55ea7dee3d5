commit 1226e1cfa49700e34b93d1a2b4d7e55ea7dee3d5
Author: dron <dron>
Date:   Thu Feb 23 15:55:02 2006 +0000

    Do not hide automatic counter.

diff --git a/libtiff/tif_dir.c b/libtiff/tif_dir.c
index 7c5e4f10..10eff030 100644
--- a/libtiff/tif_dir.c
+++ b/libtiff/tif_dir.c
@@ -853,11 +853,11 @@ _TIFFVGetField(TIFF* tif, ttag_t tag, va_list ap)
 				*va_arg(ap, void **) = tv->value;
 				ret_val = 1;
 			} else {
-			    int i;
+			    int j;
 			    char *val = (char *)tv->value;
 
-			    for (i = 0; i < tv->count;
-				 i++, val += _TIFFDataSize(fip->field_type)) {
+			    for (j = 0; j < tv->count;
+				 j++, val += _TIFFDataSize(tv->info->field_type)) {
 				switch (fip->field_type) {
 					case TIFF_BYTE:
 					case TIFF_UNDEFINED:

