commit 9e80fe1c15ea0fa5277585f3428c394a24b4e090
Author: wm4 <wm4@nowhere>
Date:   Fri Jun 28 20:29:42 2013 +0200

    vf_rotate: fix params >= 4

diff --git a/video/filter/vf_rotate.c b/video/filter/vf_rotate.c
index 09b3d09add..0e5fbdbd37 100644
--- a/video/filter/vf_rotate.c
+++ b/video/filter/vf_rotate.c
@@ -73,6 +73,8 @@ static int config(struct vf_instance *vf, int width, int height,
         if (width < height)
             vf->priv->direction &= 3;
     }
+    if (vf->priv->direction & 4)
+        return vf_next_config(vf, width, height, d_width, d_height, flags, outfmt);
     struct mp_imgfmt_desc desc = mp_imgfmt_get_desc(outfmt);
     int a_w = MP_ALIGN_DOWN(width, desc.align_x);
     int a_h = MP_ALIGN_DOWN(height, desc.align_y);

