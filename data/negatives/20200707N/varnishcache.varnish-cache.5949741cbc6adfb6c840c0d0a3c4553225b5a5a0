commit 5949741cbc6adfb6c840c0d0a3c4553225b5a5a0
Author: Poul-Henning Kamp <phk@phk.freebsd.dk>
Date:   Wed Jul 19 19:45:51 2006 +0000

    Delete the right list item.
    
    
    git-svn-id: http://www.varnish-cache.org/svn/trunk/varnish-cache@503 d4fa192b-c00b-0410-8231-f00ffab90ce4

diff --git a/bin/varnishd/cache_session.c b/bin/varnishd/cache_session.c
index 0a74be4a8..6b9b4a98c 100644
--- a/bin/varnishd/cache_session.c
+++ b/bin/varnishd/cache_session.c
@@ -87,8 +87,8 @@ SES_RefSrcAddr(struct sess *sp)
 			c3 = c;
 			continue;
 		}
-		TAILQ_REMOVE(ch, c2, list);
-		free(c2);
+		TAILQ_REMOVE(ch, c, list);
+		free(c);
 		VSL_stats->n_srcaddr--;
 	}
 	if (c3 == NULL) {

