commit 49b54bac99ab5c853826507ea525ba915f35eaa6
Author: Sebastian Harl <sh@tokkee.org>
Date:   Mon Feb 25 08:28:39 2008 +0100

    perl plugin: Warn if "EnableDebugger" has been used after "LoadPlugin".
    
    Signed-off-by: Sebastian Harl <sh@tokkee.org>
    Signed-off-by: Florian Forster <octo@huhu.verplant.org>

diff --git a/src/perl.c b/src/perl.c
index 1ed9d003..50d189f8 100644
--- a/src/perl.c
+++ b/src/perl.c
@@ -940,6 +940,11 @@ static int perl_config_includedir (oconfig_item_t *ci)
 			|| (OCONFIG_TYPE_STRING != ci->values[0].type))
 		return 1;
 
+	if (NULL == aTHX) {
+		log_warn ("EnableDebugger has no effects if used after LoadPlugin.");
+		return 1;
+	}
+
 	value = ci->values[0].value.string;
 
 	if (NULL == perl) {

