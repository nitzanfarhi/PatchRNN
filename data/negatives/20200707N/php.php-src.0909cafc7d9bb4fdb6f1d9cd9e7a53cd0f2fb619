commit 0909cafc7d9bb4fdb6f1d9cd9e7a53cd0f2fb619
Author: Etienne Kneuss <colder@php.net>
Date:   Tue Jul 12 21:57:14 2011 +0000

    Fix crash

diff --git a/ext/spl/spl_dllist.c b/ext/spl/spl_dllist.c
index 2c90243a20..06d22e1b61 100644
--- a/ext/spl/spl_dllist.c
+++ b/ext/spl/spl_dllist.c
@@ -1202,11 +1202,11 @@ SPL_METHOD(SplDoublyLinkedList, unserialize)
 
 	/* flags */
 	ALLOC_INIT_ZVAL(flags);
-	if (!php_var_unserialize(&elem, &p, s + buf_len, &var_hash TSRMLS_CC) || Z_TYPE_P(elem) != IS_LONG) {
+	if (!php_var_unserialize(&flags, &p, s + buf_len, &var_hash TSRMLS_CC) || Z_TYPE_P(flags) != IS_LONG) {
 		zval_ptr_dtor(&flags);
 		goto error;
 	}
-	intern->flags = Z_LVAL_P(elem);
+	intern->flags = Z_LVAL_P(flags);
 	zval_ptr_dtor(&flags);
 
 	/* elements */

