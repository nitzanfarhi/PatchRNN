commit bbaed717ec309c6f7abd9d88961f70f9d8b1659a
Author: Brendan Cully <brendan@kublai.com>
Date:   Sun Oct 19 12:41:55 2008 -0700

    Fix buglet in logging from previous commit

diff --git a/mutt_socket.c b/mutt_socket.c
index 98bd01e63..e5655d768 100644
--- a/mutt_socket.c
+++ b/mutt_socket.c
@@ -137,7 +137,7 @@ int mutt_socket_write_d (CONNECTION *conn, const char *buf, int len, int dbg)
       return -1;
     }
 
-    if (rc < len)
+    if (rc < len - sent)
       dprint (3, (debugfile,
                   "mutt_socket_write: short write (%d of %d bytes)\n", rc,
                   len - sent));

