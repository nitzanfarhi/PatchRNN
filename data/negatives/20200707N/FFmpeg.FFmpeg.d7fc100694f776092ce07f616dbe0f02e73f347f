commit d7fc100694f776092ce07f616dbe0f02e73f347f
Author: Carl Eugen Hoyos <cehoyos@ag.or.at>
Date:   Fri Dec 2 03:23:07 2011 +0100

    Support tiff RGBA encoding.

diff --git a/libavcodec/tiffenc.c b/libavcodec/tiffenc.c
index 94ed9eb5fb..f8ce11e0eb 100644
--- a/libavcodec/tiffenc.c
+++ b/libavcodec/tiffenc.c
@@ -263,6 +263,10 @@ static int encode_frame(AVCodecContext * avctx, unsigned char *buf,
         bpp_tab[2] = 16;
         bpp_tab[3] = 16;
         break;
+    case PIX_FMT_RGBA:
+        s->bpp = 32;
+        s->photometric_interpretation = 2;
+        break;
     case PIX_FMT_RGB24:
         s->bpp = 24;
         s->photometric_interpretation = 2;
@@ -494,7 +498,7 @@ AVCodec ff_tiff_encoder = {
                               PIX_FMT_YUV420P, PIX_FMT_YUV422P,
                               PIX_FMT_YUV444P, PIX_FMT_YUV410P,
                               PIX_FMT_YUV411P, PIX_FMT_RGB48LE,
-                              PIX_FMT_NONE},
+                              PIX_FMT_RGBA, PIX_FMT_NONE},
     .long_name = NULL_IF_CONFIG_SMALL("TIFF image"),
     .priv_class     = &tiffenc_class,
 };

