commit 16d2ab5f8bdfabd6dc0c6baf472034155cdce4bf
Author: Thilo Schulz <arny@ats.s.bawue.de>
Date:   Thu Jun 16 21:53:41 2011 +0000

    Patch from Tremulous / description from Zack Middleton: (#5041)
    
    Clear game logfile handle after closing file.
    
    Game does not clear logFile handle when closing file. Might be an issue if
    G_LogPrintf is called after this.
    
    Patch from tremulous http://svn.icculus.org/tremulous?view=rev&revision=2041

diff --git a/code/game/g_main.c b/code/game/g_main.c
index 2b2fb3ff..82214641 100644
--- a/code/game/g_main.c
+++ b/code/game/g_main.c
@@ -524,6 +524,7 @@ void G_ShutdownGame( int restart ) {
 		G_LogPrintf("ShutdownGame:\n" );
 		G_LogPrintf("------------------------------------------------------------\n" );
 		trap_FS_FCloseFile( level.logFile );
+		level.logFile = 0;
 	}
 
 	// write all the client session data so we can get it back

