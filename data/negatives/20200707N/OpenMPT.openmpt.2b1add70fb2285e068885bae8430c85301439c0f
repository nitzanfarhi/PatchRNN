commit 2b1add70fb2285e068885bae8430c85301439c0f
Author: Johannes Schultz <sagamusix@openmpt.org>
Date:   Sat Dec 19 02:25:00 2015 +0000

    [Fix] XM: Also disable compatible arpeggio when loading XMs made with MadTracker. Also properly detect XMs with encoded MadTracker 2.0 user ID.
    
    git-svn-id: https://source.openmpt.org/svn/openmpt/trunk/OpenMPT@5839 56274372-70c3-4bfc-bfc3-4c3a0b034d27

diff --git a/soundlib/Load_xm.cpp b/soundlib/Load_xm.cpp
index 20b974ae2..b717bee85 100644
--- a/soundlib/Load_xm.cpp
+++ b/soundlib/Load_xm.cpp
@@ -322,10 +322,12 @@ bool CSoundFile::ReadXM(FileReader &file, ModLoadingFlags loadFlags)
 			{
 				m_nMixLevels = mixLevelsCompatibleFT2;
 			}
-		} else if(!memcmp(fileHeader.trackerName, "MadTracker 2.0\0\0\0\0\0\0", 20))
+		} else if(!memcmp(fileHeader.trackerName, "MadTracker 2.0\0", 15))
 		{
 			// Fix channel 2 in m3_cha.xm
 			m_playBehaviour.reset(kFT2PortaNoNote);
+			// Fix arpeggios in kragle_-_happy_day.xm
+			m_playBehaviour.reset(kFT2Arpeggio);
 		}
 	}
 

