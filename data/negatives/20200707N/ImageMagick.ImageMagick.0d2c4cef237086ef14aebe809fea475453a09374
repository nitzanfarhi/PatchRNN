commit 0d2c4cef237086ef14aebe809fea475453a09374
Author: cristy <urban-warrior@git.imagemagick.org>
Date:   Wed Mar 7 02:19:41 2012 +0000

diff --git a/MagickWand/display.c b/MagickWand/display.c
index efac20d04..8871d3d47 100644
--- a/MagickWand/display.c
+++ b/MagickWand/display.c
@@ -504,6 +504,7 @@ WandExport MagickBooleanType DisplayImageCommand(ImageInfo *image_info,
 
         Image
           *display_image,
+          *image_list,
           *images;
 
         /*
@@ -528,10 +529,11 @@ WandExport MagickBooleanType DisplayImageCommand(ImageInfo *image_info,
         iterations=0;
         if (i == (ssize_t) (argc-1))
           iterations=image->iterations;
-        display_image=CloneImageList(image,exception);
-        if (display_image == (Image *) NULL)
+        image_list=CloneImageList(image,exception);
+        if (image_list == (Image *) NULL)
           ThrowDisplayException(ResourceLimitError,"MemoryAllocationFailed",
             GetExceptionMessage(errno));
+        display_image=image_list;
         do
         {
           /*
@@ -628,6 +630,8 @@ WandExport MagickBooleanType DisplayImageCommand(ImageInfo *image_info,
           Free image resources.
         */
         display_image=DestroyImageList(display_image);
+        if (image_list != display_image)
+          image_list=DestroyImageList(image_list);
         if ((state & FormerImageState) == 0)
           {
             last_image=(size_t) image_number;

