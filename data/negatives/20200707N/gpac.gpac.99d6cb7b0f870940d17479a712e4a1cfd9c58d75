commit 99d6cb7b0f870940d17479a712e4a1cfd9c58d75
Author: Cyril Concolato <cyril.concolato@telecom-paristech.fr>
Date:   Thu Oct 13 12:59:57 2005 +0000

    *** empty log message ***
    
    
    git-svn-id: http://svn.code.sf.net/p/gpac/code/trunk/gpac@127 63c20433-aa62-49bd-875c-5a186b69a8fb

diff --git a/src/scenegraph/base_scenegraph.c b/src/scenegraph/base_scenegraph.c
index 2ca2f8468..b09da6235 100644
--- a/src/scenegraph/base_scenegraph.c
+++ b/src/scenegraph/base_scenegraph.c
@@ -627,7 +627,11 @@ GF_Err gf_node_replace(GF_Node *node, GF_Node *new_node, Bool updateOrderedGroup
 		Bool do_break = node->sgprivate->parents->next ? 0 : 1;
 		par = node->sgprivate->parents->node;
 
-		ReplaceDEFNode(par, node->sgprivate->NodeID, new_node, updateOrderedGroup);
+		if (type) {
+			ReplaceIRINode(par, node->sgprivate->NodeID, new_node, updateOrderedGroup);
+		} else {
+			ReplaceDEFNode(par, node->sgprivate->NodeID, new_node, updateOrderedGroup);
+		}
 		if (new_node) gf_node_register(new_node, par);
 		gf_node_unregister(node, par);
 		if (do_break) break;

