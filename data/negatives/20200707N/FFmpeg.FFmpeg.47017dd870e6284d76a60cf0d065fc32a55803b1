commit 47017dd870e6284d76a60cf0d065fc32a55803b1
Author: Roman Shaposhnik <roman@shaposhnik.org>
Date:   Tue Aug 26 22:05:12 2003 +0000

        * ffmpeg was *silently* rejecting to deinterlace NTSC DV. The problem
          is generic for any video with yuv411. Seems like a trivial fix,
          but we really have to clean up all of the pix_fmt business a bit more.
    
    Originally committed as revision 2169 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavcodec/imgconvert.c b/libavcodec/imgconvert.c
index 4050ae7f3f..6324576472 100644
--- a/libavcodec/imgconvert.c
+++ b/libavcodec/imgconvert.c
@@ -2133,7 +2133,8 @@ int avpicture_deinterlace(AVPicture *dst, AVPicture *src,
 
     if (pix_fmt != PIX_FMT_YUV420P &&
         pix_fmt != PIX_FMT_YUV422P &&
-        pix_fmt != PIX_FMT_YUV444P)
+        pix_fmt != PIX_FMT_YUV444P &&
+	pix_fmt != PIX_FMT_YUV411P)
         return -1;
     if ((width & 3) != 0 || (height & 3) != 0)
         return -1;
@@ -2148,6 +2149,9 @@ int avpicture_deinterlace(AVPicture *dst, AVPicture *src,
             case PIX_FMT_YUV422P:
                 width >>= 1;
                 break;
+            case PIX_FMT_YUV411P:
+                width >>= 2;
+                break;
             default:
                 break;
             }

