commit b1669d61c3c75e11e498c7b793aab580e501c314
Author: millert <millert@openbsd.org>
Date:   Wed Aug 20 03:46:31 1997 +0000

    Fix for some stupid ne2000 clones that get into a weird state and
    are probed as WD instead.  From Martin Husemann <martin@rumolt.teuto.de>

diff --git a/sys/dev/isa/if_ed.c b/sys/dev/isa/if_ed.c
index bd73242772d..af7521351b5 100644
--- a/sys/dev/isa/if_ed.c
+++ b/sys/dev/isa/if_ed.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: if_ed.c,v 1.31 1997/08/01 07:40:10 deraadt Exp $	*/
+/*	$OpenBSD: if_ed.c,v 1.32 1997/08/20 03:46:31 millert Exp $	*/
 /*	$NetBSD: if_ed.c,v 1.105 1996/10/21 22:40:45 thorpej Exp $	*/
 
 /*
@@ -877,6 +877,8 @@ ed_find_WD80x3(sc, cf, ia)
 
 	/* XXX Figure out the shared memory address. */
 
+	if (ia->ia_maddr == MADDRUNK)
+		goto out;
 	sc->isa16bit = isa16bit;
 	sc->mem_shared = 1;
 	ia->ia_msize = memsize;

