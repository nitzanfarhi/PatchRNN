commit a4787c0d232e16e727b37205dc647337b8974f35
Author: Martin Hicks <mort@bork.org>
Date:   Sun Dec 18 17:18:01 2005 +0100

    [PATCH] i2c: i2c-ibm_iic add I2C_CLASS_HWMON
    
    Add the ibm_iic driver to the HWMON class so it will scan the
    bus for connected hardware monitor sensors.
    
    Signed-off-by: Martin Hicks <mort@bork.org>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/drivers/i2c/busses/i2c-ibm_iic.c b/drivers/i2c/busses/i2c-ibm_iic.c
index 1a587253d716..87fae937e666 100644
--- a/drivers/i2c/busses/i2c-ibm_iic.c
+++ b/drivers/i2c/busses/i2c-ibm_iic.c
@@ -725,6 +725,7 @@ static int __devinit iic_probe(struct ocp_device *ocp){
 	strcpy(adap->name, "IBM IIC");
 	i2c_set_adapdata(adap, dev);
 	adap->id = I2C_HW_OCP;
+	adap->class = I2C_CLASS_HWMON;
 	adap->algo = &iic_algo;
 	adap->client_register = NULL;
 	adap->client_unregister = NULL;

