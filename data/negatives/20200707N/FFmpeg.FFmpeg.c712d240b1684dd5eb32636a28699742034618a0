commit c712d240b1684dd5eb32636a28699742034618a0
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sat Oct 11 22:50:51 2014 +0200

    avcodec/eamad: use av_freep(), do not leave stale pointers in memory
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libavcodec/eamad.c b/libavcodec/eamad.c
index 711363ca29..c768b9361e 100644
--- a/libavcodec/eamad.c
+++ b/libavcodec/eamad.c
@@ -329,7 +329,7 @@ static av_cold int decode_end(AVCodecContext *avctx)
 {
     MadContext *t = avctx->priv_data;
     av_frame_free(&t->last_frame);
-    av_free(t->bitstream_buf);
+    av_freep(&t->bitstream_buf);
     return 0;
 }
 

