commit 3300d3509f45a83fa2816d25136f5921ea37a132
Author: Ensiform <ensiform@gmail.com>
Date:   Wed Mar 12 14:28:43 2014 -0500

    [JK2SP] Added missing flash radius fix to JK2.

diff --git a/codeJK2/cgame/FxPrimitives.cpp b/codeJK2/cgame/FxPrimitives.cpp
index 876f56a2..fd48c3ac 100644
--- a/codeJK2/cgame/FxPrimitives.cpp
+++ b/codeJK2/cgame/FxPrimitives.cpp
@@ -1994,6 +1994,10 @@ void CFlash::Init( void )
 //----------------------------
 void CFlash::Draw( void )	
 {
+    // Interestingly, if znear is set > than this, then the flash
+    // doesn't appear at all.
+    const float FLASH_DISTANCE_FROM_VIEWER = 8.0f;
+
 	mRefEnt.reType = RT_SPRITE;
 
 	for ( int i = 0; i < 3; i++ )
@@ -2013,8 +2017,10 @@ void CFlash::Draw( void )
 	mRefEnt.shaderRGBA[3] = 255;
 
 	VectorCopy( cg.refdef.vieworg, mRefEnt.origin );
-	VectorMA( mRefEnt.origin, 8, cg.refdef.viewaxis[0], mRefEnt.origin );
-	mRefEnt.radius = 12.0f;
+	VectorMA( mRefEnt.origin, FLASH_DISTANCE_FROM_VIEWER, cg.refdef.viewaxis[0], mRefEnt.origin );
+	
+    // This is assuming that the screen is wider than it is tall.
+    mRefEnt.radius = FLASH_DISTANCE_FROM_VIEWER * tan (DEG2RAD (cg.refdef.fov_x * 0.5f));
 
 	theFxHelper.AddFxToScene( &mRefEnt );
 

