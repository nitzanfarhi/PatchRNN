commit ba0545e328390b9e5589c14876b3940fbe647d0c
Author: Sylwester Nawrocki <s.nawrocki@samsung.com>
Date:   Fri May 20 14:02:11 2011 -0300

    [media] s5p-fimc: Use pix_mp for the color format lookup
    
    With multi-planar formats fmt.pix_mp member of struct v4l2_format
    should be used rather than fmt.pix. Fix find_fmt() function to do
    the right thing.
    
    Signed-off-by: Sylwester Nawrocki <s.nawrocki@samsung.com>
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>

diff --git a/drivers/media/video/s5p-fimc/fimc-core.c b/drivers/media/video/s5p-fimc/fimc-core.c
index 85b47a328a5d..873a879dc770 100644
--- a/drivers/media/video/s5p-fimc/fimc-core.c
+++ b/drivers/media/video/s5p-fimc/fimc-core.c
@@ -841,7 +841,7 @@ struct fimc_fmt *find_format(struct v4l2_format *f, unsigned int mask)
 
 	for (i = 0; i < ARRAY_SIZE(fimc_formats); ++i) {
 		fmt = &fimc_formats[i];
-		if (fmt->fourcc == f->fmt.pix.pixelformat &&
+		if (fmt->fourcc == f->fmt.pix_mp.pixelformat &&
 		   (fmt->flags & mask))
 			break;
 	}

