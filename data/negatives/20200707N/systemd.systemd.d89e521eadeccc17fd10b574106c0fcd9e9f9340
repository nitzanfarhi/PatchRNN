commit d89e521eadeccc17fd10b574106c0fcd9e9f9340
Author: Lennart Poettering <lennart@poettering.net>
Date:   Wed Apr 7 03:18:35 2010 +0200

    main: fail if we cannot mount /cgroup/debug

diff --git a/main.c b/main.c
index 712c79728..397e868e9 100644
--- a/main.c
+++ b/main.c
@@ -247,7 +247,8 @@ int main(int argc, char *argv[]) {
 
         /* Mount /proc, /sys and friends, so that /proc/cmdline and
          * /proc/$PID/fd is available. */
-        mount_setup();
+        if (mount_setup() < 0)
+                goto finish;
 
         /* Reset all signal handlers. */
         assert_se(reset_all_signal_handlers() == 0);

