commit 814f97530549236b6b99a3b65ae3427773751c04
Author: Masaki TAGAWA <masaki@tagawa.email>
Date:   Tue Dec 29 14:21:07 2015 +0900

    Revert a990c58

diff --git a/lib/handler/mruby.c b/lib/handler/mruby.c
index de20742a..f8bb134b 100644
--- a/lib/handler/mruby.c
+++ b/lib/handler/mruby.c
@@ -470,7 +470,9 @@ static int handle_response_header(h2o_mruby_context_t *handler_ctx, h2o_iovec_t
     h2o_req_t *req = _req;
     const h2o_token_t *token;
 
-    /* note: name of the header is lowercased by http1client */
+    /* convert name to lowercase */
+    name = h2o_strdup(&req->pool, name.base, name.len);
+    h2o_strtolower(name.base, name.len);
 
     if ((token = h2o_lookup_token(name.base, name.len)) != NULL) {
         if (token->proxy_should_drop) {

