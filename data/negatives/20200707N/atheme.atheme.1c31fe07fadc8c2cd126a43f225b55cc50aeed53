commit 1c31fe07fadc8c2cd126a43f225b55cc50aeed53
Author: William Pitcock <nenolod@atheme-project.org>
Date:   Mon Aug 27 17:52:11 2007 -0500

    chansvs.nick -> chansvs.me->me->uid :>

diff --git a/modules/protocol/inspircd12.c b/modules/protocol/inspircd12.c
index c7d81f9a3..91f969452 100644
--- a/modules/protocol/inspircd12.c
+++ b/modules/protocol/inspircd12.c
@@ -417,18 +417,18 @@ static void inspircd_topic_sts(channel_t *c, const char *setter, time_t ts, time
 	/* Restoring old topic */
 	if (ts > prevts + 60 || prevts == 0)
 	{
-		sts(":%s FTOPIC %s %ld %s :%s", chansvs.nick, c->name, ts, setter, topic);
+		sts(":%s FTOPIC %s %ld %s :%s", chansvs.me->me->uid, c->name, ts, setter, topic);
 		return;
 	}
 	/* Tweaking a topic */
 	else if (ts == prevts)
 	{
 		ts += 60;
-		sts(":%s FTOPIC %s %ld %s :%s", chansvs.nick, c->name, ts, setter, topic);
+		sts(":%s FTOPIC %s %ld %s :%s", chansvs.me->me->uid, c->name, ts, setter, topic);
 		c->topicts = ts;
 		return;
 	}
-	sts(":%s TOPIC %s :%s", chansvs.nick, c->name, topic);
+	sts(":%s TOPIC %s :%s", chansvs.me->me->uid, c->name, topic);
 	c->topicts = CURRTIME;
 }
 

