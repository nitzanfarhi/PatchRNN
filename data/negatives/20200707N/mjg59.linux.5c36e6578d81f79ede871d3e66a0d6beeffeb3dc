commit 5c36e6578d81f79ede871d3e66a0d6beeffeb3dc
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Thu Mar 1 10:07:42 2007 +0900

    sysctl: Support vdso_enabled sysctl on SH.
    
    All of the logic for this was already in place, we just hadn't wired it
    up in the sysctl table.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>

diff --git a/kernel/sysctl.c b/kernel/sysctl.c
index 34b2301276ce..1b255df4fcd0 100644
--- a/kernel/sysctl.c
+++ b/kernel/sysctl.c
@@ -846,7 +846,8 @@ static ctl_table vm_table[] = {
 		.extra2		= &one_hundred,
 	},
 #endif
-#ifdef CONFIG_X86_32
+#if defined(CONFIG_X86_32) || \
+   (defined(CONFIG_SUPERH) && defined(CONFIG_VSYSCALL))
 	{
 		.ctl_name	= VM_VDSO_ENABLED,
 		.procname	= "vdso_enabled",

