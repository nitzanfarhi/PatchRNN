commit 331dc7c72df852d70084f18ac969e0239c8b0ffc
Author: Paul Wouters <paul@xelerance.com>
Date:   Sun Oct 11 21:45:33 2009 -0400

    Fix to allow ";" in the ike/esp parameters as per man page. Patch
    by Avesh.

diff --git a/lib/libopenswan/alg_info.c b/lib/libopenswan/alg_info.c
index 60f1ad7d6..041e3669c 100644
--- a/lib/libopenswan/alg_info.c
+++ b/lib/libopenswan/alg_info.c
@@ -479,6 +479,11 @@ parser_machine(struct parser_context *p_ctx)
 		parser_set_state(p_ctx, ST_AA_END);
 		break;
 	    }
+            if (ch==';') {
+                *(p_ctx->aalg_str++)=0;
+                parser_set_state(p_ctx, ST_AK_END);
+                break;
+            }	    
 	    if (isalnum(ch) || ch=='_') {
 		*(p_ctx->aalg_str++)=ch;
 		break;
@@ -500,7 +505,7 @@ parser_machine(struct parser_context *p_ctx)
 	    p_ctx->err="Non initial digit found for auth keylen";
 	    goto err;
 	case ST_AK:
-	    if (ch=='-') {
+	    if (ch=='-'||ch==';') {
 		parser_set_state(p_ctx, ST_AK_END);
 		break;
 	    }

