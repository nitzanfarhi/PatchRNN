commit a4da4f12b4a7e7072753ebae9b2ccd72b89c3392
Author: Peter Chen <peter.chen@freescale.com>
Date:   Tue Jul 28 10:08:32 2015 +0800

    usb: chipidea: udc: zero-length packet is only needed for TX
    
    The zero-length packet is the sendor tells the receiver that there
    is no more data, so it is only needed at the TX side.
    
    Signed-off-by: Peter Chen <peter.chen@freescale.com>

diff --git a/drivers/usb/chipidea/udc.c b/drivers/usb/chipidea/udc.c
index 27cbd1c2f47f..aca7a97ee5ff 100644
--- a/drivers/usb/chipidea/udc.c
+++ b/drivers/usb/chipidea/udc.c
@@ -445,7 +445,7 @@ static int _hardware_enqueue(struct ci_hw_ep *hwep, struct ci_hw_req *hwreq)
 		rest -= count;
 	}
 
-	if (hwreq->req.zero && hwreq->req.length
+	if (hwreq->req.zero && hwreq->req.length && hwep->dir == TX
 	    && (hwreq->req.length % hwep->ep.maxpacket == 0))
 		add_td_to_list(hwep, hwreq, 0);
 

