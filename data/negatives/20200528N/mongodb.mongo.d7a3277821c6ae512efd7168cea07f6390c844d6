commit d7a3277821c6ae512efd7168cea07f6390c844d6
Author: Benety Goh <benety@mongodb.com>
Date:   Mon Mar 12 10:59:52 2018 -0400

    SERVER-32332 remove unused function BackgroundSync::pushTestOpToBuffer()
    
    The last caller of this function was removed in commit f53a88a57da5788b355cb3037061372a706ccf0d.

diff --git a/src/mongo/db/repl/bgsync.cpp b/src/mongo/db/repl/bgsync.cpp
index 9be6611d3e..766885db84 100644
--- a/src/mongo/db/repl/bgsync.cpp
+++ b/src/mongo/db/repl/bgsync.cpp
@@ -823,12 +823,6 @@ bool BackgroundSync::shouldStopFetching() const {
     return false;
 }
 
-void BackgroundSync::pushTestOpToBuffer(OperationContext* opCtx, const BSONObj& op) {
-    _oplogBuffer->push(opCtx, op);
-    bufferCountGauge.increment();
-    bufferSizeGauge.increment(op.objsize());
-}
-
 BackgroundSync::ProducerState BackgroundSync::getState() const {
     stdx::lock_guard<stdx::mutex> lock(_mutex);
     return _state;
diff --git a/src/mongo/db/repl/bgsync.h b/src/mongo/db/repl/bgsync.h
index 2ec9d634bc..6f5c7fc116 100644
--- a/src/mongo/db/repl/bgsync.h
+++ b/src/mongo/db/repl/bgsync.h
@@ -140,9 +140,6 @@ public:
     // Starts the producer if it's stopped. Otherwise, let it keep running.
     void startProducerIfStopped();
 
-    // Adds a fake oplog entry to buffer. Used for testing only.
-    void pushTestOpToBuffer(OperationContext* opCtx, const BSONObj& op);
-
 private:
     bool _inShutdown_inlock() const;
 

