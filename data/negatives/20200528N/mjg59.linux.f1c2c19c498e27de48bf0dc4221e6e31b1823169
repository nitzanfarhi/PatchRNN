commit f1c2c19c498e27de48bf0dc4221e6e31b1823169
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Aug 4 14:17:17 2010 +1000

    memblock: Fix memblock_is_region_reserved() to return a boolean
    
    All callers expect a boolean result which is true if the region
    overlaps a reserved region. However, the implementation actually
    returns -1 if there is no overlap, and a region index (0 based)
    if there is.
    
    Make it behave as callers (and common sense) expect.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>

diff --git a/mm/memblock.c b/mm/memblock.c
index 3024eb30fc27..43840b305ecb 100644
--- a/mm/memblock.c
+++ b/mm/memblock.c
@@ -504,7 +504,7 @@ int __init memblock_is_reserved(u64 addr)
 
 int memblock_is_region_reserved(u64 base, u64 size)
 {
-	return memblock_overlaps_region(&memblock.reserved, base, size);
+	return memblock_overlaps_region(&memblock.reserved, base, size) >= 0;
 }
 
 /*

