commit 2cff18c22cfaa88216a5d8c62ea64d1fb575c145
Author: Keith Mannthey <kmannth@us.ibm.com>
Date:   Fri Sep 18 14:35:23 2009 +0200

    amd64_edac: simple fix to allow reporting of CECC errors
    
    This allows the errors to be further decoded and mapped to csrows.
    Tested with ECC debug dimms and an Rev F cpu based system.
    
    Signed-off-by: Keith Mannthey <kmannth@us.ibm.com>
    Signed-off-by: Borislav Petkov <borislav.petkov@amd.com>

diff --git a/drivers/edac/amd64_edac.c b/drivers/edac/amd64_edac.c
index 2c869d1fe334..ecc86c300e2b 100644
--- a/drivers/edac/amd64_edac.c
+++ b/drivers/edac/amd64_edac.c
@@ -1190,7 +1190,7 @@ static void k8_map_sysaddr_to_csrow(struct mem_ctl_info *mci,
 	 * different from the node that detected the error.
 	 */
 	src_mci = find_mc_by_sys_addr(mci, SystemAddress);
-	if (src_mci) {
+	if (!src_mci) {
 		amd64_mc_printk(mci, KERN_ERR,
 			     "failed to map error address 0x%lx to a node\n",
 			     (unsigned long)SystemAddress);

