commit 36a6a51144ab20c90396c04cbea159949b1e0acd
Author: Murthy Narkedimilli <murthy.narkedimilli@oracle.com>
Date:   Fri May 10 15:27:03 2013 +0200

    Merging the changes which fixes the build issue for Windows Builds.
    Description:
     Fixing a build issue.  The function innobase_convert_to_system_charset()
     is included only in the builtin InnoDB, and it is missed in InnoDB
     plugin.  Adding this function in InnoDB plugin as well.

diff --git a/storage/innodb_plugin/handler/ha_innodb.cc b/storage/innodb_plugin/handler/ha_innodb.cc
index 9bfa3b51948..38f1fd566b1 100644
--- a/storage/innodb_plugin/handler/ha_innodb.cc
+++ b/storage/innodb_plugin/handler/ha_innodb.cc
@@ -1052,6 +1052,23 @@ innobase_convert_from_id(
 	strconvert(cs, from, system_charset_info, to, (uint) len, &errors);
 }
 
+/**********************************************************************
+Converts an identifier from my_charset_filename to UTF-8 charset. */
+extern "C"
+uint
+innobase_convert_to_system_charset(
+/*===============================*/
+	char*		to,	/* out: converted identifier */
+	const char*	from,	/* in: identifier to convert */
+	ulint		len,	/* in: length of 'to', in bytes */
+	uint*		errors)	/* out: error return */
+{
+	CHARSET_INFO*	cs1 = &my_charset_filename;
+	CHARSET_INFO*	cs2 = system_charset_info;
+
+	return(strconvert(cs1, from, cs2, to, len, errors));
+}
+
 /******************************************************************//**
 Compares NUL-terminated UTF-8 strings case insensitively.
 @return	0 if a=b, <0 if a<b, >1 if a>b */

