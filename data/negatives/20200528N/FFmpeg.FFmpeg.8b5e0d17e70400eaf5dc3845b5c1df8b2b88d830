commit 8b5e0d17e70400eaf5dc3845b5c1df8b2b88d830
Author: Martin Storsjö <martin@martin.st>
Date:   Thu Oct 13 16:17:11 2016 +0300

    rtmpproto: Send chunk size on the network channel
    
    This makes sure that e.g. Adobe FME actually reacts to it. As long
    as the value we've been sending is the default one (128), the bug
    hasn't been noticed.
    
    Signed-off-by: Martin Storsjö <martin@martin.st>

diff --git a/libavformat/rtmpproto.c b/libavformat/rtmpproto.c
index 8817744e87..4107b461d1 100644
--- a/libavformat/rtmpproto.c
+++ b/libavformat/rtmpproto.c
@@ -492,7 +492,7 @@ static int read_connect(URLContext *s, RTMPContext *rt)
         return ret;
 
     // Chunk size
-    if ((ret = ff_rtmp_packet_create(&pkt, RTMP_SYSTEM_CHANNEL,
+    if ((ret = ff_rtmp_packet_create(&pkt, RTMP_NETWORK_CHANNEL,
                                      RTMP_PT_CHUNK_SIZE, 0, 4)) < 0)
         return ret;
 

