commit dc73aaa5faeed1574876c918f2124ea237e3907d
Author: Rich Prohaska <prohaska@tokutek.com>
Date:   Wed Apr 17 00:01:38 2013 -0400

    implement UNIQUE_CHECKS=0 in the tokudb storage engine. close #428
    
    git-svn-id: file:///svn/mysql/tokudb-engine/src@2369 c7de825b-a66e-492c-adef-691d508d4ae1

diff --git a/storage/tokudb/ha_tokudb.cc b/storage/tokudb/ha_tokudb.cc
index 0de4fde7a94..13d62f87ecd 100644
--- a/storage/tokudb/ha_tokudb.cc
+++ b/storage/tokudb/ha_tokudb.cc
@@ -1228,10 +1228,12 @@ int ha_tokudb::write_row(uchar * record) {
 
     u_int32_t put_flags = key_type[primary_key];
     THD *thd = ha_thd();
-    printf("%s:%d:unique:%d\n", __FILE__, __LINE__, 
-           thd_test_options(thd, OPTION_RELAXED_UNIQUE_CHECKS));
-    if (thd_test_options(thd, OPTION_RELAXED_UNIQUE_CHECKS))
+    if (thd_test_options(thd, OPTION_RELAXED_UNIQUE_CHECKS)) {
+        if (0) 
+            printf("%s:%d:unique:%d\n", __FILE__, __LINE__, 
+                   thd_test_options(thd, OPTION_RELAXED_UNIQUE_CHECKS));
         put_flags = DB_YESOVERWRITE;
+    }
 
     table->insert_or_update = 1;        // For handling of VARCHAR
     if (table_share->keys + test(hidden_primary_key) == 1) {

