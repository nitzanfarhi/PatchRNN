commit 464b577c8bf5a150638baee151d083790190c1b7
Author: Tim Sell <Timothy.Sell@unisys.com>
Date:   Fri Oct 2 13:19:25 2015 -0400

    staging: unisys: visorinput: remove extraneous do_key function
    
    do_key() is no longer needed.
    
    Signed-off-by: Tim Sell <Timothy.Sell@unisys.com>
    Signed-off-by: Benjamin Romer <benjamin.romer@unisys.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/unisys/visorinput/visorinput.c b/drivers/staging/unisys/visorinput/visorinput.c
index a002e072429b..3a1b24fc4831 100644
--- a/drivers/staging/unisys/visorinput/visorinput.c
+++ b/drivers/staging/unisys/visorinput/visorinput.c
@@ -452,12 +452,6 @@ visorinput_remove(struct visor_device *dev)
 	kfree(devdata);
 }
 
-static void
-do_key(struct input_dev *inpt, int keycode, int down)
-{
-	input_report_key(inpt, keycode, down);
-}
-
 /*
  * Make it so the current locking state of the locking key indicated by
  * <keycode> is as indicated by <desired_state> (1=locked, 0=unlocked).
@@ -490,9 +484,9 @@ handle_locking_key(struct input_dev *visorinput_dev,
 		int old_state = (test_bit(led, visorinput_dev->led) != 0);
 
 		if (old_state != desired_state) {
-			do_key(visorinput_dev, keycode, 1);
+			input_report_key(visorinput_dev, keycode, 1);
 			input_sync(visorinput_dev);
-			do_key(visorinput_dev, keycode, 0);
+			input_report_key(visorinput_dev, keycode, 0);
 			input_sync(visorinput_dev);
 			__change_bit(led, visorinput_dev->led);
 		}
@@ -563,17 +557,17 @@ visorinput_channel_interrupt(struct visor_device *dev)
 		keycode = scancode_to_keycode(scancode);
 		switch (r.activity.action) {
 		case inputaction_key_down:
-			do_key(visorinput_dev, keycode, 1);
+			input_report_key(visorinput_dev, keycode, 1);
 			input_sync(visorinput_dev);
 			break;
 		case inputaction_key_up:
-			do_key(visorinput_dev, keycode, 0);
+			input_report_key(visorinput_dev, keycode, 0);
 			input_sync(visorinput_dev);
 			break;
 		case inputaction_key_down_up:
-			do_key(visorinput_dev, keycode, 1);
+			input_report_key(visorinput_dev, keycode, 1);
 			input_sync(visorinput_dev);
-			do_key(visorinput_dev, keycode, 0);
+			input_report_key(visorinput_dev, keycode, 0);
 			input_sync(visorinput_dev);
 			break;
 		case inputaction_set_locking_key_state:

