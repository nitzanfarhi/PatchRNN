commit a727f424a5b402558a7b7cba978449a1b015a47e
Author: Sebastian Berg <sebastian@sipsolutions.net>
Date:   Sat Apr 13 09:53:59 2013 +0200

    API: Deprecate __index__ for ndim > 0
    
    For example NumPy indexing treats np.ones(()) very differently from
    np.ones((1,)). It seems a bad idea to allow __index__ for arrays that
    are not 0-d, as they cannot always be safely interpreted as integers.

diff --git a/numpy/core/src/multiarray/number.c b/numpy/core/src/multiarray/number.c
index c37a232f4..53218117a 100644
--- a/numpy/core/src/multiarray/number.c
+++ b/numpy/core/src/multiarray/number.c
@@ -840,6 +840,12 @@ array_index(PyArrayObject *v)
                         "one element can be converted to an index");
         return NULL;
     }
+    if (PyArray_NDIM(v) != 0) {
+            if (DEPRECATE("converting an array with ndim > 0 to an index"
+                          " will result in an error in the future") < 0) {
+            return NULL;
+        }
+    }
     return PyArray_DESCR(v)->f->getitem(PyArray_DATA(v), v);
 }
 #endif

