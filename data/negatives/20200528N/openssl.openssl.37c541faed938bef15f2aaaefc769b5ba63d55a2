commit 37c541faed938bef15f2aaaefc769b5ba63d55a2
Author: Dr. Stephen Henson <steve@openssl.org>
Date:   Fri Feb 26 14:41:58 2010 +0000

    Revert CFB block length change. Despite what SP800-38a says the input to
    CFB mode does *not* have to be a multiple of the block length and several
    other specifications (e.g. PKCS#11) do not require this.

diff --git a/crypto/evp/evp_locl.h b/crypto/evp/evp_locl.h
index ff0f3c1a8e..1b6c811fd6 100644
--- a/crypto/evp/evp_locl.h
+++ b/crypto/evp/evp_locl.h
@@ -155,9 +155,9 @@ BLOCK_CIPHER_def1(cname, cbc, cbc, CBC, kstruct, nid, block_size, key_len, \
 #define BLOCK_CIPHER_def_cfb(cname, kstruct, nid, key_len, \
 			     iv_len, cbits, flags, init_key, cleanup, \
 			     set_asn1, get_asn1, ctrl) \
-BLOCK_CIPHER_def1(cname, cfb##cbits, cfb##cbits, CFB, kstruct, nid, \
-			(cbits + 7)/8, key_len, iv_len, \
-		flags, init_key, cleanup, set_asn1, get_asn1, ctrl)
+BLOCK_CIPHER_def1(cname, cfb##cbits, cfb##cbits, CFB, kstruct, nid, 1, \
+		  key_len, iv_len, flags, init_key, cleanup, set_asn1, \
+		  get_asn1, ctrl)
 
 #define BLOCK_CIPHER_def_ofb(cname, kstruct, nid, key_len, \
 			     iv_len, cbits, flags, init_key, cleanup, \

