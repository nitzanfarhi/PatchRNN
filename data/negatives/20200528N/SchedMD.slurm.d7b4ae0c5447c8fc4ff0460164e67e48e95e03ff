commit d7b4ae0c5447c8fc4ff0460164e67e48e95e03ff
Author: David Bigagli <david@schedmd.com>
Date:   Fri Oct 23 13:01:02 2015 +0200

    Decrease the time of batch start time no more than DEFAULT_MSG_TIMEOUT.

diff --git a/src/slurmctld/job_mgr.c b/src/slurmctld/job_mgr.c
index 071770c26a..a0d9ffc6b2 100644
--- a/src/slurmctld/job_mgr.c
+++ b/src/slurmctld/job_mgr.c
@@ -11958,7 +11958,7 @@ static void _purge_missing_jobs(int node_inx, time_t now)
 		node_boot_time = node_ptr->boot_time - (msg_timeout + 5);
 	}
 	batch_startup_time  = now - batch_start_timeout;
-	batch_startup_time -= msg_timeout;
+	batch_startup_time -= MIN(DEFAULT_MSG_TIMEOUT, msg_timeout);
 
 	job_iterator = list_iterator_create(job_list);
 	while ((job_ptr = (struct job_record *) list_next(job_iterator))) {

