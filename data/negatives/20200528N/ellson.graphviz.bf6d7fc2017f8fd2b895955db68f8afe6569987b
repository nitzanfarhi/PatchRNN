commit bf6d7fc2017f8fd2b895955db68f8afe6569987b
Author: Emden Gansner <erg@research.att.com>
Date:   Fri Jan 6 14:38:19 2012 -0500

    Correct problem using xlabels with neato -n2

diff --git a/lib/neatogen/neatoinit.c b/lib/neatogen/neatoinit.c
index c0bf7315b..c245fecb1 100644
--- a/lib/neatogen/neatoinit.c
+++ b/lib/neatogen/neatoinit.c
@@ -615,6 +615,10 @@ static void translateE(edge_t * e, pointf offset)
 	ED_label(e)->pos.x -= offset.x;
 	ED_label(e)->pos.y -= offset.y;
     }
+    if (ED_xlabel(e) && ED_xlabel(e)->set) {
+	ED_xlabel(e)->pos.x -= offset.x;
+	ED_xlabel(e)->pos.y -= offset.y;
+    }
     if (ED_head_label(e) && ED_head_label(e)->set) {
 	ED_head_label(e)->pos.x -= offset.x;
 	ED_head_label(e)->pos.y -= offset.y;

