commit 30811fa663d7efa65ccec290b47a1f564485fcdd
Author: Alexander Aring <alex.aring@gmail.com>
Date:   Tue Jun 16 11:07:44 2015 +0200

    at86rf230: cleanup start and stop callbacks
    
    This code cleanups the start and stop callbacks by removing hw->priv and
    using the already dereferenced variable lp which is the same.
    
    Signed-off-by: Alexander Aring <alex.aring@gmail.com>
    Signed-off-by: Marcel Holtmann <marcel@holtmann.org>

diff --git a/drivers/net/ieee802154/at86rf230.c b/drivers/net/ieee802154/at86rf230.c
index 7e30a45718c9..f7bd9f3ddaac 100644
--- a/drivers/net/ieee802154/at86rf230.c
+++ b/drivers/net/ieee802154/at86rf230.c
@@ -938,7 +938,7 @@ at86rf230_start(struct ieee802154_hw *hw)
 	at86rf230_awake(lp);
 	enable_irq(lp->spi->irq);
 
-	return at86rf230_sync_state_change(hw->priv, STATE_RX_AACK_ON);
+	return at86rf230_sync_state_change(lp, STATE_RX_AACK_ON);
 }
 
 static void
@@ -947,7 +947,7 @@ at86rf230_stop(struct ieee802154_hw *hw)
 	struct at86rf230_local *lp = hw->priv;
 	u8 csma_seed[2];
 
-	at86rf230_sync_state_change(hw->priv, STATE_FORCE_TRX_OFF);
+	at86rf230_sync_state_change(lp, STATE_FORCE_TRX_OFF);
 
 	disable_irq(lp->spi->irq);
 

