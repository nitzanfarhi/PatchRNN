commit 8b5ac76d6b31d4bd0bb79d69fed2c06ff2f519fe
Author: unknown <konstantin@mysql.com>
Date:   Sat Jun 4 12:37:10 2005 +0400

    Add missing STMT_ATTR_PREFETCH_ROWS to mysql_stmt_attr_get

diff --git a/libmysql/libmysql.c b/libmysql/libmysql.c
index c87728ab783..d294921aad2 100644
--- a/libmysql/libmysql.c
+++ b/libmysql/libmysql.c
@@ -2809,11 +2809,14 @@ my_bool STDCALL mysql_stmt_attr_get(MYSQL_STMT *stmt,
 {
   switch (attr_type) {
   case STMT_ATTR_UPDATE_MAX_LENGTH:
-    *(unsigned long *) value= stmt->update_max_length;
+    *(ulong*) value= stmt->update_max_length;
     break;
   case STMT_ATTR_CURSOR_TYPE:
-    *(unsigned long *) value= stmt->flags;
+    *(ulong*) value= stmt->flags;
       break;
+  case STMT_ATTR_PREFETCH_ROWS:
+    *(ulong*) value= stmt->prefetch_rows;
+    break;
   default:
     return TRUE;
   }

