commit a142f978e7fbf7f4cbacb19c2475fbb82c29e5ca
Author: Johannes Schindelin <johannes.schindelin@gmx.de>
Date:   Mon Aug 13 04:33:08 2018 -0700

    range-diff: right-trim commit messages
    
    When comparing commit messages, we need to keep in mind that they are
    indented by four spaces. That is, empty lines are no longer empty, but
    have "trailing whitespace". When displaying them in color, that results
    in those nagging red lines.
    
    Let's just right-trim the lines in the commit message, it's not like
    trailing white-space in the commit messages are important enough to care
    about in `git range-diff`.
    
    Signed-off-by: Johannes Schindelin <johannes.schindelin@gmx.de>
    Signed-off-by: Junio C Hamano <gitster@pobox.com>

diff --git a/range-diff.c b/range-diff.c
index 71883a4b7..1ecee2c09 100644
--- a/range-diff.c
+++ b/range-diff.c
@@ -85,6 +85,7 @@ static int read_patches(const char *range, struct string_list *list)
 				strbuf_addbuf(&buf, &line);
 				strbuf_addstr(&buf, "\n\n");
 			} else if (starts_with(line.buf, "    ")) {
+				strbuf_rtrim(&line);
 				strbuf_addbuf(&buf, &line);
 				strbuf_addch(&buf, '\n');
 			}

