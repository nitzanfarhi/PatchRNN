commit 9e25ba70afb7dee4da55aadb9d7a1a39c61cbedf
Author: Jason Penton <jason.penton@gmail.com>
Date:   Tue Feb 3 16:42:05 2015 +0200

    modules/ims_usrloc_pcscf: add slot id to storage

diff --git a/modules/ims_usrloc_pcscf/udomain.c b/modules/ims_usrloc_pcscf/udomain.c
index 6087ee1e9..94a72db39 100644
--- a/modules/ims_usrloc_pcscf/udomain.c
+++ b/modules/ims_usrloc_pcscf/udomain.c
@@ -229,6 +229,7 @@ int mem_insert_pcontact(struct udomain* _d, str* _contact, struct pcontact_info*
 	}
 
 	sl = ((*_c)->aorhash) & (_d->size - 1);
+	(*_c)->sl = sl;
 	slot_add(&_d->table[sl], *_c);
 	update_stat(_d->contacts, 1);
 	return 0;
diff --git a/modules/ims_usrloc_pcscf/usrloc.h b/modules/ims_usrloc_pcscf/usrloc.h
index 843827dd2..11bcc9d2b 100644
--- a/modules/ims_usrloc_pcscf/usrloc.h
+++ b/modules/ims_usrloc_pcscf/usrloc.h
@@ -185,6 +185,7 @@ typedef struct pcontact_info {
  */
 typedef struct pcontact {
 	unsigned int aorhash; 					/*!< Hash over address of record */
+	unsigned int sl;                                        /*!< slot number */
 	struct hslot* slot; 					/*!< Collision slot in the hash table array we belong to */
 	str* domain; 							/*!< Pointer to domain we belong to (null terminated string) */
 	str aor;			 					/*!< Address of record */

