commit d00e4a377b4a7c432c15670b9316ceb53a9ad08c
Author: Daniel Stenberg <daniel@haxx.se>
Date:   Wed Aug 20 15:41:45 2003 +0000

    store the FTP response code in the httpcode variable

diff --git a/lib/ftp.c b/lib/ftp.c
index a79f94277..ed4709d92 100644
--- a/lib/ftp.c
+++ b/lib/ftp.c
@@ -391,6 +391,9 @@ CURLcode Curl_GetFTPResponse(ssize_t *nreadp, /* return number of bytes read */
   if(ftpcode)
     *ftpcode=code; /* return the initial number like this */
 
+  /* store the latest code for later retrieval */
+  conn->data->info.httpcode=code;
+
   return result;
 }
 
diff --git a/lib/urldata.h b/lib/urldata.h
index 2592357d2..907bb5dc6 100644
--- a/lib/urldata.h
+++ b/lib/urldata.h
@@ -565,7 +565,7 @@ struct connectdata {
  * Struct to keep statistical and informational data.
  */
 struct PureInfo {
-  int httpcode;
+  int httpcode;  /* Recent HTTP or FTP response code */
   int httpproxycode;
   int httpversion;
   long filetime; /* If requested, this is might get set. Set to -1 if the time

