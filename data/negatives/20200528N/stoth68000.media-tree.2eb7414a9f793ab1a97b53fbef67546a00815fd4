commit 2eb7414a9f793ab1a97b53fbef67546a00815fd4
Author: Petr Cvek <petr.cvek@tul.cz>
Date:   Mon Sep 28 23:38:03 2015 +0200

    ARM: pxa: magician: Fix wrongly enabled USB host ports
    
    USB host ports on the HTC Magician are wrongly enabled. Port 1 is for
    bluetooth and port 2 is for OTG (mux in the charger connector).
    
    Signed-off-by: Petr Cvek <petr.cvek@tul.cz>
    Signed-off-by: Robert Jarzmik <robert.jarzmik@free.fr>

diff --git a/arch/arm/mach-pxa/magician.c b/arch/arm/mach-pxa/magician.c
index 51d0ff452478..482f91e1e8dc 100644
--- a/arch/arm/mach-pxa/magician.c
+++ b/arch/arm/mach-pxa/magician.c
@@ -702,8 +702,10 @@ static struct pxamci_platform_data magician_mci_info = {
 
 static struct pxaohci_platform_data magician_ohci_info = {
 	.port_mode	= PMM_PERPORT_MODE,
-	.flags		= ENABLE_PORT1 | ENABLE_PORT3 | POWER_CONTROL_LOW,
+	/* port1: CSR Bluetooth, port2: OTG with UDC */
+	.flags		= ENABLE_PORT1 | ENABLE_PORT2 | POWER_CONTROL_LOW,
 	.power_budget	= 0,
+	.power_on_delay = 100,
 };
 
 /*

