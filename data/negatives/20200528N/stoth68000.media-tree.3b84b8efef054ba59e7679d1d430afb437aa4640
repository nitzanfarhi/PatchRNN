commit 3b84b8efef054ba59e7679d1d430afb437aa4640
Author: Andreas Dannenberg <dannenberg@ti.com>
Date:   Mon Sep 28 17:33:52 2015 -0500

    power: bq24257: Simplify bq24257_power_supply_init()
    
    Eliminate a few lines of code by using the PTR_ERR_OR_ZERO() macro.
    
    Signed-off-by: Andreas Dannenberg <dannenberg@ti.com>
    Reviewed-by: Krzysztof Kozlowski <k.kozlowski@samsung.com>
    Signed-off-by: Sebastian Reichel <sre@kernel.org>

diff --git a/drivers/power/bq24257_charger.c b/drivers/power/bq24257_charger.c
index 6757b4180972..060f754b41e5 100644
--- a/drivers/power/bq24257_charger.c
+++ b/drivers/power/bq24257_charger.c
@@ -594,10 +594,7 @@ static int bq24257_power_supply_init(struct bq24257_device *bq)
 						 &bq24257_power_supply_desc,
 						 &psy_cfg);
 
-	if (IS_ERR(bq->charger))
-		return PTR_ERR(bq->charger);
-
-	return 0;
+	return PTR_ERR_OR_ZERO(bq->charger);
 }
 
 static int bq24257_pg_gpio_probe(struct bq24257_device *bq)

