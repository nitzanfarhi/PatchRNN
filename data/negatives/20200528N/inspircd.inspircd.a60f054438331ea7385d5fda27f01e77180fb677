commit a60f054438331ea7385d5fda27f01e77180fb677
Author: w00t <w00t@e03df62e-2008-0410-955e-edbf42e46eb7>
Date:   Tue May 8 23:35:28 2007 +0000

    - (FINALLY, ffs) add realnames to connect/remote connect server notices, per HiroP's patch. No, we're not showing SSL - SSL is a module, putting that in the core is hacky.
    
    git-svn-id: http://svn.inspircd.org/repository/trunk/inspircd@6920 e03df62e-2008-0410-955e-edbf42e46eb7

diff --git a/src/modules/m_spanningtree/treesocket1.cpp b/src/modules/m_spanningtree/treesocket1.cpp
index e71f4117b..76b7896a5 100644
--- a/src/modules/m_spanningtree/treesocket1.cpp
+++ b/src/modules/m_spanningtree/treesocket1.cpp
@@ -957,7 +957,7 @@ bool TreeSocket::IntroduceClient(const std::string &source, std::deque<std::stri
 	bool send = !((this->Utils->quiet_bursts && this->bursting) || (this->Instance->SilentULine(_new->server)));
 	
 	if (send)
-		this->Instance->SNO->WriteToSnoMask('C',"Client connecting at %s: %s!%s@%s [%s]",_new->server,_new->nick,_new->ident,_new->host, _new->GetIPString());
+		this->Instance->SNO->WriteToSnoMask('C',"Client connecting at %s: %s!%s@%s [%s] [%s]",_new->server,_new->nick,_new->ident,_new->host, _new->GetIPString(), _new->fullname);
 
 	params[7] = ":" + params[7];
 	Utils->DoOneToAllButSender(source,"NICK", params, source);
diff --git a/src/users.cpp b/src/users.cpp
index 637d7aaf8..ba5d7c25e 100644
--- a/src/users.cpp
+++ b/src/users.cpp
@@ -1076,7 +1076,7 @@ void userrec::FullConnect()
 
 	FOREACH_MOD(I_OnPostConnect,OnPostConnect(this));
 
-	ServerInstance->SNO->WriteToSnoMask('c',"Client connecting on port %d: %s!%s@%s [%s]", this->GetPort(), this->nick, this->ident, this->host, this->GetIPString());
+	ServerInstance->SNO->WriteToSnoMask('c',"Client connecting on port %d: %s!%s@%s [%s] [%s]", this->GetPort(), this->nick, this->ident, this->host, this->GetIPString(), this->fullname);
 }
 
 /** userrec::UpdateNick()

