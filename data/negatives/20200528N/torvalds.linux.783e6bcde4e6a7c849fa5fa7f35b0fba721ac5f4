commit 783e6bcde4e6a7c849fa5fa7f35b0fba721ac5f4
Author: Corey Minyard <cminyard@mvista.com>
Date:   Tue Nov 20 12:14:46 2007 -0800

    [WATCHDOG] ipmi: add the standard watchdog timeout ioctls
    
    Add the standard IOCTLs to the IPMI driver for setting and getting
    the pretimeout.  Tested by Benoit Guillon.
    
    Signed off by: Corey Minyard <cminyard@mvista.com>
    Cc: Benoit Guillon <guillon@thalescomputers.fr>
    Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>

diff --git a/drivers/char/ipmi/ipmi_watchdog.c b/drivers/char/ipmi/ipmi_watchdog.c
index e686fc925168..8f45ca9235ad 100644
--- a/drivers/char/ipmi/ipmi_watchdog.c
+++ b/drivers/char/ipmi/ipmi_watchdog.c
@@ -669,6 +669,7 @@ static int ipmi_ioctl(struct inode *inode, struct file *file,
 		return 0;
 
 	case WDIOC_SET_PRETIMEOUT:
+	case WDIOC_SETPRETIMEOUT:
 		i = copy_from_user(&val, argp, sizeof(int));
 		if (i)
 			return -EFAULT;
@@ -676,6 +677,7 @@ static int ipmi_ioctl(struct inode *inode, struct file *file,
 		return ipmi_set_timeout(IPMI_SET_TIMEOUT_HB_IF_NECESSARY);
 
 	case WDIOC_GET_PRETIMEOUT:
+	case WDIOC_GETPRETIMEOUT:
 		i = copy_to_user(argp, &pretimeout, sizeof(pretimeout));
 		if (i)
 			return -EFAULT;

