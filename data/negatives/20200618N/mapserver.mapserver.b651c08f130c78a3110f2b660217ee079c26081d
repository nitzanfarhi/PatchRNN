commit b651c08f130c78a3110f2b660217ee079c26081d
Author: James Klassen <klassen.js@gmail.com>
Date:   Mon Feb 22 20:10:12 2010 +0000

    Check for errors in msOGCWKT2ProjectionObj
    
    git-svn-id: http://svn.osgeo.org/mapserver/trunk@9863 7532c77e-422f-0410-93f4-f0b67bdd69e2

diff --git a/maporaclespatial.c b/maporaclespatial.c
index 71f27672..f8cb50ef 100644
--- a/maporaclespatial.c
+++ b/maporaclespatial.c
@@ -2534,7 +2534,8 @@ int msOracleSpatialLayerGetAutoProjection( layerObj *layer, projectionObj *proje
                msDebug("Found WKT projection for table %s: %s\n", table_name, wktext);
 
            if(wktext != NULL && projection != NULL)
-               msOGCWKT2ProjectionObj(wktext, projection, layer->debug);
+               if(msOGCWKT2ProjectionObj(wktext, projection, layer->debug) == MS_FAILURE)
+                   return(MS_FAILURE);
        }
     } while (sthand->rows_fetched > 0);
 

