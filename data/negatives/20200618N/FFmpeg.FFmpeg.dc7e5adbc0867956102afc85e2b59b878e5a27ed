commit dc7e5adbc0867956102afc85e2b59b878e5a27ed
Author: James Almer <jamrial@gmail.com>
Date:   Fri Aug 26 15:28:21 2016 -0300

    avformat/utils: fix a codecpar non use
    
    Reviewed-by: Michael Niedermayer <michael@niedermayer.cc>
    Signed-off-by: James Almer <jamrial@gmail.com>

diff --git a/libavformat/utils.c b/libavformat/utils.c
index ba08792c3f..7d23c4ae47 100644
--- a/libavformat/utils.c
+++ b/libavformat/utils.c
@@ -617,7 +617,7 @@ static void force_codec_ids(AVFormatContext *s, AVStream *st)
         break;
     case AVMEDIA_TYPE_DATA:
         if (s->data_codec_id)
-            st->codec->codec_id = s->data_codec_id;
+            st->codecpar->codec_id = s->data_codec_id;
         break;
     }
 }

