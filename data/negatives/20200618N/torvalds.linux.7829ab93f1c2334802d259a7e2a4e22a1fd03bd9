commit 7829ab93f1c2334802d259a7e2a4e22a1fd03bd9
Author: Frans Klaver <fransklaver@gmail.com>
Date:   Wed Jun 10 22:38:53 2015 +0200

    mtd: nand: mpc5121_nfc: show parent device in sysfs
    
    Fix a bug where parent device symlinks aren't shown in sysfs.
    
    Signed-off-by: Frans Klaver <fransklaver@gmail.com>
    Signed-off-by: Brian Norris <computersforpeace@gmail.com>

diff --git a/drivers/mtd/nand/mpc5121_nfc.c b/drivers/mtd/nand/mpc5121_nfc.c
index 019fe0dc6203..d6bbde4a5331 100644
--- a/drivers/mtd/nand/mpc5121_nfc.c
+++ b/drivers/mtd/nand/mpc5121_nfc.c
@@ -659,6 +659,7 @@ static int mpc5121_nfc_probe(struct platform_device *op)
 	chip = &prv->chip;
 
 	mtd->priv = chip;
+	mtd->dev.parent = dev;
 	chip->priv = prv;
 	prv->dev = dev;
 

