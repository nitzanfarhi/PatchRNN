commit c966ebe3c8879773f53b028e154994b3ad7a7bed
Author: craig.p.drummond <craig.p.drummond@b1e49159-3266-923f-9c3e-04f16369770a>
Date:   Mon Apr 29 18:34:55 2013 +0000

    Only empty cache if downloaded an image

diff --git a/gui/covers.cpp b/gui/covers.cpp
index e8488ec2..f568a3b4 100644
--- a/gui/covers.cpp
+++ b/gui/covers.cpp
@@ -791,7 +791,9 @@ QPixmap * Covers::get(const Song &song, int size)
 
 void Covers::coverDownloaded(const Song &song, const QImage &img, const QString &file)
 {
-    clearCache(song, img, true);
+    if (!img.isNull()) {
+        clearCache(song, img, true);
+    }
     gotAlbumCover(song, img, file);
 }
 

