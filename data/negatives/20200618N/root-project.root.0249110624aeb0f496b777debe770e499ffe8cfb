commit 0249110624aeb0f496b777debe770e499ffe8cfb
Author: Vassil Vassilev <vasil.georgiev.vasilev@cern.ch>
Date:   Fri Dec 7 13:20:45 2012 +0000

    Don't try to extract out the using directives onto the global scope.
    
    
    git-svn-id: http://root.cern.ch/svn/root/trunk@47917 27541ba8-7e3a-0410-8455-c3a389f83636

diff --git a/interpreter/cling/lib/Interpreter/DeclExtractor.cpp b/interpreter/cling/lib/Interpreter/DeclExtractor.cpp
index 4343ced0ac..11c324234f 100644
--- a/interpreter/cling/lib/Interpreter/DeclExtractor.cpp
+++ b/interpreter/cling/lib/Interpreter/DeclExtractor.cpp
@@ -56,6 +56,8 @@ namespace cling {
       for (DeclStmt::decl_iterator J = DS->decl_begin();
            J != DS->decl_end(); ++J) {
         NamedDecl* ND = dyn_cast<NamedDecl>(*J);
+        if (isa<UsingDirectiveDecl>(*J))
+          continue; // FIXME: Here we should be more elegant.
         if (ND) {
           DeclContext* OldDC = ND->getDeclContext();
 

