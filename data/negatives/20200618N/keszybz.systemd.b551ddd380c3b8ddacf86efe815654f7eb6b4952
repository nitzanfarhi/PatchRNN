commit b551ddd380c3b8ddacf86efe815654f7eb6b4952
Author: Tom Gundersen <teg@jklm.no>
Date:   Mon Dec 29 01:54:04 2014 +0100

    sd-rtnl: rtnl_call - don't dispatch wqueue after timeout has passed
    
    Only a minor change as the timeout would be hit soon thereafetr at the next loop.

diff --git a/src/libsystemd/sd-rtnl/sd-rtnl.c b/src/libsystemd/sd-rtnl/sd-rtnl.c
index ae3573937..7d388c975 100644
--- a/src/libsystemd/sd-rtnl/sd-rtnl.c
+++ b/src/libsystemd/sd-rtnl/sd-rtnl.c
@@ -701,6 +701,8 @@ int sd_rtnl_call(sd_rtnl *rtnl,
                 r = rtnl_poll(rtnl, true, left);
                 if (r < 0)
                         return r;
+                else if (r == 0)
+                        return -ETIMEDOUT;
 
                 r = dispatch_wqueue(rtnl);
                 if (r < 0)

