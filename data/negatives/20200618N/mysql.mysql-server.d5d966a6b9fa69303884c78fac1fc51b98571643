commit d5d966a6b9fa69303884c78fac1fc51b98571643
Author: Mikael Ronstrom <mikael.ronstrom@oracle.com>
Date:   Wed Apr 20 15:15:47 2011 +0200

    Fixed error in merge

diff --git a/sql/sql_prepare.cc b/sql/sql_prepare.cc
index dd16bda60ec..74505c06a77 100644
--- a/sql/sql_prepare.cc
+++ b/sql/sql_prepare.cc
@@ -3401,7 +3401,7 @@ Prepared_statement::execute_loop(String *expanded_query,
   int reprepare_attempt= 0;
 
   /* Check if we got an error when sending long data */
-  if (state == Query_arena::ERROR)
+  if (state == Query_arena::STMT_ERROR)
   {
     my_message(last_errno, last_error, MYF(0));
     return TRUE;

