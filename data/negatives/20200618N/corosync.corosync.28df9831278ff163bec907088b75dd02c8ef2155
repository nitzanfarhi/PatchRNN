commit 28df9831278ff163bec907088b75dd02c8ef2155
Author: Andrew Beekhof <abeekhof@redhat.com>
Date:   Tue Apr 28 14:05:52 2009 +0000

    Call all configured exec_dump_fn's when SIGUSR2 is received
    
    git-svn-id: http://svn.fedorahosted.org/svn/corosync/trunk@2163 fd59a12c-fef9-0310-b244-a6a79926bd2f

diff --git a/exec/main.c b/exec/main.c
index a2bfc3d8..6219962e 100644
--- a/exec/main.c
+++ b/exec/main.c
@@ -133,8 +133,8 @@ static void sigusr2_handler (int num)
 {
 	int i;
 
-	for (i = 0; ais_service[i]; i++) {
-		if (ais_service[i]->exec_dump_fn) {
+	for (i = 0; i < SERVICE_HANDLER_MAXIMUM_COUNT; i++) {
+		if (ais_service[i] && ais_service[i]->exec_dump_fn) {
 			ais_service[i]->exec_dump_fn ();
 		}
 	}

