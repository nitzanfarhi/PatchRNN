commit e9a50167b0116ac5c12242235cb624d41d4166a9
Author: Bradley C. Kuszmaul <bradley@tokutek.com>
Date:   Fri Dec 7 22:27:04 2007 +0000

    Add a strerror for DB_BADFORMAT.  Addresses #156.
    
    git-svn-id: file:///svn/tokudb@1016 c7de825b-a66e-492c-adef-691d508d4ae1

diff --git a/src/ydb.c b/src/ydb.c
index 7d248843a57..3e73f5abac9 100644
--- a/src/ydb.c
+++ b/src/ydb.c
@@ -1301,6 +1301,10 @@ char *db_strerror(int error) {
             return errorstr;
     }
     
+    if (error==DB_BADFORMAT) {
+	return "Database Bad Format (probably a corrupted database)";
+    }
+
     static char unknown_result[100];    // Race condition if two threads call this at the same time.    However even in a bad case, it should be some sort of nul-terminated string.
     errorstr = unknown_result;
     snprintf(errorstr, sizeof unknown_result, "Unknown error code: %d", error);

