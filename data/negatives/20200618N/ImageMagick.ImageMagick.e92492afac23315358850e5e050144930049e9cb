commit e92492afac23315358850e5e050144930049e9cb
Author: Cristy <urban-warrior@imagemagick.org>
Date:   Sat Mar 24 12:42:46 2018 -0400

    https://github.com/ImageMagick/ImageMagick/issues/1052

diff --git a/coders/sgi.c b/coders/sgi.c
index a17f7f9a2..b334cb01c 100644
--- a/coders/sgi.c
+++ b/coders/sgi.c
@@ -1129,6 +1129,7 @@ static MagickBooleanType WriteSGIImage(const ImageInfo *image_info,Image *image,
               runlength=(size_t *) RelinquishMagickMemory(runlength);
             if (packet_info != (MemoryInfo *) NULL)
               packet_info=RelinquishVirtualMemory(packet_info);
+            pixel_info=RelinquishVirtualMemory(pixel_info);
             ThrowWriterException(ResourceLimitError,"MemoryAllocationFailed");
           }
         packets=(unsigned char *) GetVirtualMemoryBlob(packet_info);

