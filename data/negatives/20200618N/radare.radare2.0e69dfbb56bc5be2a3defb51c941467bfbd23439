commit 0e69dfbb56bc5be2a3defb51c941467bfbd23439
Author: Michael Scherer <misc@redhat.com>
Date:   Thu Apr 20 18:37:51 2017 +0200

    Do not fail if vFile:fstat is not implemented on the remote side
    
    See handle_vFile in ./gdb/gdbserver/hostio.c in gdb git, and the documentation
    https://sourceware.org/gdb/onlinedocs/gdb/Host-I_002fO-Packets.html#Host-I_002fO-Packets
    
             An empty response indicates that this operation is not recognized.
    
    vFile:fstat is not supported by gdb 7.6.1, shipped on RHEL 7, for example.

diff --git a/shlr/gdb/src/messages.c b/shlr/gdb/src/messages.c
index 27fb84360..176c213a5 100644
--- a/shlr/gdb/src/messages.c
+++ b/shlr/gdb/src/messages.c
@@ -120,7 +120,13 @@ int handle_fOpen(libgdbr_t *g) {
 }
 
 int handle_fstat(libgdbr_t *g) {
-	if (!*g->data || g->data[0] != 'F' || g->data[1] == '-') {
+	// no data just mean this is not supported by gdb
+	if (!*g->data) {
+        send_ack (g);
+        return 0;
+    }
+
+    if (g->data[0] != 'F' || g->data[1] == '-') {
 		send_ack (g);
 		return -1;
 	}

