commit f89ef27b50b40f279e93d9aa99fe8c92f7c59e32
Author: Christopher Dykes <cdykes@fb.com>
Date:   Fri Apr 1 11:24:47 2016 -0700

    Implement not_reached() for MSVC
    
    Summary: MSVC has an `__assume()` intrinsic for this purpose, so use it.
    
    Reviewed By: swtaarrs
    
    Differential Revision: D3124186
    
    fb-gh-sync-id: 1acf157b8d545506456a50315130b6c94918a5a1
    fbshipit-source-id: 1acf157b8d545506456a50315130b6c94918a5a1

diff --git a/hphp/util/assertions.h b/hphp/util/assertions.h
index e59aec47ac..300ad4a508 100644
--- a/hphp/util/assertions.h
+++ b/hphp/util/assertions.h
@@ -34,11 +34,13 @@
 
 #define IMPLIES(a, b) (!(a) || (b))
 
-#if defined(__INTEL_COMPILER) || defined(_MSC_VER)
+#if defined(__INTEL_COMPILER)
 #define not_reached()                                                \
   do {                                                               \
     assert(false);                                                   \
   } while (true)
+#elif defined(_MSC_VER)
+#define not_reached() __assume(0)
 #else
 #define not_reached() /* gcc-4.5 supports __builtin_unreachable() */  \
   do {                                                                \

