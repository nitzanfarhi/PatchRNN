commit 6d2e7fc0f4c4f06dbd2162bd59505dc4d00282a3
Author: Ensiform <ensiform@gmail.com>
Date:   Wed Oct 23 21:24:49 2013 -0500

    [MP] Convert newlines to spaces in chat messages.

diff --git a/codemp/game/g_cmds.c b/codemp/game/g_cmds.c
index 32aa9f30..d36ba88b 100644
--- a/codemp/game/g_cmds.c
+++ b/codemp/game/g_cmds.c
@@ -1602,15 +1602,19 @@ void G_Say( gentity_t *ent, gentity_t *target, int mode, const char *chatText )
 		mode = SAY_ALL;
 	}
 
+	Q_strncpyz( text, chatText, sizeof(text) );
+
+	Q_strstrip( text, "\n\r", "  " );
+
 	switch ( mode ) {
 	default:
 	case SAY_ALL:
-		G_LogPrintf( "say: %s: %s\n", ent->client->pers.netname, chatText );
+		G_LogPrintf( "say: %s: %s\n", ent->client->pers.netname, text );
 		Com_sprintf (name, sizeof(name), "%s%c%c"EC": ", ent->client->pers.netname, Q_COLOR_ESCAPE, COLOR_WHITE );
 		color = COLOR_GREEN;
 		break;
 	case SAY_TEAM:
-		G_LogPrintf( "sayteam: %s: %s\n", ent->client->pers.netname, chatText );
+		G_LogPrintf( "sayteam: %s: %s\n", ent->client->pers.netname, text );
 		if (Team_GetLocationMsg(ent, location, sizeof(location)))
 		{
 			Com_sprintf (name, sizeof(name), EC"(%s%c%c"EC")"EC": ", 
@@ -1640,8 +1644,6 @@ void G_Say( gentity_t *ent, gentity_t *target, int mode, const char *chatText )
 		break;
 	}
 
-	Q_strncpyz( text, chatText, sizeof(text) );
-
 	if ( target ) {
 		G_SayTo( ent, target, mode, color, name, text, locMsg );
 		return;

