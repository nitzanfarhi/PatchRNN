commit 3f681c14128dd52eadecd0f5889eda904d92bbbc
Author: gfgtdf <f492343@rmqkr.net>
Date:   Mon Feb 15 17:58:43 2016 +0100

    dont allow empty indexes in wml variables
    
    wesnoth.get_variable("a[].b") now gives an error, previously it was the
    same as wesnoth.get_variable("a[0].b")

diff --git a/src/variable_info.cpp b/src/variable_info.cpp
index c7a0cd6d68..6bdae728e1 100644
--- a/src/variable_info.cpp
+++ b/src/variable_info.cpp
@@ -159,7 +159,7 @@ namespace
 		char* endptr;
 		int res = strtol(index_str, &endptr, 10);
 
-		if (*endptr != ']' || res > int(game_config::max_loop))
+		if (*endptr != ']' || res > int(game_config::max_loop) || endptr == index_str)
 		{
 			throw invalid_variablename_exception();
 		}

