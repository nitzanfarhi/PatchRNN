commit 9a1737f4f46da1cf136659404854a86af303a68a
Author: aystarik <aystarik>
Date:   Wed Jun 29 19:18:56 2005 +0000

    Added THREAD_STATE to track threads and mutexes
    
    
    date    2001.11.06.21.29.00;    author rmoore1; state Exp;

diff --git a/source/components/utilities/utmisc.c b/source/components/utilities/utmisc.c
index 5a37e2a60..bd5cc101e 100644
--- a/source/components/utilities/utmisc.c
+++ b/source/components/utilities/utmisc.c
@@ -1,7 +1,7 @@
 /*******************************************************************************
  *
  * Module Name: utmisc - common utility procedures
- *              $Revision: 1.53 $
+ *              $Revision: 1.55 $
  *
  ******************************************************************************/
 
@@ -130,7 +130,6 @@
         MODULE_NAME         ("utmisc")
 
 
-
 /*******************************************************************************
  *
  * FUNCTION:    AcpiUtValidAcpiName
@@ -747,6 +746,46 @@ AcpiUtCreateGenericState (void)
 }
 
 
+/*******************************************************************************
+ *
+ * FUNCTION:    AcpiUtCreateThreadState
+ *
+ * PARAMETERS:  None
+ *
+ * RETURN:      Thread State
+ *
+ * DESCRIPTION: Create a "Thread State" - a flavor of the generic state used
+ *              to track per-thread info during method execution
+ *
+ ******************************************************************************/
+
+ACPI_THREAD_STATE *
+AcpiUtCreateThreadState (
+    void)
+{
+    ACPI_GENERIC_STATE      *State;
+
+
+    FUNCTION_TRACE ("UtCreateThreadState");
+
+
+    /* Create the generic state object */
+
+    State = AcpiUtCreateGenericState ();
+    if (!State)
+    {
+        return_PTR (NULL);
+    }
+
+    /* Init fields specific to the update struct */
+
+    State->Common.DataType = ACPI_DESC_TYPE_STATE_THREAD;
+    State->Thread.ThreadId = AcpiOsGetThreadId ();
+
+    return_PTR ((ACPI_THREAD_STATE *) State);
+}
+
+
 /*******************************************************************************
  *
  * FUNCTION:    AcpiUtCreateUpdateState

