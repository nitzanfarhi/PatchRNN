commit 9884404ad1bf6f249902b1f2f366d17bc0ba41f0
Author: schwarze <schwarze@openbsd.org>
Date:   Fri Jul 14 13:32:27 2017 +0000

    do not print <math class="eqn"><mrow></mrow></math> for empty .EQ;
    issue reported by bentley@

diff --git a/usr.bin/mandoc/eqn_html.c b/usr.bin/mandoc/eqn_html.c
index b725bfc46c6..a0d3ecb0296 100644
--- a/usr.bin/mandoc/eqn_html.c
+++ b/usr.bin/mandoc/eqn_html.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: eqn_html.c,v 1.12 2017/07/08 14:51:01 schwarze Exp $ */
+/*	$OpenBSD: eqn_html.c,v 1.13 2017/07/14 13:32:27 schwarze Exp $ */
 /*
  * Copyright (c) 2011, 2014 Kristaps Dzonsons <kristaps@bsd.lv>
  * Copyright (c) 2017 Ingo Schwarze <schwarze@openbsd.org>
@@ -229,6 +229,9 @@ print_eqn(struct html *p, const struct eqn_box *bp)
 {
 	struct tag	*t;
 
+	if (bp->first == NULL)
+		return;
+
 	t = print_otag(p, TAG_MATH, "c", "eqn");
 
 	p->flags |= HTML_NONOSPACE;

