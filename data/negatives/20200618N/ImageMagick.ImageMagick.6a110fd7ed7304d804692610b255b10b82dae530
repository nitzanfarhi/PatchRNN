commit 6a110fd7ed7304d804692610b255b10b82dae530
Author: dirk <dirk@git.imagemagick.org>
Date:   Mon Feb 9 19:43:08 2015 +0000

    Fixed incorrect change of the alpha channel in ImportQuantumPixels when the alpha type is DisassociatedQuantumAlpha.

diff --git a/MagickCore/quantum-import.c b/MagickCore/quantum-import.c
index a1f4d302f..d8cd9d8d4 100644
--- a/MagickCore/quantum-import.c
+++ b/MagickCore/quantum-import.c
@@ -3642,7 +3642,8 @@ MagickExport size_t ImportQuantumPixels(const Image *image,
         {
           PixelChannel channel=GetPixelChannelChannel(image,i);
           PixelTrait traits=GetPixelChannelTraits(image,channel);
-          if ((traits & UpdatePixelTrait) == 0)
+          if ((channel == AlphaPixelChannel) ||
+              ((traits & UpdatePixelTrait) == 0))
             continue;
           q[i]=ClampToQuantum(gamma*q[i]);
         }

