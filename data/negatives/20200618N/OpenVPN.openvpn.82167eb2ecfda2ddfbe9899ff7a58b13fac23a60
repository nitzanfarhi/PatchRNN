commit 82167eb2ecfda2ddfbe9899ff7a58b13fac23a60
Author: Heiko Hund <heiko.hund@sophos.com>
Date:   Wed Aug 31 14:49:22 2011 +0000

    define IN6_ARE_ADDR_EQUAL macro for WIN32
    
    Windows headers do not define the IN6_ARE_ADDR_EQUAL macro. It needs
    to be defined locally when building for WIN32.
    
    Signed-off-by: Heiko Hund <heiko.hund@sophos.com>
    Acked-by: Gert Doering <gert@greenie.muc.de>
    Signed-off-by: David Sommerseth <davids@redhat.com>

diff --git a/win32.h b/win32.h
index 528af6ca..5b18e3ce 100644
--- a/win32.h
+++ b/win32.h
@@ -41,6 +41,12 @@
  * development environment.
  */
 
+/* MSVC headers do not define this macro, so do it here */
+#ifndef IN6_ARE_ADDR_EQUAL
+#define IN6_ARE_ADDR_EQUAL(a,b) \
+  (memcmp ((const void*)(a), (const void*)(b), sizeof (struct in6_addr)) == 0)
+#endif
+
 void init_win32 (void);
 void uninit_win32 (void);
 

