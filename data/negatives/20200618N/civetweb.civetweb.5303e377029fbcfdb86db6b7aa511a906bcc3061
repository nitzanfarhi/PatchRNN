commit 5303e377029fbcfdb86db6b7aa511a906bcc3061
Author: valenok <devnull@localhost>
Date:   Wed Jun 22 14:01:10 2011 +0100

    Allow NULL passwords in mg_modify_passwords_file

diff --git a/mongoose.c b/mongoose.c
index 8ed9989e..5b73841b 100644
--- a/mongoose.c
+++ b/mongoose.c
@@ -2247,7 +2247,7 @@ int mg_modify_passwords_file(const char *fname, const char *domain,
   fp = fp2 = NULL;
 
   // Regard empty password as no password - remove user record.
-  if (pass[0] == '\0') {
+  if (pass != NULL && pass[0] == '\0') {
     pass = NULL;
   }
 

