commit 98b3ac1b980b0c0ffff24fda8d13ab8c216df4d1
Author: Samuel Ortiz <sameo@linux.intel.com>
Date:   Mon Mar 5 01:03:39 2012 +0100

    NFC: Clear pn533 target structure
    
    The polled target structure should be memset to 0 in order to avoid
    sel_res and sens_res garbage.
    
    Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

diff --git a/drivers/nfc/pn533.c b/drivers/nfc/pn533.c
index 8be0ae626d73..a5766042f0ee 100644
--- a/drivers/nfc/pn533.c
+++ b/drivers/nfc/pn533.c
@@ -904,6 +904,8 @@ static int pn533_target_found(struct pn533 *dev,
 	if (resp->tg != 1)
 		return -EPROTO;
 
+	memset(&nfc_tgt, 0, sizeof(struct nfc_target));
+
 	target_data_len = resp_len - sizeof(struct pn533_poll_response);
 
 	switch (dev->poll_mod_curr) {

