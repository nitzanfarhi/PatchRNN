commit 05705bc8bb8685827609813fe48a928260c6a21b
Author: antirez <antirez@gmail.com>
Date:   Mon Nov 12 15:04:54 2012 +0100

    MIGRATE: fix default timeout to 1000 milliseconds.
    
    When a timeout <= 0 is provided we set a default timeout of 1 second.
    It was set to 1 millisecond for an error resulting from a recent change.

diff --git a/src/cluster.c b/src/cluster.c
index 3e23c73f..a1e576bd 100644
--- a/src/cluster.c
+++ b/src/cluster.c
@@ -1765,7 +1765,7 @@ void migrateCommand(redisClient *c) {
         return;
     if (getLongFromObjectOrReply(c,c->argv[4],&dbid,NULL) != REDIS_OK)
         return;
-    if (timeout <= 0) timeout = 1;
+    if (timeout <= 0) timeout = 1000;
 
     /* Check if the key is here. If not we reply with success as there is
      * nothing to migrate (for instance the key expired in the meantime), but

