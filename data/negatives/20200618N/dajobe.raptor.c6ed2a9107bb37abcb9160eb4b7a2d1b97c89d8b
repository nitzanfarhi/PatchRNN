commit c6ed2a9107bb37abcb9160eb4b7a2d1b97c89d8b
Author: Dave Beckett <dave@dajobe.org>
Date:   Mon Oct 18 21:22:18 2010 -0700

    (raptor_stringbuffer_append_hexadecimal): Added

diff --git a/src/raptor.h b/src/raptor.h
index a3324aa7..71249052 100644
--- a/src/raptor.h
+++ b/src/raptor.h
@@ -1405,6 +1405,8 @@ int raptor_stringbuffer_append_string(raptor_stringbuffer* stringbuffer, const u
 RAPTOR_API
 int raptor_stringbuffer_append_decimal(raptor_stringbuffer* stringbuffer, int integer);
 RAPTOR_API
+int raptor_stringbuffer_append_hexadecimal(raptor_stringbuffer* stringbuffer, int hex);
+RAPTOR_API
 int raptor_stringbuffer_append_stringbuffer(raptor_stringbuffer* stringbuffer, raptor_stringbuffer* append);
 RAPTOR_API
 int raptor_stringbuffer_prepend_counted_string(raptor_stringbuffer* stringbuffer, const unsigned char *string, size_t length, int do_copy);
diff --git a/src/raptor_stringbuffer.c b/src/raptor_stringbuffer.c
index 915b5704..44f0da51 100644
--- a/src/raptor_stringbuffer.c
+++ b/src/raptor_stringbuffer.c
@@ -547,6 +547,33 @@ raptor_stringbuffer_copy_to_string(raptor_stringbuffer* stringbuffer,
   return 0;
 }
 
+
+
+/**
+ * raptor_stringbuffer_append_hexadecimal:
+ * @stringbuffer: raptor stringbuffer
+ * @hex: integer to format
+ *
+ * Add an integer formatted in hexdecimal (base 16) to the stringbuffer.
+ * 
+ * Return value: non-0 on failure
+ **/
+int
+raptor_stringbuffer_append_hexadecimal(raptor_stringbuffer* stringbuffer, 
+                                       int hex)
+{
+  unsigned char buf[2];
+  
+  if(hex < 0 || hex > 0xF)
+     return 1;
+
+  *buf = (hex < 10) ? ('0' + hex) : ('A' + hex - 10);
+  buf[1] = '\0';
+
+  return raptor_stringbuffer_append_counted_string(stringbuffer, buf, 1, 1);
+}
+
+
 #endif
 
 

