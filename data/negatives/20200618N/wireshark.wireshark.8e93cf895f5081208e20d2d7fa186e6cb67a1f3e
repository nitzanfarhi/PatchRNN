commit 8e93cf895f5081208e20d2d7fa186e6cb67a1f3e
Author: Michael TÃ¼xen <tuexen@fh-muenster.de>
Date:   Fri Jul 8 18:29:02 2011 +0000

    Use a pixbuf for widgets used for icons.
    
    svn path=/trunk/; revision=37942

diff --git a/gtk/gui_utils.c b/gtk/gui_utils.c
index f9dc27f2f8..1f1ab8009a 100644
--- a/gtk/gui_utils.c
+++ b/gtk/gui_utils.c
@@ -582,10 +582,12 @@ GtkWidget *xpm_to_widget_from_parent(GtkWidget *parent, const char ** xpm) {
 }
 
 
-/* convert an xpm to a GtkWidget, using the top_level window settings */
-/* (be sure that the top_level window is already being displayed) */
+/* convert an xpm to a GtkWidget */
 GtkWidget *xpm_to_widget(const char ** xpm) {
-    return xpm_to_widget_from_parent(top_level, xpm);
+    GdkPixbuf *pixbuf;
+
+    pixbuf = gdk_pixbuf_new_from_xpm_data(xpm);
+    return gtk_image_new_from_pixbuf(pixbuf);
 }
 
 /* Convert an pixbuf data to a GtkWidget */

