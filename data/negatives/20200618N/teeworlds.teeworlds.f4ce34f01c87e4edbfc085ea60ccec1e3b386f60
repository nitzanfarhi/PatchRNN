commit f4ce34f01c87e4edbfc085ea60ccec1e3b386f60
Author: oy <Tom_Adams@web.de>
Date:   Mon Jul 11 12:02:45 2011 +0200

    close spectator/emoticon menu when changing to team/spectator via bind. Closes #768

diff --git a/src/game/client/components/emoticon.cpp b/src/game/client/components/emoticon.cpp
index bedfaafb..b2f48b80 100644
--- a/src/game/client/components/emoticon.cpp
+++ b/src/game/client/components/emoticon.cpp
@@ -102,6 +102,13 @@ void CEmoticon::OnRender()
 		return;
 	}
 
+	if(m_pClient->m_Snap.m_SpecInfo.m_Active)
+	{
+		m_Active = false;
+		m_WasActive = false;
+		return;
+	}
+
 	m_WasActive = true;
 
 	if (length(m_SelectorMouse) > 140)
diff --git a/src/game/client/components/spectator.cpp b/src/game/client/components/spectator.cpp
index c69a7669..c09b2ee2 100644
--- a/src/game/client/components/spectator.cpp
+++ b/src/game/client/components/spectator.cpp
@@ -162,6 +162,13 @@ void CSpectator::OnRender()
 		return;
 	}
 
+	if(!m_pClient->m_Snap.m_SpecInfo.m_Active)
+	{
+		m_Active = false;
+		m_WasActive = false;
+		return;
+	}
+
 	m_WasActive = true;
 	m_SelectedSpectatorID = NO_SELECTION;
 

