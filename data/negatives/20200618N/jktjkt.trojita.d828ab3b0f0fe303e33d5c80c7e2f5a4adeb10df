commit d828ab3b0f0fe303e33d5c80c7e2f5a4adeb10df
Author: Jan Kundr√°t <jkt@flaska.net>
Date:   Mon May 9 11:20:33 2011 +0200

    Add the basic logging infrastructure into the Tasks
    
    Right now, it's mostly a dumb qDebug() stub; this will change in future.

diff --git a/src/Imap/Tasks/ImapTask.cpp b/src/Imap/Tasks/ImapTask.cpp
index 23a8e119..3906e200 100644
--- a/src/Imap/Tasks/ImapTask.cpp
+++ b/src/Imap/Tasks/ImapTask.cpp
@@ -164,6 +164,12 @@ QString ImapTask::debugIdentification() const
     return QString();
 }
 
+QDebug ImapTask::log()
+{
+    // FIXME: change this to log to a Model's infrastructure
+    return qDebug() << staticMetaObject.className() << debugIdentification();
+}
+
 }
 
 }
diff --git a/src/Imap/Tasks/ImapTask.h b/src/Imap/Tasks/ImapTask.h
index e55b641e..40993231 100644
--- a/src/Imap/Tasks/ImapTask.h
+++ b/src/Imap/Tasks/ImapTask.h
@@ -91,6 +91,14 @@ public:
 protected:
     void _completed();
 
+    /** @short Get a debug logger associated with this task
+
+    Use this function to obtain a logger which can be used for recording debug information associated with the current
+    task. The events will be marked with an identification of the task which triggered them, and could be accessed from
+    the GUI if logging is enabled.
+    */
+    QDebug log();
+
 private:
     void handleResponseCode( const Imap::Responses::State* const resp );
 

