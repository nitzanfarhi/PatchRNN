commit aa189ecdc0c7fad2166ba6d133df8bd214550f68
Author: Tomas Winkler <tomas.winkler@intel.com>
Date:   Tue May 29 16:39:10 2012 +0300

    misc: mei: set IRQF_ONESHOT for msi request_threaded_irq
    
    when the default irq quick handler is used then IRQF_ONESHOT must be set
    otherwise the request fails and following error is displayed:
    
    genirq: Threaded irq requested with handler=NULL and !ONESHOT for irq ...
    
    Signed-off-by: Tomas Winkler <tomas.winkler@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/misc/mei/main.c b/drivers/misc/mei/main.c
index c70333228337..88e5953eb5be 100644
--- a/drivers/misc/mei/main.c
+++ b/drivers/misc/mei/main.c
@@ -982,7 +982,7 @@ static int __devinit mei_probe(struct pci_dev *pdev,
 		err = request_threaded_irq(pdev->irq,
 			NULL,
 			mei_interrupt_thread_handler,
-			0, mei_driver_name, dev);
+			IRQF_ONESHOT, mei_driver_name, dev);
 	else
 		err = request_threaded_irq(pdev->irq,
 			mei_interrupt_quick_handler,

