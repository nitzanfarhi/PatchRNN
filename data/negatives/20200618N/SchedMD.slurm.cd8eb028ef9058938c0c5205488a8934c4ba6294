commit cd8eb028ef9058938c0c5205488a8934c4ba6294
Author: Morris Jette <jette@schedmd.com>
Date:   Mon Apr 25 13:50:33 2011 -0700

    Modify srun to accept --alps options and print a warning. This makes for simpler testing if we
    have slurm srun command installed on a cray system instead of the wrapper.

diff --git a/src/srun/opt.c b/src/srun/opt.c
index da24ad197d..b5e5aae021 100644
--- a/src/srun/opt.c
+++ b/src/srun/opt.c
@@ -181,6 +181,7 @@
 #define LONG_OPT_DEBUG_SLURMD    0x14f
 #define LONG_OPT_TIME_MIN        0x150
 #define LONG_OPT_GRES            0x151
+#define LONG_OPT_ALPS            0x152
 
 extern char **environ;
 
@@ -758,6 +759,7 @@ static void set_options(const int argc, char **argv)
 		{"disable-status", no_argument,      0, 'X'},
 		{"no-allocate",   no_argument,       0, 'Z'},
 		{"acctg-freq",       required_argument, 0, LONG_OPT_ACCTG_FREQ},
+		{"alps",             required_argument, 0, LONG_OPT_ALPS},
 		{"begin",            required_argument, 0, LONG_OPT_BEGIN},
 		{"blrts-image",      required_argument, 0, LONG_OPT_BLRTS_IMAGE},
 		{"checkpoint",       required_argument, 0, LONG_OPT_CHECKPOINT},
@@ -1448,6 +1450,9 @@ static void set_options(const int argc, char **argv)
 			xfree(opt.gres);
 			opt.gres = xstrdup(optarg);
 			break;
+		case LONG_OPT_ALPS:
+			verbose("Not running ALPS. --alps option ignored.");
+			break;
 		default:
 			if (spank_process_option (opt_char, optarg) < 0) {
 				exit(error_exit);

