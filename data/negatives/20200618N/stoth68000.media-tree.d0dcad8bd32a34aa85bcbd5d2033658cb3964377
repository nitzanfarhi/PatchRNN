commit d0dcad8bd32a34aa85bcbd5d2033658cb3964377
Author: Vincent Cuissard <cuissard@marvell.com>
Date:   Fri Jun 12 15:35:54 2015 +0200

    NFC: nfcmrvl: set PB_BAIL_OUT at setup
    
    PB_BAIL_OUT parameter as to be set to one. This is needed because
    digital protocol 1.0 is used in combination with ISO15693 protocol.
    
    Signed-off-by: Vincent Cuissard <cuissard@marvell.com>
    Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>

diff --git a/drivers/nfc/nfcmrvl/main.c b/drivers/nfc/nfcmrvl/main.c
index 54ed8acc2a71..4a8866d62941 100644
--- a/drivers/nfc/nfcmrvl/main.c
+++ b/drivers/nfc/nfcmrvl/main.c
@@ -82,6 +82,9 @@ static int nfcmrvl_nci_send(struct nci_dev *ndev, struct sk_buff *skb)
 
 static int nfcmrvl_nci_setup(struct nci_dev *ndev)
 {
+	__u8 val = 1;
+
+	nci_set_config(ndev, NFCMRVL_PB_BAIL_OUT, 1, &val);
 	return 0;
 }
 
diff --git a/drivers/nfc/nfcmrvl/nfcmrvl.h b/drivers/nfc/nfcmrvl/nfcmrvl.h
index 09780d57c9b8..e5a7e5464f2e 100644
--- a/drivers/nfc/nfcmrvl/nfcmrvl.h
+++ b/drivers/nfc/nfcmrvl/nfcmrvl.h
@@ -32,6 +32,12 @@
 #define NFCMRVL_GPIO_PIN_NFC_ACTIVE		0xB
 #define NFCMRVL_NCI_MAX_EVENT_SIZE		260
 
+/*
+** NCI FW Parmaters
+*/
+
+#define NFCMRVL_PB_BAIL_OUT			0x11
+
 /*
 ** HCI defines
 */

