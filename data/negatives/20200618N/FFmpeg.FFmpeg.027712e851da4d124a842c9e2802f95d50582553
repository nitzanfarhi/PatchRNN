commit 027712e851da4d124a842c9e2802f95d50582553
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Dec 13 03:10:16 2013 +0100

    jvdec: Return EOF on end of file

diff --git a/libavformat/jvdec.c b/libavformat/jvdec.c
index cf9df8c977..caf29a8f6c 100644
--- a/libavformat/jvdec.c
+++ b/libavformat/jvdec.c
@@ -184,6 +184,9 @@ static int read_packet(AVFormatContext *s, AVPacket *pkt)
         }
     }
 
+    if (s->pb->eof_reached)
+        return AVERROR_EOF;
+
     return AVERROR(EIO);
 }
 

