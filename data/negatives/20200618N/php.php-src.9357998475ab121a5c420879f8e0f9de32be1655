commit 9357998475ab121a5c420879f8e0f9de32be1655
Author: Stanislav Malyshev <stas@php.net>
Date:   Fri Apr 10 16:55:51 2009 +0000

    isync with 5 branch

diff --git a/ext/intl/grapheme/grapheme_string.c b/ext/intl/grapheme/grapheme_string.c
index 995495e058..9a53afa72e 100755
--- a/ext/intl/grapheme/grapheme_string.c
+++ b/ext/intl/grapheme/grapheme_string.c
@@ -542,7 +542,7 @@ PHP_FUNCTION(grapheme_substr)
 		length += iter_val;
 	}
 	
-	if ( UBRK_DONE == sub_str_end_pos ) {
+	if ( UBRK_DONE == sub_str_end_pos && length < 0) {
 	
 		intl_error_set( NULL, U_ILLEGAL_ARGUMENT_ERROR, "grapheme_substr: length not contained in string", 1 TSRMLS_CC );
 	

