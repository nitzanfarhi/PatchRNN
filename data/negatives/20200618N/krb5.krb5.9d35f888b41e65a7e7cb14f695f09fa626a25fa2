commit 9d35f888b41e65a7e7cb14f695f09fa626a25fa2
Author: John Kohl <jtkohl@mit.edu>
Date:   Wed May 1 11:20:24 1991 +0000

    use krb5_checksum_size macro
    
    git-svn-id: svn://anonsvn.mit.edu/krb5/trunk@2080 dc483132-0cff-0310-8789-dd5450dbe970

diff --git a/src/kdc/kdc_util.c b/src/kdc/kdc_util.c
index 58bdc7c58..d6aac7aa6 100644
--- a/src/kdc/kdc_util.c
+++ b/src/kdc/kdc_util.c
@@ -237,7 +237,7 @@ krb5_tkt_authent **ret_authdat;
 
     /* check application checksum vs. tgs request */
     if (!(our_cksum.contents = (krb5_octet *)
-	  malloc(krb5_cksumarray[our_cksum.checksum_type]->checksum_length))) {
+	  malloc(krb5_checksum_size(our_cksum.checksum_type)))) {
 	krb5_free_ap_req(apreq);
 	return ENOMEM; /* XXX cktype nosupp */
     }

