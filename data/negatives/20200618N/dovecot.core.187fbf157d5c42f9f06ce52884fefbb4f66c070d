commit 187fbf157d5c42f9f06ce52884fefbb4f66c070d
Author: Timo Sirainen <timo.sirainen@dovecot.fi>
Date:   Sat Oct 14 12:54:18 2017 +0300

    doveadm proxy: Don't crash if remote doesn't support log proxying

diff --git a/src/doveadm/server-connection.c b/src/doveadm/server-connection.c
index 8776b39ab..fa12d629d 100644
--- a/src/doveadm/server-connection.c
+++ b/src/doveadm/server-connection.c
@@ -413,7 +413,8 @@ static bool server_connection_input_one(struct server_connection *conn)
 		return FALSE;
 
 	/* check logs */
-	(void)server_connection_print_log(conn);
+	if (conn->log_input != NULL)
+		(void)server_connection_print_log(conn);
 
 	switch (conn->state) {
 	case SERVER_REPLY_STATE_DONE:

