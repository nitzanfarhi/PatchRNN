commit 60a6ecd7dd08d0a5d522e8c39a6adb5328c2b220
Author: Lukasz Janyst <ljanyst@cern.ch>
Date:   Fri Jun 13 17:42:07 2014 +0200

    [XrdCl] Check for copy source and target validity to display proper error messages

diff --git a/src/XrdCl/XrdClCopyProcess.cc b/src/XrdCl/XrdClCopyProcess.cc
index 514530ca..6e99ee03 100644
--- a/src/XrdCl/XrdClCopyProcess.cc
+++ b/src/XrdCl/XrdClCopyProcess.cc
@@ -141,8 +141,13 @@ namespace XrdCl
 
       props.Get( "source", tmp );
       URL source = tmp;
+      if( !source.IsValid() )
+        return XRootDStatus( stError, errInvalidArgs, 0, "invalid source" );
+
       props.Get( "target", tmp );
       URL target = tmp;
+      if( !target.IsValid() )
+        return XRootDStatus( stError, errInvalidArgs, 0, "invalid target" );
 
       bool tpc         = false;
       bool tpcFallBack = false;

