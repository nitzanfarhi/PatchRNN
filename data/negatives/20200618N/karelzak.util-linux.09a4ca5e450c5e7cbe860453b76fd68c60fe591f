commit 09a4ca5e450c5e7cbe860453b76fd68c60fe591f
Author: Karel Zak <kzak@redhat.com>
Date:   Mon Jun 8 16:45:15 2015 +0200

    libfdisk: (dos) fix tiny partitions calculation
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

diff --git a/libfdisk/src/dos.c b/libfdisk/src/dos.c
index e5f708132..53c7484bf 100644
--- a/libfdisk/src/dos.c
+++ b/libfdisk/src/dos.c
@@ -1204,6 +1204,8 @@ static int add_partition(struct fdisk_context *cxt, size_t n,
 		/* Don't try to be smart on very small partitions and don't
 		 * align so small sizes, just follow the resurst */
 		isrel = 0;
+		if (stop > start)
+			stop -= 1;
 		DBG(LABEL, ul_debug("DOS: don't align end os tiny partition [start=%ju, stop=%ju, grain=%lu]",
 			   start, stop, cxt->grain));
 	}

