commit ea56505bedd03e21f497c59cece15a62b4398fc4
Author: Philippe De Muyter <phdm@macqel.be>
Date:   Mon Apr 29 23:00:18 2013 +0200

    partitions/efi.c: replace useless kzalloc's by kmalloc's
    
    In alloc_read_gpt_entries and alloc_read_gpt_header, the kzalloc'ated
    zones are either totally overwritten by the following read_lba call,
    or freed.  As kmalloc is cheaper than kzalloc, use kmalloc.
    
    Signed-off-by: Philippe De Muyter <phdm@macqel.be>
    Cc: Matt Domsch <Matt_Domsch@dell.com>
    Cc: Panagiotis Issaris <takis@issaris.org>
    Cc: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

diff --git a/block/partitions/efi.c b/block/partitions/efi.c
index ff5804e2f1d2..c85fc895ecdb 100644
--- a/block/partitions/efi.c
+++ b/block/partitions/efi.c
@@ -238,7 +238,7 @@ static gpt_entry *alloc_read_gpt_entries(struct parsed_partitions *state,
                 le32_to_cpu(gpt->sizeof_partition_entry);
 	if (!count)
 		return NULL;
-	pte = kzalloc(count, GFP_KERNEL);
+	pte = kmalloc(count, GFP_KERNEL);
 	if (!pte)
 		return NULL;
 
@@ -267,7 +267,7 @@ static gpt_header *alloc_read_gpt_header(struct parsed_partitions *state,
 	gpt_header *gpt;
 	unsigned ssz = bdev_logical_block_size(state->bdev);
 
-	gpt = kzalloc(ssz, GFP_KERNEL);
+	gpt = kmalloc(ssz, GFP_KERNEL);
 	if (!gpt)
 		return NULL;
 

