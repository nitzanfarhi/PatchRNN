commit 58705bda3c3c41979970cc764b5ee1ffef9d4a7f
Author: Ken Murchison <murch@fastmail.com>
Date:   Wed Jul 11 08:06:16 2018 -0400

    ical_support.c: a component may not contain a UID when trying to apply a patch

diff --git a/imap/ical_support.c b/imap/ical_support.c
index abbc28f46..5af7261d6 100644
--- a/imap/ical_support.c
+++ b/imap/ical_support.c
@@ -1509,7 +1509,7 @@ static void apply_patch_component(struct path_segment_t *path_seg,
 
         /* Check comp-match */
         if (path_seg->match.comp.uid &&
-            strcmp(path_seg->match.comp.uid, icalcomponent_get_uid(comp))) {
+            strcmpnull(path_seg->match.comp.uid, icalcomponent_get_uid(comp))) {
             continue;  /* UID doesn't match */
         }
 

