commit 668438a31ef654a2836992879f9bcd23f4d3421e
Author: Anton Khirnov <anton@khirnov.net>
Date:   Tue Apr 5 19:04:28 2011 +0200

    avio: always compile dyn_buf functions
    
    Fixes build with --disable-muxers --disable-network.
    
    Thanks to Hendrik Leppkes for noticing.

diff --git a/libavformat/aviobuf.c b/libavformat/aviobuf.c
index dd250277f2..49aaf205d6 100644
--- a/libavformat/aviobuf.c
+++ b/libavformat/aviobuf.c
@@ -1040,9 +1040,6 @@ int64_t ffio_read_seek(AVIOContext *s, int stream_index,
     return ret;
 }
 
-/* avio_open_dyn_buf and avio_close_dyn_buf are used in rtp.c to send a response
- * back to the server even if CONFIG_MUXERS is false. */
-#if CONFIG_MUXERS || CONFIG_NETWORK
 /* buffer handling */
 #if FF_API_OLD_AVIO
 int url_open_buf(AVIOContext **s, uint8_t *buf, int buf_size, int flags)
@@ -1189,4 +1186,3 @@ int avio_close_dyn_buf(AVIOContext *s, uint8_t **pbuffer)
     av_free(s);
     return size - padding;
 }
-#endif /* CONFIG_MUXERS || CONFIG_NETWORK */

