commit 39d71e375c4053dce2abf8b27b5db34ea4eb40f6
Author: Marcus Boerger <helly@php.net>
Date:   Sun Feb 5 11:43:44 2006 +0000

    - MFH Fix bug #36287

diff --git a/ext/spl/spl_directory.c b/ext/spl/spl_directory.c
index cc5ba53a16..8a51c0d7c4 100755
--- a/ext/spl/spl_directory.c
+++ b/ext/spl/spl_directory.c
@@ -1203,6 +1203,7 @@ static int spl_filesystem_object_cast(zval *readobj, zval *writeobj, int type, i
 			return SUCCESS;
 		}
 	}
+	ZVAL_NULL(writeobj);
 	return FAILURE;
 }
 /* }}} */

