commit 78454dfc017af59f92ad30fc46e25a5a846f90c1
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Fri Sep 12 18:05:57 2008 +0000

    Fix another 1000l bug in the mono input code.
    
    Originally committed as revision 27590 to svn://svn.mplayerhq.hu/mplayer/trunk/libswscale

diff --git a/libswscale/swscale_template.c b/libswscale/swscale_template.c
index 1dec7b875..bccead88d 100644
--- a/libswscale/swscale_template.c
+++ b/libswscale/swscale_template.c
@@ -2148,8 +2148,8 @@ static inline void RENAME(mono2Y)(uint8_t *dst, uint8_t *src, long width, int fo
     int i, j;
     for (i=0; i<width/8; i++){
         int d= format == PIX_FMT_MONOBLACK ? src[i] : ~src[i];
-        for(j=7; j>=0; j--)
-            dst[i]= ((d>>j)&1)*255;
+        for(j=0; j<8; j++)
+            dst[8*i+j]= ((d>>(7-j))&1)*255;
     }
 }
 

