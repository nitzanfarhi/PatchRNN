commit 6f653ddc347d3fc212d2795bdb83d6d74ef555a2
Author: brain <brain@e03df62e-2008-0410-955e-edbf42e46eb7>
Date:   Wed Oct 4 16:21:15 2006 +0000

    Nickname collisions were broken! :O
    
    
    git-svn-id: http://svn.inspircd.org/repository/trunk/inspircd@5410 e03df62e-2008-0410-955e-edbf42e46eb7

diff --git a/src/modules/m_spanningtree.cpp b/src/modules/m_spanningtree.cpp
index 302d963b1..4849d50c4 100644
--- a/src/modules/m_spanningtree.cpp
+++ b/src/modules/m_spanningtree.cpp
@@ -1818,6 +1818,7 @@ class TreeSocket : public InspSocket
 			// nick collision
 			Instance->Log(DEBUG,"Nick collision on %s!%s@%s: %lu %lu",tempnick,params[4].c_str(),params[2].c_str(),(unsigned long)age,(unsigned long)iter->second->age);
 			this->WriteLine(std::string(":")+this->Instance->Config->ServerName+" KILL "+tempnick+" :Nickname collision");
+			userrec::QuitUser(this->Instance, iter->second, "Nickname collision");
 			return true;
 		}
 

