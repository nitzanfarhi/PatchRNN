commit a2e1b833d9e0231d67e722b7e2f4d79daf919baf
Author: Chris Paulson-Ellis <chris@edesix.com>
Date:   Fri Oct 12 10:54:06 2007 +0100

    [MTD] fix mtdconcat for subpage-write NAND
    
    This allows the mtdconcat driver to work with NAND flash devices that
    support sub-page writes.
    
    Signed-off-by: Chris Paulson-Ellis <chris@edesix.com>
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>

diff --git a/drivers/mtd/mtdconcat.c b/drivers/mtd/mtdconcat.c
index 96be7ef62f35..d563dcd4b264 100644
--- a/drivers/mtd/mtdconcat.c
+++ b/drivers/mtd/mtdconcat.c
@@ -726,6 +726,7 @@ struct mtd_info *mtd_concat_create(struct mtd_info *subdev[],	/* subdevices to c
 	concat->mtd.size = subdev[0]->size;
 	concat->mtd.erasesize = subdev[0]->erasesize;
 	concat->mtd.writesize = subdev[0]->writesize;
+	concat->mtd.subpage_sft = subdev[0]->subpage_sft;
 	concat->mtd.oobsize = subdev[0]->oobsize;
 	concat->mtd.oobavail = subdev[0]->oobavail;
 	if (subdev[0]->writev)

