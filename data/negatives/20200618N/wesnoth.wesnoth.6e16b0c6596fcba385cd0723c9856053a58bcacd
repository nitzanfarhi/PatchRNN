commit 6e16b0c6596fcba385cd0723c9856053a58bcacd
Author: Ignacio R. Morelle <shadowm@wesnoth.org>
Date:   Sat Jan 4 04:47:25 2014 -0300

    addon/info: Add support for the [campaign] feedback_url field from the server

diff --git a/src/addon/info.cpp b/src/addon/info.cpp
index a99a5a220b..8f0a3aefc7 100644
--- a/src/addon/info.cpp
+++ b/src/addon/info.cpp
@@ -80,6 +80,7 @@ void addon_info::read(const config& cfg)
 	}
 
 	this->depends = utils::split(cfg["dependencies"].str());
+	this->feedback_url = cfg["feedback_url"].str();
 
 	this->updated = cfg["timestamp"].to_time_t();
 }
@@ -102,6 +103,7 @@ void addon_info::write(config& cfg) const
 	}
 
 	cfg["dependencies"] = utils::join(this->depends);
+	cfg["feedback_url"] = this->feedback_url;
 
 	cfg["timestamp"] = this->updated;
 }
diff --git a/src/addon/info.hpp b/src/addon/info.hpp
index 67db038a14..5881f31197 100644
--- a/src/addon/info.hpp
+++ b/src/addon/info.hpp
@@ -48,6 +48,8 @@ struct addon_info
 	std::vector<std::string> depends;
 	// std::vector<addon_dependency> conflicts, recommends, replaces;
 
+	std::string feedback_url;
+
 	time_t updated;
 
 	// Artificial upload order index used to preserve add-ons upload order
@@ -60,6 +62,7 @@ struct addon_info
 		, version(), author(), size(), downloads()
 		, uploads(), type(), locales()
 		, depends()
+		, feedback_url()
 		, updated(), order()
 	{}
 
@@ -68,6 +71,7 @@ struct addon_info
 		, version(), author(), size(), downloads()
 		, uploads(), type(), locales()
 		, depends()
+		, feedback_url()
 		, updated(), order()
 	{
 		this->read(cfg);
@@ -87,6 +91,7 @@ struct addon_info
 			this->type = o.type;
 			this->locales = o.locales;
 			this->depends = o.depends;
+			this->feedback_url = o.feedback_url;
 			this->updated = o.updated;
 			this->order = o.order;
 		}

