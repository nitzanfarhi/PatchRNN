commit 198ed6474d603f930430067b8b56955d443e821c
Author: Nicolas George <nicolas.george@normalesup.org>
Date:   Wed Sep 28 17:16:11 2011 +0200

    bitstream: Replace av_realloc by av_realloc_f when relevant.
    
    Signed-off-by: Nicolas George <nicolas.george@normalesup.org>
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libavcodec/bitstream.c b/libavcodec/bitstream.c
index b164ecdd11..191190d8e2 100644
--- a/libavcodec/bitstream.c
+++ b/libavcodec/bitstream.c
@@ -105,8 +105,8 @@ static int alloc_table(VLC *vlc, int size, int use_static)
         if(use_static)
             abort(); //cant do anything, init_vlc() is used with too little memory
         vlc->table_allocated += (1 << vlc->bits);
-        vlc->table = av_realloc(vlc->table,
-                                sizeof(VLC_TYPE) * 2 * vlc->table_allocated);
+        vlc->table = av_realloc_f(vlc->table,
+                                  vlc->table_allocated, sizeof(VLC_TYPE) * 2);
         if (!vlc->table)
             return -1;
     }

