commit 56a59cf301dc5ee8790d72d1ff2c606a0921d558
Author: joreland@mysql.com <>
Date:   Fri Nov 19 13:52:01 2004 +0100

    wl2077: ndb, disable scanning of backup fragments
      (temporary)

diff --git a/ndb/src/kernel/blocks/dbtc/DbtcMain.cpp b/ndb/src/kernel/blocks/dbtc/DbtcMain.cpp
index 8c663b42cbe..9af770db5b7 100644
--- a/ndb/src/kernel/blocks/dbtc/DbtcMain.cpp
+++ b/ndb/src/kernel/blocks/dbtc/DbtcMain.cpp
@@ -8944,7 +8944,12 @@ void Dbtc::execDIGETPRIMCONF(Signal* signal)
   scanptr.i = scanFragptr.p->scanRec;
   ptrCheckGuard(scanptr, cscanrecFileSize, scanRecord);
 
-  if(ScanFragReq::getReadCommittedFlag(scanptr.p->scanRequestInfo))
+  /**
+   * This must be false as select count(*) otherwise
+   *   can "pass" committing on backup fragments and
+   *   get incorrect row count
+   */
+  if(false && ScanFragReq::getReadCommittedFlag(scanptr.p->scanRequestInfo))
   {
     jam();
     Uint32 max = 3+signal->theData[6];

