commit 14bb7a299005d327cf94b86dcca75daf5dc000c9
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Tue Sep 5 07:27:33 2017 +0000

    Fix for JBCS-390.
    Note it is related to PR  59007
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/httpd/httpd/trunk@1807318 13f79535-47bb-0310-9956-ffa450edef68

diff --git a/modules/proxy/mod_proxy_http.c b/modules/proxy/mod_proxy_http.c
index fc9c044021..0acab13892 100644
--- a/modules/proxy/mod_proxy_http.c
+++ b/modules/proxy/mod_proxy_http.c
@@ -1556,11 +1556,14 @@ int ap_proxy_http_process_response(apr_pool_t * p, request_rec *r,
 
         if (ap_is_HTTP_INFO(proxy_status)) {
             interim_response++;
-            /* Reset to old timeout iff we've adjusted it */
             if (do_100_continue
-                && (r->status == HTTP_CONTINUE)
-                && (worker->s->ping_timeout != old_timeout)) {
+                && (r->status == HTTP_CONTINUE)) {
+                /* Done with the 100 continue */
+                do_100_continue = 0;
+                /* Reset to old timeout if we've adjusted it */
+                if  (worker->s->ping_timeout != old_timeout) {
                     apr_socket_timeout_set(backend->sock, old_timeout);
+                }
             }
         }
         else {

