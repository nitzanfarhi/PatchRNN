commit 3131d685d2b6b670b2e6264397dd4a8eb471f1fc
Author: Zardosht Kasheff <zardosht@tokutek.com>
Date:   Sat Oct 20 13:32:08 2012 +0000

    refs #5560, fix bug
    
    git-svn-id: file:///svn/toku/tokudb@49140 c7de825b-a66e-492c-adef-691d508d4ae1

diff --git a/ft/rollback_log_node_cache.cc b/ft/rollback_log_node_cache.cc
index d1df6089477..5add44636fe 100644
--- a/ft/rollback_log_node_cache.cc
+++ b/ft/rollback_log_node_cache.cc
@@ -33,7 +33,7 @@ bool rollback_log_node_cache::give_rollback_log_node(TOKUTXN txn, ROLLBACK_LOG_N
     if (m_num_avail < m_max_num_avail) {
         retval = true;
         uint32_t index = m_first + m_num_avail;
-        if (index > m_max_num_avail) {
+        if (index >= m_max_num_avail) {
             index -= m_max_num_avail;
         }
         m_avail_blocknums[index].b = log->blocknum.b;

