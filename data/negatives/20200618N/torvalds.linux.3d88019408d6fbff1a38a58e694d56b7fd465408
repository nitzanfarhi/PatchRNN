commit 3d88019408d6fbff1a38a58e694d56b7fd465408
Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
Date:   Thu Oct 9 15:26:04 2014 -0700

    mm/slab: move cache_flusharray() out of unlikely.text section
    
    Now, due to likely keyword, compiled code of cache_flusharray() is on
    unlikely.text section.  Although it is uncommon case compared to free to
    cpu cache case, it is common case than free_block().  But, free_block() is
    on normal text section.  This patch fix this odd situation to remove
    likely keyword.
    
    Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
    Cc: Christoph Lameter <cl@linux.com>
    Cc: Pekka Enberg <penberg@kernel.org>
    Cc: David Rientjes <rientjes@google.com>
    Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

diff --git a/mm/slab.c b/mm/slab.c
index c52bc5aa6ba0..fa178e07d673 100644
--- a/mm/slab.c
+++ b/mm/slab.c
@@ -3399,7 +3399,7 @@ static inline void __cache_free(struct kmem_cache *cachep, void *objp,
 	if (nr_online_nodes > 1 && cache_free_alien(cachep, objp))
 		return;
 
-	if (likely(ac->avail < ac->limit)) {
+	if (ac->avail < ac->limit) {
 		STATS_INC_FREEHIT(cachep);
 	} else {
 		STATS_INC_FREEMISS(cachep);

