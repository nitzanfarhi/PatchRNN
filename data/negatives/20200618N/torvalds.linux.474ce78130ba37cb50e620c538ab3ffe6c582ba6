commit 474ce78130ba37cb50e620c538ab3ffe6c582ba6
Author: Enrico Scholz <enrico.scholz@informatik.tu-chemnitz.de>
Date:   Mon Oct 9 16:27:05 2006 -0300

    V4L/DVB (4740): Fixed an if-block to avoid floating with debug-messages
    
    The dbgarg() macro in videodev.c contains some printk() statements
    where only the first one is influenced by an if-statement. This causes
    floating with debug-messages which is fixed by this patch by adding a
    '{ ... }' pair.
    
    Signed-off-by: Enrico Scholz <enrico.scholz@informatik.tu-chemnitz.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

diff --git a/drivers/media/video/videodev.c b/drivers/media/video/videodev.c
index 479a0675cf60..98de872042a8 100644
--- a/drivers/media/video/videodev.c
+++ b/drivers/media/video/videodev.c
@@ -17,10 +17,11 @@
  */
 
 #define dbgarg(cmd, fmt, arg...) \
-		if (vfd->debug & V4L2_DEBUG_IOCTL_ARG)			\
+		if (vfd->debug & V4L2_DEBUG_IOCTL_ARG) {		\
 			printk (KERN_DEBUG "%s: ",  vfd->name);		\
 			v4l_printk_ioctl(cmd);				\
-			printk (KERN_DEBUG "%s: " fmt, vfd->name, ## arg);
+			printk (KERN_DEBUG "%s: " fmt, vfd->name, ## arg); \
+		}
 
 #define dbgarg2(fmt, arg...) \
 		if (vfd->debug & V4L2_DEBUG_IOCTL_ARG)			\

