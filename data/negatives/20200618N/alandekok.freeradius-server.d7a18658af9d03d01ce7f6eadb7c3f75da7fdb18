commit d7a18658af9d03d01ce7f6eadb7c3f75da7fdb18
Author: aland <aland>
Date:   Tue Feb 11 16:45:05 2003 +0000

            When reading the 'users' file, if the line contains nothing
            but whitespace, then ignore it.
    
            This will help minimize situations when the parser complains
            about 'previous line missing comma', when it doesn't make sense.

diff --git a/src/main/files.c b/src/main/files.c
index 28f3d1fac..c929bca39 100644
--- a/src/main/files.c
+++ b/src/main/files.c
@@ -160,6 +160,20 @@ int pairlist_read(const char *file, PAIR_LIST **list, int complain)
 			return -1;
 		}
 		if (buffer[0] == '#' || buffer[0] == '\n') continue;
+
+		/*
+		 *	If the line contains nothing but whitespace,
+		 *	ignore it.
+		 */
+		ptr = buffer;
+		while ((ptr[0] == ' ') ||
+		       (ptr[0] == '\t') ||
+		       (ptr[0] == '\r') ||
+		       (ptr[0] == '\n')) {
+			ptr++;
+		}
+		if (ptr[0] == '\0') continue;
+
 parse_again:
 		if(mode == FIND_MODE_NAME) {
 			/*

