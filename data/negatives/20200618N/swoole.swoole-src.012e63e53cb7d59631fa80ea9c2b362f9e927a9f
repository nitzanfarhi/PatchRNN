commit 012e63e53cb7d59631fa80ea9c2b362f9e927a9f
Author: matyhtf <mikan.tenny@gmail.com>
Date:   Tue Mar 10 16:52:38 2015 +0800

    reset conn->direct_send.

diff --git a/src/network/ReactorThread.c b/src/network/ReactorThread.c
index 23408f57..e82fe748 100644
--- a/src/network/ReactorThread.c
+++ b/src/network/ReactorThread.c
@@ -626,6 +626,7 @@ static int swReactorThread_onWrite(swReactor *reactor, swEvent *ev)
     if (swBuffer_empty(conn->out_buffer))
     {
         reactor->set(reactor, fd, SW_FD_TCP | SW_EVENT_READ);
+        conn->direct_send = 1;
     }
     return SW_OK;
 }

