commit 600b9c5c8c34df5d0a9116c9c8bf1665235cadc4
Author: Vitor Sessak <vitor1001@gmail.com>
Date:   Sat Sep 12 16:23:13 2009 +0000

    Do not do free AVStream in case of error, this is not supposed to be
    done by the demuxer.
    
    Fix issue 1378.
    
    Originally committed as revision 19825 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavdevice/oss_audio.c b/libavdevice/oss_audio.c
index 5b0d02a2f..ed1a7a14a 100644
--- a/libavdevice/oss_audio.c
+++ b/libavdevice/oss_audio.c
@@ -228,7 +228,6 @@ static int audio_read_header(AVFormatContext *s1, AVFormatParameters *ap)
 
     ret = audio_open(s1, 0, s1->filename);
     if (ret < 0) {
-        av_free(st);
         return AVERROR(EIO);
     }
 

