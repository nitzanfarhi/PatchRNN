commit 106c604f29b9a49df94f83687b4684db8350e382
Author: Aleksey Kliger <aleksey@xamarin.com>
Date:   Wed Aug 3 16:33:18 2016 -0400

    [marshal] Wrap icall managed obj input arguments with handles.

diff --git a/mono/metadata/marshal.c b/mono/metadata/marshal.c
index 75446e48ce6..a655fbd2296 100644
--- a/mono/metadata/marshal.c
+++ b/mono/metadata/marshal.c
@@ -7819,8 +7819,12 @@ mono_marshal_get_native_wrapper (MonoMethod *method, gboolean check_exceptions,
 				mono_mb_emit_byte (mb, CEE_LDARG_0);
 				mono_mb_emit_icall (mb, mono_handle_new);
 			}
-			for (i = 0; i < sig->param_count; i++)
+			for (i = 0; i < sig->param_count; i++) {
 				mono_mb_emit_ldarg (mb, i + sig->hasthis);
+				if (MONO_TYPE_IS_REFERENCE (sig->params [i])) {
+					mono_mb_emit_icall (mb, mono_handle_new);
+				}
+			}
 			mono_mb_emit_ldloc_addr (mb, error_var);
 		} else {
 			if (sig->hasthis)

