commit 1e7fbc6d3cfcffe1d490ab8851e712c6e98fa771
Author: Juan Quintela <quintela@redhat.com>
Date:   Mon Oct 5 20:30:32 2009 +0200

    x86: fix miss merge
    
    There was a missmerge, and then we got a tail recursive call to cpu_post_load
    without case base :)
    
    Signed-off-by: Juan Quintela <quintela@redhat.com>
    Signed-off-by: Anthony Liguori <aliguori@us.ibm.com>

diff --git a/target-i386/machine.c b/target-i386/machine.c
index c008209863..b13eff4941 100644
--- a/target-i386/machine.c
+++ b/target-i386/machine.c
@@ -383,7 +383,8 @@ static int cpu_post_load(void *opaque, int version_id)
         }
     }
 
-    return cpu_post_load(env, version_id);
+    tlb_flush(env, 1);
+    return 0;
 }
 
 const VMStateDescription vmstate_cpu = {

