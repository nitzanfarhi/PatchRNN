commit 9f2a538a9c09114cfdf2345a3da421b35ea30332
Author: deraadt <deraadt@openbsd.org>
Date:   Thu Jun 20 18:26:49 2002 +0000

    fix patch; moritz@jodeit.org

diff --git a/libexec/comsat/comsat.c b/libexec/comsat/comsat.c
index 0f6eee6cc4e..0b047933405 100644
--- a/libexec/comsat/comsat.c
+++ b/libexec/comsat/comsat.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: comsat.c,v 1.22 2002/06/19 22:44:04 deraadt Exp $	*/
+/*	$OpenBSD: comsat.c,v 1.23 2002/06/20 18:26:49 deraadt Exp $	*/
 
 /*
  * Copyright (c) 1980, 1993
@@ -41,7 +41,7 @@ static char copyright[] =
 
 #ifndef lint
 /*static char sccsid[] = "from: @(#)comsat.c	8.1 (Berkeley) 6/4/93";*/
-static char rcsid[] = "$OpenBSD: comsat.c,v 1.22 2002/06/19 22:44:04 deraadt Exp $";
+static char rcsid[] = "$OpenBSD: comsat.c,v 1.23 2002/06/20 18:26:49 deraadt Exp $";
 #endif /* not lint */
 
 #include <sys/param.h>
@@ -245,14 +245,14 @@ notify(utp, offset)
 		    (int)sizeof(utp->ut_name), utp->ut_name, tty);
 		return;
 	}
-	dsyslog(LOG_DEBUG, "notify %s on %s", utp->ut_name, tty);
+	dsyslog(LOG_DEBUG, "notify %.*s on %s", (int)sizeof(utp->ut_name),
+	    utp->ut_name, tty);
 	if (fork())
 		return;
 	(void)signal(SIGALRM, SIG_DFL);
 	(void)alarm((u_int)30);
 	if ((tp = fopen(tty, "w")) == NULL) {
-		dsyslog(LOG_ERR, "%.*s: %s", (int)sizeof(utp->ut_name),
-		    tty, strerror(errno));
+		dsyslog(LOG_ERR, "%s: %s", tty, strerror(errno));
 		_exit(1);
 	}
 	(void)tcgetattr(fileno(tp), &ttybuf);

