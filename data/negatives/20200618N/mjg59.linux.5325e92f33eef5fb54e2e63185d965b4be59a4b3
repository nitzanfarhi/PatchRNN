commit 5325e92f33eef5fb54e2e63185d965b4be59a4b3
Author: simon <simon@ubuntu.(none)>
Date:   Wed Apr 6 21:40:15 2011 +0000

    usb: plusb: Add debug to reset function
    
    This patch adds some debug to the reset function to print out the
    reason why it fails.
    
    Signed-off-by: Simon Wood <simon@mungewell.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/drivers/net/usb/plusb.c b/drivers/net/usb/plusb.c
index f46aa07bfa69..217aec8a768f 100644
--- a/drivers/net/usb/plusb.c
+++ b/drivers/net/usb/plusb.c
@@ -94,11 +94,15 @@ pl_set_QuickLink_features(struct usbnet *dev, int val)
 
 static int pl_reset(struct usbnet *dev)
 {
+	int status;
+
 	/* some units seem to need this reset, others reject it utterly.
 	 * FIXME be more like "naplink" or windows drivers.
 	 */
-	(void) pl_set_QuickLink_features(dev,
+	status = pl_set_QuickLink_features(dev,
 		PL_S_EN|PL_RESET_OUT|PL_RESET_IN|PL_PEER_E);
+	if (status != 0 && netif_msg_probe(dev))
+		netif_dbg(dev, link, dev->net, "pl_reset --> %d\n", status);
 	return 0;
 }
 

