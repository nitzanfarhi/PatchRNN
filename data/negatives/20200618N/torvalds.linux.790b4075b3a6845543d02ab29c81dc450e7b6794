commit 790b4075b3a6845543d02ab29c81dc450e7b6794
Author: Vinod Koul <vinod.koul@intel.com>
Date:   Mon Oct 20 20:54:31 2014 +0530

    ASoC: intel: log an error on double free
    
    the stream context should be freed only once on stream cleanup. If we ever
    hit a chance that stream context is getting double freed, though not an
    cause of panic as memory allocator can deal with this, we should still log
    this to help in finding issues and debugging
    
    Signed-off-by: Vinod Koul <vinod.koul@intel.com>
    Signed-off-by: Mark Brown <broonie@kernel.org>

diff --git a/sound/soc/intel/sst/sst_drv_interface.c b/sound/soc/intel/sst/sst_drv_interface.c
index aadb0dbaa01c..3a5e92096b82 100644
--- a/sound/soc/intel/sst/sst_drv_interface.c
+++ b/sound/soc/intel/sst/sst_drv_interface.c
@@ -55,6 +55,8 @@ int free_stream_context(struct intel_sst_drv *ctx, unsigned int str_id)
 		if (ret)
 			sst_clean_stream(&ctx->streams[str_id]);
 		return ret;
+	} else {
+		dev_err(ctx->dev, "we tried to free stream context %d which was freed!!!\n", str_id);
 	}
 	return ret;
 }

