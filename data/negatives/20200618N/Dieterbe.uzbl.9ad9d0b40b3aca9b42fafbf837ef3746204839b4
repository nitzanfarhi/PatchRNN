commit 9ad9d0b40b3aca9b42fafbf837ef3746204839b4
Author: Ben Boeckel <mathstuf@gmail.com>
Date:   Sun Jan 27 00:31:41 2013 -0500

    Move keyboard callback into gui.c

diff --git a/src/callbacks.c b/src/callbacks.c
index 9aacc875..1f423427 100644
--- a/src/callbacks.c
+++ b/src/callbacks.c
@@ -129,26 +129,6 @@ focus_cb(GtkWidget* window, GdkEventFocus* event, void *ud) {
     return FALSE;
 }
 
-gboolean
-key_press_cb (GtkWidget* window, GdkEventKey* event) {
-    (void) window;
-
-    if(event->type == GDK_KEY_PRESS)
-        key_to_event(event->keyval, event->state, event->is_modifier, GDK_KEY_PRESS);
-
-    return uzbl.behave.forward_keys ? FALSE : TRUE;
-}
-
-gboolean
-key_release_cb (GtkWidget* window, GdkEventKey* event) {
-    (void) window;
-
-    if(event->type == GDK_KEY_RELEASE)
-        key_to_event(event->keyval, event->state, event->is_modifier, GDK_KEY_RELEASE);
-
-    return uzbl.behave.forward_keys ? FALSE : TRUE;
-}
-
 gint
 get_click_context() {
     WebKitHitTestResult *ht;
diff --git a/src/callbacks.h b/src/callbacks.h
index 56bf6125..94b08293 100644
--- a/src/callbacks.h
+++ b/src/callbacks.h
@@ -24,12 +24,6 @@ destroy_cb (GtkWidget* widget, gpointer data);
 gboolean
 configure_event_cb(GtkWidget* window, GdkEventConfigure* event);
 
-gboolean
-key_press_cb (GtkWidget* window, GdkEventKey* event);
-
-gboolean
-key_release_cb (GtkWidget* window, GdkEventKey* event);
-
 gboolean
 navigation_decision_cb (WebKitWebView *web_view, WebKitWebFrame *frame,
         WebKitNetworkRequest *request, WebKitWebNavigationAction *navigation_action,
diff --git a/src/gui.c b/src/gui.c
index 4f73e9d7..bcb5d84d 100644
--- a/src/gui.c
+++ b/src/gui.c
@@ -7,6 +7,7 @@
 
 #include "uzbl-core.h"
 #include "callbacks.h"
+#include "events.h"
 #include "variables.h"
 
 #include <gtk/gtk.h>
@@ -39,6 +40,11 @@ uzbl_gui_init (gboolean plugmode)
     }
 }
 
+static gboolean
+key_press_cb (GtkWidget* window, GdkEventKey* event);
+static gboolean
+key_release_cb (GtkWidget* window, GdkEventKey* event);
+
 void
 uzbl_status_bar_init (void)
 {
@@ -170,3 +176,25 @@ uzbl_plug_init (void)
         "signal::key-release-event", G_CALLBACK (key_press_cb), NULL,
         NULL);
 }
+
+/* Status bar callbacks */
+
+gboolean
+key_press_cb (GtkWidget* window, GdkEventKey* event) {
+    (void) window;
+
+    if(event->type == GDK_KEY_PRESS)
+        key_to_event(event->keyval, event->state, event->is_modifier, GDK_KEY_PRESS);
+
+    return uzbl.behave.forward_keys ? FALSE : TRUE;
+}
+
+gboolean
+key_release_cb (GtkWidget* window, GdkEventKey* event) {
+    (void) window;
+
+    if(event->type == GDK_KEY_RELEASE)
+        key_to_event(event->keyval, event->state, event->is_modifier, GDK_KEY_RELEASE);
+
+    return uzbl.behave.forward_keys ? FALSE : TRUE;
+}

