commit 8645c415cf2cbb6ca1256cd3286c03f37aa88742
Author: Richard Levitte <levitte@openssl.org>
Date:   Thu Jun 12 00:57:25 2003 +0000

    Do not try to use non-existent gmtime_r() on SunOS4.
    PR: 585

diff --git a/crypto/o_time.c b/crypto/o_time.c
index 723eb1b5af..785468131e 100644
--- a/crypto/o_time.c
+++ b/crypto/o_time.c
@@ -73,7 +73,7 @@ struct tm *OPENSSL_gmtime(const time_t *timer, struct tm *result)
 	{
 	struct tm *ts = NULL;
 
-#if defined(OPENSSL_THREADS) && !defined(OPENSSL_SYS_WIN32) && !defined(OPENSSL_SYS_OS2) && !defined(__CYGWIN32__) && (!defined(OPENSSL_SYS_VMS) || defined(gmtime_r)) && !defined(OPENSSL_SYS_MACOSX)
+#if defined(OPENSSL_THREADS) && !defined(OPENSSL_SYS_WIN32) && !defined(OPENSSL_SYS_OS2) && !defined(__CYGWIN32__) && (!defined(OPENSSL_SYS_VMS) || defined(gmtime_r)) && !defined(OPENSSL_SYS_MACOSX) && !defined(OPENSSL_SYS_SUNOS)
 	/* should return &data, but doesn't on some systems,
 	   so we don't even look at the return value */
 	gmtime_r(timer,result);

