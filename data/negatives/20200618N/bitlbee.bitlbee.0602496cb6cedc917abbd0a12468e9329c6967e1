commit 0602496cb6cedc917abbd0a12468e9329c6967e1
Author: Wilmer van der Gaast <wilmer@gaast.net>
Date:   Thu May 25 13:22:06 2006 +0200

    Better handling of completely empty HTTP replies in http_client.c.

diff --git a/protocols/http_client.c b/protocols/http_client.c
index 5db31782..e181438c 100644
--- a/protocols/http_client.c
+++ b/protocols/http_client.c
@@ -239,6 +239,11 @@ static void http_incoming_data( gpointer data, int source, GaimInputCondition co
 	return;
 
 got_reply:
+	/* Maybe if the webserver is overloaded, or when there's bad SSL
+	   support... */
+	if( req->bytes_read == 0 )
+		goto cleanup;
+	
 	/* Zero termination is very convenient. */
 	req->reply_headers[req->bytes_read] = 0;
 	

