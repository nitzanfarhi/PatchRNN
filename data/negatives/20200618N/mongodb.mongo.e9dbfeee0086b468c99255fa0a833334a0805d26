commit e9dbfeee0086b468c99255fa0a833334a0805d26
Author: Nathan Myers <ncm@asperasoft.com>
Date:   Thu Sep 15 17:39:02 2016 -0400

    SERVER-25744 failure to ping non-master is OK

diff --git a/src/mongo/s/catalog/replset/replset_dist_lock_manager.cpp b/src/mongo/s/catalog/replset/replset_dist_lock_manager.cpp
index 5f1fc1edde..3201ce1f53 100644
--- a/src/mongo/s/catalog/replset/replset_dist_lock_manager.cpp
+++ b/src/mongo/s/catalog/replset/replset_dist_lock_manager.cpp
@@ -131,7 +131,7 @@ void ReplSetDistLockManager::doTask() {
             auto txn = cc().makeOperationContext();
             auto pingStatus = _catalog->ping(txn.get(), _processID, Date_t::now());
 
-            if (!pingStatus.isOK()) {
+            if (!pingStatus.isOK() && pingStatus != ErrorCodes::NotMaster) {
                 warning() << "pinging failed for distributed lock pinger" << causedBy(pingStatus);
             }
 

