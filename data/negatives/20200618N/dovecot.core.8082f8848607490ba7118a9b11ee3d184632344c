commit 8082f8848607490ba7118a9b11ee3d184632344c
Author: Timo Sirainen <tss@iki.fi>
Date:   Sun Jul 15 00:53:46 2007 +0300

    Assert change
    
    --HG--
    branch : HEAD

diff --git a/src/lib-index/mail-index-view-sync.c b/src/lib-index/mail-index-view-sync.c
index 8efc418f2..a785c91ee 100644
--- a/src/lib-index/mail-index-view-sync.c
+++ b/src/lib-index/mail-index-view-sync.c
@@ -294,9 +294,8 @@ int mail_index_view_sync_begin(struct mail_index_view *view,
 	if (sync_expunges || !view_sync_have_expunges(view)) {
 		view->sync_new_map = view->index->map;
 		view->sync_new_map->refcount++;
-		i_assert(sync_expunges ||
-			 view->index->map->hdr.messages_count >=
-			 view->map->hdr.messages_count);
+		i_assert(view->index->map->hdr.messages_count >=
+			 ctx->finish_min_msg_count);
 
 		/* keep the old mapping without expunges until we're
 		   fully synced */

