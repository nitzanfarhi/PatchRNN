commit 529da704ad1ead755d9e40721f29446cb278e099
Author: Tao Ma <boyu.mt@taobao.com>
Date:   Sat Jul 23 16:07:26 2011 -0400

    ext4: remove unnecessary ext4_get_group_info in ext4_mb_load_buddy
    
    ext4_mb_load_buddy() calls ext4_get_group_info() for setting both
    "grp" and "e4b->bd_info", but it could do "e4b->bd_info = grp".
    
    Reported-by:  Andreas Dilger <adilger@whamcloud.com>
    Signed-off-by: Tao Ma <boyu.mt@taobao.com>
    Signed-off-by: "Theodore Ts'o" <tytso@mit.edu>

diff --git a/fs/ext4/mballoc.c b/fs/ext4/mballoc.c
index 037f680b76f9..447c0f3384ab 100644
--- a/fs/ext4/mballoc.c
+++ b/fs/ext4/mballoc.c
@@ -1126,7 +1126,7 @@ ext4_mb_load_buddy(struct super_block *sb, ext4_group_t group,
 	grp = ext4_get_group_info(sb, group);
 
 	e4b->bd_blkbits = sb->s_blocksize_bits;
-	e4b->bd_info = ext4_get_group_info(sb, group);
+	e4b->bd_info = grp;
 	e4b->bd_sb = sb;
 	e4b->bd_group = group;
 	e4b->bd_buddy_page = NULL;

