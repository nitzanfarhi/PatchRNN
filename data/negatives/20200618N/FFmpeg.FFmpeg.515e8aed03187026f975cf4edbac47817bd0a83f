commit 515e8aed03187026f975cf4edbac47817bd0a83f
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue May 27 17:43:03 2014 +0200

    avfilter/vf_transpose: Avoid using non public AV_PIX_FMT_NB
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libavfilter/vf_transpose.c b/libavfilter/vf_transpose.c
index 58ddd2cb96..d9b165cfeb 100644
--- a/libavfilter/vf_transpose.c
+++ b/libavfilter/vf_transpose.c
@@ -65,7 +65,7 @@ static int query_formats(AVFilterContext *ctx)
     AVFilterFormats *pix_fmts = NULL;
     int fmt;
 
-    for (fmt = 0; fmt < AV_PIX_FMT_NB; fmt++) {
+    for (fmt = 0; av_pix_fmt_desc_get(fmt); fmt++) {
         const AVPixFmtDescriptor *desc = av_pix_fmt_desc_get(fmt);
         if (!(desc->flags & AV_PIX_FMT_FLAG_PAL ||
               desc->flags & AV_PIX_FMT_FLAG_HWACCEL ||

