commit fc7538d3ab68b2c7c80d887d834f913fe519a4e0
Author: art <art@openbsd.org>
Date:   Fri May 15 01:03:20 1998 +0000

    be more gentle with buffers

diff --git a/kerberosIV/kdb_util/kdb_util.c b/kerberosIV/kdb_util/kdb_util.c
index f01671a16f0..a3bad3b0665 100644
--- a/kerberosIV/kdb_util/kdb_util.c
+++ b/kerberosIV/kdb_util/kdb_util.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: kdb_util.c,v 1.5 1998/05/11 11:27:56 art Exp $	*/
+/*	$OpenBSD: kdb_util.c,v 1.6 1998/05/15 01:03:20 art Exp $	*/
 /* $KTH: kdb_util.c,v 1.36 1997/12/05 04:21:50 assar Exp $ */
 
 /*
@@ -213,8 +213,8 @@ add_file(void *db, FILE *file)
 
 	asprintf(&format, 
 	      "%%%ds %%%ds %%d %%d %%d %%hd %%lx %%lx %%%ds %%%ds %%%ds %%%ds",
-	      ANAME_SZ, INST_SZ, sizeof(exp_date), sizeof(mod_date),
-	      ANAME_SZ, INST_SZ);
+	      ANAME_SZ - 1, INST_SZ - 1, sizeof(exp_date) - 1,
+	      sizeof(mod_date) - 1, ANAME_SZ - 1, INST_SZ - 1);
 
 	if (format == NULL)
 	    err(1, "malloc");

