commit 4a81ab00188c5a3b08825fd13b7d08a1fc2c4e65
Author: gfgtdf <f492343@rmqkr.net>
Date:   Thu May 1 20:59:56 2014 +0200

    fix linger mode in mp (21985)

diff --git a/src/play_controller.cpp b/src/play_controller.cpp
index e7f767ee2d..bacbf1f903 100644
--- a/src/play_controller.cpp
+++ b/src/play_controller.cpp
@@ -1392,6 +1392,10 @@ void play_controller::set_defeat_music_list(const std::string& list)
 
 void play_controller::check_victory()
 {
+	if(linger_)
+	{
+		return;
+	}
 	std::set<unsigned> not_defeated;
 	for (unit_map::const_iterator i = units_.begin(),
 	     i_end = units_.end(); i != i_end; ++i)
diff --git a/src/playmp_controller.cpp b/src/playmp_controller.cpp
index e5c6561a65..cc530ec5b2 100644
--- a/src/playmp_controller.cpp
+++ b/src/playmp_controller.cpp
@@ -629,8 +629,10 @@ bool playmp_controller::can_execute_command(const hotkey::hotkey_command& cmd, i
 	switch (command){
 		case hotkey::HOTKEY_ENDTURN:
 			if  (linger_)
-			{
-				return is_host_;
+			{	
+				bool has_next_scenario = !resources::gamedata->next_scenario().empty() &&
+					resources::gamedata->next_scenario() != "null";
+				return is_host_ || !has_next_scenario;
 			}
 			else
 			{

