commit e0b9659fef60fd3ba1a23c09cf277f831a0a9a8f
Author: Romain Bouqueau <romain.bouqueau.pro@gmail.com>
Date:   Wed Jul 29 13:17:47 2015 +0200

    fix crash when dashing a mp4 file with no track

diff --git a/src/media_tools/dash_segmenter.c b/src/media_tools/dash_segmenter.c
index 790c82578..bd2026e3e 100644
--- a/src/media_tools/dash_segmenter.c
+++ b/src/media_tools/dash_segmenter.c
@@ -2843,8 +2843,10 @@ retry_track:
 
 static GF_Err dasher_isom_segment_file(GF_DashSegInput *dash_input, const char *szOutName, GF_DASHSegmenter *dash_cfg, Bool first_in_set)
 {
+	GF_Err e = GF_OK;
 	GF_ISOFile *in = gf_isom_open(dash_input->file_name, GF_ISOM_OPEN_READ, dash_cfg->tmpdir);
-	GF_Err e = gf_media_isom_segment_file(in, szOutName, dash_cfg, dash_input, first_in_set);
+	if (gf_isom_get_track_count(in))
+		e = gf_media_isom_segment_file(in, szOutName, dash_cfg, dash_input, first_in_set);
 	gf_isom_close(in);
 	return e;
 }

