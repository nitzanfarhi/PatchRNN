commit 91214ad5a627d5bb7e9a5f35ec1b7c672884f5a9
Author: John Safranek <john@wolfssl.com>
Date:   Tue Sep 9 17:49:38 2014 -0700

    Fixed issue with ECDH-ECDSA cipher suites rejecting certificates without
    the DigitalSignature key usage.

diff --git a/src/internal.c b/src/internal.c
index 84fa1d03..f81c65be 100644
--- a/src/internal.c
+++ b/src/internal.c
@@ -4123,7 +4123,8 @@ static int DoCertificate(CYASSL* ssl, byte* input, word32* inOutIdx,
                 ret = KEYUSE_ENCIPHER_E;
             }
             if ((ssl->specs.sig_algo == rsa_sa_algo ||
-                    ssl->specs.sig_algo == ecc_dsa_sa_algo) &&
+                    (ssl->specs.sig_algo == ecc_dsa_sa_algo &&
+                         !ssl->specs.static_ecdh)) &&
                 (dCert.extKeyUsage & KEYUSE_DIGITAL_SIG) == 0) {
                 CYASSL_MSG("KeyUse Digital Sig not set");
                 ret = KEYUSE_SIGNATURE_E;

