commit 781aa7b364b2c479bd1f01284dee57229e51fc4c
Author: Karel Zak <kzak@redhat.com>
Date:   Fri Apr 23 11:20:08 2010 +0200

    libblkid: don't gather PART_ENTRY_* values for binary interface
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

diff --git a/shlibs/blkid/src/partitions/partitions.c b/shlibs/blkid/src/partitions/partitions.c
index 9d8f3db7a..259284d84 100644
--- a/shlibs/blkid/src/partitions/partitions.c
+++ b/shlibs/blkid/src/partitions/partitions.c
@@ -627,7 +627,9 @@ details_only:
 	/*
 	 * Gather PART_ENTRY_* values if the current device is a partition.
 	 */
-	if ((blkid_partitions_get_flags(pr) & BLKID_PARTS_ENTRY_DETAILS)) {
+	if (!chn->binary &&
+	    (blkid_partitions_get_flags(pr) & BLKID_PARTS_ENTRY_DETAILS)) {
+
 		if (!blkid_partitions_probe_partition(pr))
 			rc = 0;
 	}

