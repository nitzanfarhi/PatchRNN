commit 898e5d4ca5f8b1a7b56bcaf4710656ba798f2264
Author: Kay Sievers <kay.sievers@vrfy.org>
Date:   Tue May 25 09:47:04 2010 +0200

    cdrom_id: do not export ID_CDROM_MEDIA_SESSION_LAST_OFFSET= for single session media

diff --git a/extras/cdrom_id/cdrom_id.c b/extras/cdrom_id/cdrom_id.c
index 935f117c4..2bea2e4b0 100644
--- a/extras/cdrom_id/cdrom_id.c
+++ b/extras/cdrom_id/cdrom_id.c
@@ -810,14 +810,14 @@ print:
 		printf("ID_CDROM_MEDIA_SESSION_NEXT=%d\n", cd_media_session_next);
 	if (cd_media_session_count > 0)
 		printf("ID_CDROM_MEDIA_SESSION_COUNT=%d\n", cd_media_session_count);
+	if (cd_media_session_count > 1 && cd_media_session_last_offset > 0)
+		printf("ID_CDROM_MEDIA_SESSION_LAST_OFFSET=%llu\n", cd_media_session_last_offset);
 	if (cd_media_track_count > 0)
 		printf("ID_CDROM_MEDIA_TRACK_COUNT=%d\n", cd_media_track_count);
 	if (cd_media_track_count_audio > 0)
 		printf("ID_CDROM_MEDIA_TRACK_COUNT_AUDIO=%d\n", cd_media_track_count_audio);
 	if (cd_media_track_count_data > 0)
 		printf("ID_CDROM_MEDIA_TRACK_COUNT_DATA=%d\n", cd_media_track_count_data);
-	if (cd_media_session_last_offset > 0)
-		printf("ID_CDROM_MEDIA_SESSION_LAST_OFFSET=%llu\n", cd_media_session_last_offset);
 exit:
 	if (fd >= 0)
 		close(fd);

