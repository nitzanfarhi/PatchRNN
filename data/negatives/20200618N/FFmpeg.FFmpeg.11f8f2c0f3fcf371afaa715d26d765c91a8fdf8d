commit 11f8f2c0f3fcf371afaa715d26d765c91a8fdf8d
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue Aug 14 02:01:38 2012 +0200

    avformat: export queue_attached_pictures
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libavformat/avformat.h b/libavformat/avformat.h
index cd8884d02f..05b4fc74cf 100644
--- a/libavformat/avformat.h
+++ b/libavformat/avformat.h
@@ -2007,6 +2007,9 @@ AVRational av_guess_sample_aspect_ratio(AVFormatContext *format, AVStream *strea
 int avformat_match_stream_specifier(AVFormatContext *s, AVStream *st,
                                     const char *spec);
 
+void avformat_queue_attached_pictures(AVFormatContext *s);
+
+
 /**
  * @}
  */
diff --git a/libavformat/utils.c b/libavformat/utils.c
index a522c48f2b..d166d083dd 100644
--- a/libavformat/utils.c
+++ b/libavformat/utils.c
@@ -571,7 +571,7 @@ static AVPacket *add_to_pktbuf(AVPacketList **packet_buffer, AVPacket *pkt,
     return &pktl->pkt;
 }
 
-static void queue_attached_pictures(AVFormatContext *s)
+void avformat_queue_attached_pictures(AVFormatContext *s)
 {
     int i;
     for (i = 0; i < s->nb_streams; i++)
@@ -646,7 +646,7 @@ int avformat_open_input(AVFormatContext **ps, const char *filename, AVInputForma
         goto fail;
     ff_id3v2_free_extra_meta(&id3v2_extra_meta);
 
-    queue_attached_pictures(s);
+    avformat_queue_attached_pictures(s);
 
     if (!(s->flags&AVFMT_FLAG_PRIV_OPT) && s->pb && !s->data_offset)
         s->data_offset = avio_tell(s->pb);
@@ -1985,7 +1985,7 @@ int av_seek_frame(AVFormatContext *s, int stream_index, int64_t timestamp, int f
     int ret = seek_frame_internal(s, stream_index, timestamp, flags);
 
     if (ret >= 0)
-        queue_attached_pictures(s);
+        avformat_queue_attached_pictures(s);
 
     return ret;
 }
@@ -2001,7 +2001,7 @@ int avformat_seek_file(AVFormatContext *s, int stream_index, int64_t min_ts, int
         ret = s->iformat->read_seek2(s, stream_index, min_ts, ts, max_ts, flags);
 
         if (ret >= 0)
-            queue_attached_pictures(s);
+            avformat_queue_attached_pictures(s);
         return ret;
     }
 

