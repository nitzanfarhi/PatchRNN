commit 2ee913d372b656598af6bdda527921c7fbb12ed3
Author: alex <alex@b3059339-0415-0410-9bf9-f77b7e298cf2>
Date:   Sun Nov 23 19:30:05 2003 +0000

    workaround! exit if there's no video stream (hopefully it's a proper fix)
    
    
    git-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@11514 b3059339-0415-0410-9bf9-f77b7e298cf2

diff --git a/mencoder.c b/mencoder.c
index 4caed3bd03..7f656a62a7 100644
--- a/mencoder.c
+++ b/mencoder.c
@@ -510,6 +510,12 @@ d_dvdsub=demuxer->sub;
 sh_audio=d_audio->sh;
 sh_video=d_video->sh;
 
+  if(!sh_video)
+  {
+	mp_msg(MSGT_CPLAYER,MSGL_FATAL,"Video stream is mandatory!\n"); 
+	mencoder_exit(1,NULL);
+  }
+
   if(!video_read_properties(sh_video)){
       printf(MSGTR_CannotReadVideoProperties);
       mencoder_exit(1,NULL);

