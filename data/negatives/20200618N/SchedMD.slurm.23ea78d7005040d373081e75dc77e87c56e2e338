commit 23ea78d7005040d373081e75dc77e87c56e2e338
Author: Brian Christiansen <brian@schedmd.com>
Date:   Tue Oct 4 17:16:39 2016 -0600

    Handle error case where no will_runs respond

diff --git a/src/slurmctld/fed_mgr.c b/src/slurmctld/fed_mgr.c
index 3585c88950..9e4dec63c0 100644
--- a/src/slurmctld/fed_mgr.c
+++ b/src/slurmctld/fed_mgr.c
@@ -1549,6 +1549,11 @@ extern int fed_mgr_job_allocate(slurm_msg_t *msg, job_desc_msg_t *job_desc,
 	 * _sib_will_run */
 	start_now_sib = _find_start_now_sib(msg, job_desc, uid, &avail_sibs);
 
+	if (!avail_sibs) {
+		debug("No cluster responded to sibling will_runs, submitting to self");
+		avail_sibs = FED_SIBLING_BIT(fed_mgr_cluster_rec->fed.id);
+	}
+
 	if (start_now_sib == NULL) {
 		job_desc->fed_siblings = avail_sibs;
 	} else if (start_now_sib == fed_mgr_cluster_rec) {

