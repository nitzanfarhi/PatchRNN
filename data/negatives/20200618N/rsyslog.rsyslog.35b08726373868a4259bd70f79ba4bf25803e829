commit 35b08726373868a4259bd70f79ba4bf25803e829
Author: Rainer Gerhards <rgerhards@adiscon.com>
Date:   Fri Mar 14 07:45:54 2008 +0000

    bugfix: $ModDir should not be reset on $ResetConfig - this can cause a lot
        of confusion and there is no real good reason to do so. Also conflicts
        with the new -M option and environment setting.

diff --git a/syslogd.c b/syslogd.c
index 487fbb403..e50e4727a 100644
--- a/syslogd.c
+++ b/syslogd.c
@@ -391,10 +391,6 @@ static rsRetVal resetConfigVariables(uchar __attribute__((unused)) *pp, void __a
 	bEscapeCCOnRcv = 1; /* default is to escape control characters */
 	bReduceRepeatMsgs = (logEveryMsg == 1) ? 0 : 1;
 	bDropMalPTRMsgs = 0;
-	if(pModDir != NULL) {
-		free(pModDir);
-		pModDir = NULL;
-	}
 	if(pszWorkDir != NULL) {
 		free(pszWorkDir);
 		pszWorkDir = NULL;

