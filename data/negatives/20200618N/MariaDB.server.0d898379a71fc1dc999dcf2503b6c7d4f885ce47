commit 0d898379a71fc1dc999dcf2503b6c7d4f885ce47
Author: unknown <hf@deer.mysql.r18.ru>
Date:   Wed Apr 16 19:48:58 2003 +0500

    fix for bug #212
    
    
    sql/sql_list.h:
      We should reset list::last here

diff --git a/sql/sql_list.h b/sql/sql_list.h
index 542eef623f0..d42c344957c 100644
--- a/sql/sql_list.h
+++ b/sql/sql_list.h
@@ -180,6 +180,8 @@ class base_list_iterator
       *new_list.last=current->next;
       current->info=new_list.first->info;
       current->next=new_list.first->next;
+      if ((list->last == &current->next) && (new_list.elements > 1))
+	list->last= new_list.last;
       list->elements+=new_list.elements-1;
     }
     return ret_value;				// return old element

