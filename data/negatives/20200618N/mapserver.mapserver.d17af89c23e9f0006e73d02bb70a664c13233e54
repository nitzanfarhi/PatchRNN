commit d17af89c23e9f0006e73d02bb70a664c13233e54
Author: Tom Kralidis <tomkralidis@hotmail.com>
Date:   Thu Feb 7 03:03:34 2008 +0000

    add utility function for testing strings as ints (#2384)
    
    
    git-svn-id: http://svn.osgeo.org/mapserver/trunk@7360 7532c77e-422f-0410-93f4-f0b67bdd69e2

diff --git a/mapserver.h b/mapserver.h
index ee7e9b5c..cceae600 100644
--- a/mapserver.h
+++ b/mapserver.h
@@ -1620,6 +1620,7 @@ MS_DLL_EXPORT char *msConvertWideStringToUTF8 (const wchar_t* string, const char
 MS_DLL_EXPORT int msGetNextGlyph(const char **in_ptr, char *out_string);
 MS_DLL_EXPORT int msGetNumGlyphs(const char *in_ptr);
 MS_DLL_EXPORT int msGetUnicodeEntity(const char *inptr, int *unicode);
+MS_DLL_EXPORT int msStringIsInteger(const char *string);
 MS_DLL_EXPORT int msUTF8ToUniChar(const char *str, int *chPtr); /* maptclutf.c */
 
 #ifdef NEED_STRDUP
diff --git a/mapstring.c b/mapstring.c
index 0f70df2b..b1b8fca8 100644
--- a/mapstring.c
+++ b/mapstring.c
@@ -1429,3 +1429,30 @@ int msGetUnicodeEntity(const char *inptr, int *unicode) {
     }
     return 0;
 }
+
+/**
+ * msStringIsInteger()
+ *
+ * determines whether a given string is an integer
+ *
+ * @param string the string to be tested
+ *
+ * @return MS_SUCCESS or MS_FAILURE
+ */
+
+int msStringIsInteger(const char *string) {
+  int length, i;
+
+  length = strlen(string);
+
+  if (length == 0)
+    return MS_FAILURE;
+
+  for(i=0;i<length;i++) {
+    if (!isdigit(string[i]))
+      return MS_FAILURE;
+  }
+
+  return MS_SUCCESS;
+}
+

