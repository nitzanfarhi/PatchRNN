commit 5133221a1929ce0bc903c64cf340e2fc5d08a9dc
Author: Stig Bjørlykke <stig@bjorlykke.org>
Date:   Sat Dec 12 21:12:47 2015 +0100

    Qt: Apply recent column widths when columns changed
    
    When changing columns in the preferences or when removing a column
    from the packet list header menu we need to apply recent column
    widths to preserve the remaining columns widths.
    
    Change-Id: Ie5c074722424b5cee31af3b6953ab1b026ba7fa5
    Reviewed-on: https://code.wireshark.org/review/12575
    Reviewed-by: Stig Bjørlykke <stig@bjorlykke.org>

diff --git a/ui/qt/packet_list.cpp b/ui/qt/packet_list.cpp
index ca4ded57f4..a71e861dd4 100644
--- a/ui/qt/packet_list.cpp
+++ b/ui/qt/packet_list.cpp
@@ -682,6 +682,7 @@ void PacketList::columnsChanged()
     setColumnVisibility();
     create_far_overlay_ = true;
     packet_list_model_->resetColumns();
+    applyRecentColumnWidths();
     columns_changed_ = false;
 }
 
@@ -1010,7 +1011,6 @@ void PacketList::setCaptureFile(capture_file *cf)
     cap_file_ = cf;
     if (cap_file_ && columns_changed_) {
         columnsChanged();
-        applyRecentColumnWidths();
     }
     packet_list_model_->setCaptureFile(cf);
     create_near_overlay_ = true;

