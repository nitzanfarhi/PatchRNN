commit cc986bbc50a8e9f2c26981a29d56becb2a933a03
Author: mattsc <mattsc000@gmail.com>
Date:   Mon Sep 12 07:40:31 2016 -0700

    AI: ensure multiple weapons are always checked for [disable] special
    
    If the defender has multiple weapons at the range of the attacker
    weapon, choose_defender_weapon calculates the combat outcome and
    attacker_combatant_ is set. We still need to check the attack weapon
    for the [disable] special in this case.

diff --git a/src/actions/attack.cpp b/src/actions/attack.cpp
index b829c96aa5..1860bf656d 100644
--- a/src/actions/attack.cpp
+++ b/src/actions/attack.cpp
@@ -534,6 +534,12 @@ int battle_context::choose_attacker_weapon(const unit &attacker,
 			attacker_combatant_ = new combatant(*attacker_stats_);
 			defender_combatant_ = new combatant(*defender_stats_, prev_def);
 			attacker_combatant_->fight(*defender_combatant_);
+		} else {
+			if (attacker_stats_->disable) {
+				delete attacker_stats_;
+				attacker_stats_ = nullptr;
+				continue;
+			}
 		}
 		if (!best_att_comb || better_combat(*attacker_combatant_, *defender_combatant_,
 					*best_att_comb, *best_def_comb, harm_weight)) {

