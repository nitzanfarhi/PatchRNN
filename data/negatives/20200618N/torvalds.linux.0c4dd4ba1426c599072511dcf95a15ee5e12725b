commit 0c4dd4ba1426c599072511dcf95a15ee5e12725b
Author: Miklos Szeredi <mszeredi@suse.cz>
Date:   Fri Dec 12 09:49:04 2014 +0100

    fuse: don't wake up reserved req in fuse_conn_kill()
    
    Waking up reserved_req_waitq from fuse_conn_kill() doesn't make sense since
    we aren't chaging ff->reserved_req here, which is what this waitqueue
    signals.
    
    Signed-off-by: Miklos Szeredi <mszeredi@suse.cz>

diff --git a/fs/fuse/inode.c b/fs/fuse/inode.c
index 03246cd9d47a..15653a073d69 100644
--- a/fs/fuse/inode.c
+++ b/fs/fuse/inode.c
@@ -387,7 +387,6 @@ void fuse_conn_kill(struct fuse_conn *fc)
 	kill_fasync(&fc->fasync, SIGIO, POLL_IN);
 	wake_up_all(&fc->waitq);
 	wake_up_all(&fc->blocked_waitq);
-	wake_up_all(&fc->reserved_req_waitq);
 }
 EXPORT_SYMBOL_GPL(fuse_conn_kill);
 

