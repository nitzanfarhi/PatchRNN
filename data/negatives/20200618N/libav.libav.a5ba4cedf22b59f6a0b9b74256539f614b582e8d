commit a5ba4cedf22b59f6a0b9b74256539f614b582e8d
Author: Martin Storsj√∂ <martin@martin.st>
Date:   Mon May 24 20:08:02 2010 +0000

    ffserver: Fix streaming with more than one stream
    
    Fix by Howard Chu, hyc at highlandsun dot com
    
    Originally committed as revision 23294 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/ffserver.c b/ffserver.c
index f9606470b..c82c73ae3 100644
--- a/ffserver.c
+++ b/ffserver.c
@@ -2346,7 +2346,7 @@ static int http_prepare_data(HTTPContext *c)
                         }
                     }
                     for(i=0;i<c->stream->nb_streams;i++) {
-                        if (c->feed_streams[i] == pkt.stream_index) {
+                        if (c->stream->feed_streams[i] == pkt.stream_index) {
                             AVStream *st = c->fmt_in->streams[source_index];
                             pkt.stream_index = i;
                             if (pkt.flags & AV_PKT_FLAG_KEY &&

