commit 0cd1f90e29dd3f76c0a82a7d358a58ace2070f95
Author: Antony Dovgal <tony2001@php.net>
Date:   Sun Jul 13 10:55:50 2008 +0000

    blind fix for a segfault in ext/pdo_firebird/tests/bug_38253.phpt

diff --git a/ext/pdo_firebird/firebird_driver.c b/ext/pdo_firebird/firebird_driver.c
index 7c6d19969c..dd269a8c9d 100644
--- a/ext/pdo_firebird/firebird_driver.c
+++ b/ext/pdo_firebird/firebird_driver.c
@@ -608,7 +608,7 @@ static int pdo_firebird_fetch_error_func(pdo_dbh_t *dbh, pdo_stmt_t *stmt, zval
 			strcpy(&buf[i++], " ");
 		}
 		add_next_index_string(info, buf, 1);
-	} else {
+	} else if (H->last_app_error) {
 		add_next_index_long(info, -999);
 		add_next_index_string(info, const_cast(H->last_app_error),1);
 	}

