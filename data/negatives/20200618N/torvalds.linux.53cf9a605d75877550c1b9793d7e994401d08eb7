commit 53cf9a605d75877550c1b9793d7e994401d08eb7
Author: Amit Kucheria <amit.kucheria@verdurent.com>
Date:   Wed Oct 21 14:49:22 2009 +0300

    mfd: Fix more undefined twl4030-power resconfig value checks
    
    Based on Aaro's previous fix, this needs to be fixed for the newly added
    remap_off and remap_sleep resources as well.
    
    The code tries to skip values initialized with -1, but since the values
    are unsigned the comparison is always true.
    
    The patch eliminates the following compiler warnings:
    
    drivers/mfd/twl4030-power.c: In function 'twl4030_configure_resource':
    drivers/mfd/twl4030-power.c:338: warning: comparison is always true due to
    limited range of data type
    
    Signed-off-by: Amit Kucheria <amit.kucheria@verdurent.com>
    Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>

diff --git a/drivers/mfd/twl4030-power.c b/drivers/mfd/twl4030-power.c
index 9f98c36273d8..3048f18e0419 100644
--- a/drivers/mfd/twl4030-power.c
+++ b/drivers/mfd/twl4030-power.c
@@ -398,12 +398,12 @@ static int __init twl4030_configure_resource(struct twl4030_resconfig *rconfig)
 		return err;
 	}
 
-	if (rconfig->remap_off >= 0) {
+	if (rconfig->remap_off != TWL4030_RESCONFIG_UNDEF) {
 		remap &= ~OFF_STATE_MASK;
 		remap |= rconfig->remap_off << OFF_STATE_SHIFT;
 	}
 
-	if (rconfig->remap_sleep >= 0) {
+	if (rconfig->remap_sleep != TWL4030_RESCONFIG_UNDEF) {
 		remap &= ~SLEEP_STATE_MASK;
 		remap |= rconfig->remap_off << SLEEP_STATE_SHIFT;
 	}

