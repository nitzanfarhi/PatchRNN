commit 34db8a5a72c5c5eb5d2811f237dcc9bf3c6425a9
Author: Robert Jarzmik <robert.jarzmik@free.fr>
Date:   Sat Nov 19 16:02:46 2011 +0100

    mtd: docg3: fix BCH registers
    
    BCH registers are contiguous, not on every byte. Fix the
    register definitions.
    
    Signed-off-by: Robert Jarzmik <robert.jarzmik@free.fr>
    Reviewed-by: Ivan Djelic <ivan.djelic@parrot.com>
    Reviewed-by: Mike Dunn <mikedunn@newsguy.com>
    Signed-off-by: David Woodhouse <David.Woodhouse@intel.com>

diff --git a/drivers/mtd/devices/docg3.h b/drivers/mtd/devices/docg3.h
index 0d407be24594..62af5aaeec43 100644
--- a/drivers/mtd/devices/docg3.h
+++ b/drivers/mtd/devices/docg3.h
@@ -105,7 +105,7 @@
 #define DOC_ECCCONF1			0x1042
 #define DOC_ECCPRESET			0x1044
 #define DOC_HAMMINGPARITY		0x1046
-#define DOC_BCH_SYNDROM(idx)		(0x1048 + (idx << 1))
+#define DOC_BCH_SYNDROM(idx)		(0x1048 + (idx << 0))
 
 #define DOC_PROTECTION			0x1056
 #define DOC_DPS0_ADDRLOW		0x1060

