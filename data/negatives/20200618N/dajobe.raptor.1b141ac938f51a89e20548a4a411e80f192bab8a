commit 1b141ac938f51a89e20548a4a411e80f192bab8a
Author: Dave Beckett <dave@dajobe.org>
Date:   Wed Jun 11 02:13:45 2008 +0000

    (raptor_rss10_serialize_statement): Ignore any triple with predicate
    rss:items as it can be infered later for RSS 1.0 and ignore for Atom 1.0

diff --git a/src/raptor_serialize_rss.c b/src/raptor_serialize_rss.c
index 2638a9fb..6ae534e1 100644
--- a/src/raptor_serialize_rss.c
+++ b/src/raptor_serialize_rss.c
@@ -721,10 +721,17 @@ raptor_rss10_serialize_statement(raptor_serializer* serializer,
   raptor_rss_model* rss_model=&rss_serializer->model;
   int handled=0;
   
+  if(raptor_uri_equals((raptor_uri*)statement->predicate, 
+                       RAPTOR_RSS_RDF_items_URI(rss_model))) {
+    /* ignore any triple (? rss:items ?) - is infered */
+    return 0;
+  }
+
   if(raptor_uri_equals((raptor_uri*)statement->predicate, 
                        RAPTOR_RSS_RDF_type_URI(rss_model))) {
 
-    if(raptor_uri_equals((raptor_uri*)statement->object, 
+    if(statement->object_type == RAPTOR_IDENTIFIER_TYPE_RESOURCE &&
+       raptor_uri_equals((raptor_uri*)statement->object, 
                          RAPTOR_RSS_RDF_Seq_URI(rss_model))) {
 
       /* triple (?resource rdf:type rdf:Seq) */
@@ -813,7 +820,7 @@ raptor_rss10_serialize_statement(raptor_serializer* serializer,
                       raptor_uri_as_string((raptor_uri*)statement->object));
 
     }
-  }
+  } /* if was a triple (? rdf:type ?) */
 
   if(!handled) {
     raptor_statement *t=raptor_statement_copy(statement);

