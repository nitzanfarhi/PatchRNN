commit 33616f8e0e2574ce73442bf257dba723f812b572
Author: Travis Oliphant <oliphant@enthought.com>
Date:   Wed Oct 26 02:41:30 2005 +0000

    Fix toscalar so it only works when a.size == 1

diff --git a/scipy/base/src/arraymethods.c b/scipy/base/src/arraymethods.c
index 8368a8d45..8a404ad69 100644
--- a/scipy/base/src/arraymethods.c
+++ b/scipy/base/src/arraymethods.c
@@ -426,7 +426,13 @@ static char doc_toscalar[] = "m.toscalar().  Copy the first data point of "\
 static PyObject *
 array_toscalar(PyArrayObject *self, PyObject *args) {
         if (!PyArg_ParseTuple(args, "")) return NULL;
-        return self->descr->getitem(self->data, self);
+	if (self->nd == 0 || PyArray_SIZE(self) == 1) 
+		return self->descr->getitem(self->data, self);
+	else {
+		PyErr_SetString(PyExc_ValueError, "can only convert an"	\
+				" array of size 1 to Python scalar.");
+		return NULL;
+	}
 }
 
 static char doc_cast[] = "m.astype(t).	Cast array m to type t.	 \n\n"\

