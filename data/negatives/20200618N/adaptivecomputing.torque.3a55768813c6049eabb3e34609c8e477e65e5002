commit 3a55768813c6049eabb3e34609c8e477e65e5002
Author: Ken Nielson <knielson@kmn.(none)>
Date:   Thu Dec 13 15:25:25 2012 -0700

    Changed the pbs_tcp_timeout value when reading the protocol
    version in do_tcp to TCP_READ_PROTO_TIMEOU

diff --git a/src/resmom/mom_main.c b/src/resmom/mom_main.c
index d7dee2d8f..571b4f298 100644
--- a/src/resmom/mom_main.c
+++ b/src/resmom/mom_main.c
@@ -99,6 +99,7 @@
 
 #define MAX_UPDATES_BEFORE_SENDING  20
 #define PMOMTCPTIMEOUT 60  /* duration in seconds mom TCP requests will block */
+#define TCP_READ_PROTO_TIMEOUT  2
 
 /* Global Data Items */
 
@@ -5556,7 +5557,7 @@ int tcp_read_proto_version(
 
   tmpT = pbs_tcp_timeout;
 
-  pbs_tcp_timeout = 0;
+  pbs_tcp_timeout = TCP_READ_PROTO_TIMEOUT;
 
   *proto = disrsi(chan, &rc);
 

