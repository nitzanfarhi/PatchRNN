commit 73671d0386855ea8576d812a7bb5a2d001051698
Author: Boris Karasev <karasev.b@gmail.com>
Date:   Sat Jun 9 09:38:14 2018 +0600

    mpi/pmix: added error msg when Ring coll cannot be used

diff --git a/src/plugins/mpi/pmix/pmixp_info.c b/src/plugins/mpi/pmix/pmixp_info.c
index f6f91a24ff..3db4f13cd2 100644
--- a/src/plugins/mpi/pmix/pmixp_info.c
+++ b/src/plugins/mpi/pmix/pmixp_info.c
@@ -101,6 +101,13 @@ bool pmixp_info_srv_direct_conn_ucx(void){
 int pmixp_info_srv_fence_coll_type(void)
 {
 	if (!_srv_use_direct_conn) {
+		static bool printed = false;
+		if (!printed && PMIXP_COLL_CPERF_RING == _srv_fence_coll_type) {
+			PMIXP_ERROR("Ring collective algorithm cannot be used "
+				    "with Slurm RPC's communication subsystem. "
+				    "Tree-based collective will be used instead.");
+			printed = true;
+		}
 		return PMIXP_COLL_TYPE_FENCE_TREE;
 	}
 	return _srv_fence_coll_type;

