commit 3a44e14c8600d0458d8450420a49019eba7a7214
Author: knielson <knielson@adaptivecomputing.com>
Date:   Mon Apr 6 16:10:51 2015 -0600

    AC-8469 - fixed unit test to handle case where atname
    is null in encode_attr_req_info.

diff --git a/src/lib/Libattr/attr_fn_attr_req_info.c b/src/lib/Libattr/attr_fn_attr_req_info.c
index 7301075ad..984212861 100644
--- a/src/lib/Libattr/attr_fn_attr_req_info.c
+++ b/src/lib/Libattr/attr_fn_attr_req_info.c
@@ -180,6 +180,9 @@ int encode_attr_req_info(
       (attr->at_val.at_ptr == NULL))
     return(PBSE_NONE);
 
+  if (atname == NULL)
+    return(PBSE_BAD_PARAMETER);
+
 
   std::vector<std::string> names;
   std::vector<std::string> values;

