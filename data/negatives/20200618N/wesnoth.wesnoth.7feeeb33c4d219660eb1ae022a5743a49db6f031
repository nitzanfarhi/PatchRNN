commit 7feeeb33c4d219660eb1ae022a5743a49db6f031
Author: Alexander van Gessel <ai0867@gmail.com>
Date:   Tue Nov 5 15:23:04 2013 +0100

    Fix advance references to units that have variations
    
    Reported by bumbadadabum

diff --git a/src/help.cpp b/src/help.cpp
index 13cf51e3c6..a5f52c864b 100644
--- a/src/help.cpp
+++ b/src/help.cpp
@@ -1372,7 +1372,8 @@ public:
 					std::string lang_unit = type->type_name();
 					std::string ref_id;
 					if (description_type(*type) == FULL_DESCRIPTION) {
-						ref_id = unit_prefix + type->id();
+						const std::string section_prefix = type->variations().empty() ? "" : "..";
+						ref_id = section_prefix + unit_prefix + type->id();
 					} else {
 						ref_id = unknown_unit_topic;
 						lang_unit += " (?)";

