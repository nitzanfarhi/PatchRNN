commit 538e7a004bf960c96c7e9eb836b59989eb5f5b7f
Author: Laurent Pinchart <laurent.pinchart@skynet.be>
Date:   Sun Dec 28 20:26:32 2008 -0300

    V4L/DVB (10102): uvcvideo: Ignore interrupt endpoint for built-in iSight webcams.
    
    Built-in iSight webcams have an interrupt endpoint but spit proprietary data
    that don't conform to the UVC status endpoint messages. Don't try to handle
    the interrupt endpoint for those cameras.
    
    Signed-off-by: Laurent Pinchart <laurent.pinchart@skynet.be>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>

diff --git a/drivers/media/video/uvc/uvc_driver.c b/drivers/media/video/uvc/uvc_driver.c
index 1054c7656aef..18a61928f4f6 100644
--- a/drivers/media/video/uvc/uvc_driver.c
+++ b/drivers/media/video/uvc/uvc_driver.c
@@ -1147,8 +1147,13 @@ next_descriptor:
 		buffer += buffer[0];
 	}
 
-	/* Check if the optional status endpoint is present. */
-	if (alts->desc.bNumEndpoints == 1) {
+	/* Check if the optional status endpoint is present. Built-in iSight
+	 * webcams have an interrupt endpoint but spit proprietary data that
+	 * don't conform to the UVC status endpoint messages. Don't try to
+	 * handle the interrupt endpoint for those cameras.
+	 */
+	if (alts->desc.bNumEndpoints == 1 &&
+	    !(dev->quirks & UVC_QUIRK_BUILTIN_ISIGHT)) {
 		struct usb_host_endpoint *ep = &alts->endpoint[0];
 		struct usb_endpoint_descriptor *desc = &ep->desc;
 

