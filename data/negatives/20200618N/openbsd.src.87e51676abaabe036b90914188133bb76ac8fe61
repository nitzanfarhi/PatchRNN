commit 87e51676abaabe036b90914188133bb76ac8fe61
Author: deraadt <deraadt@openbsd.org>
Date:   Tue Mar 2 21:55:53 1999 +0000

    do not crash if -n has no arg; spotted by weingart

diff --git a/usr.bin/skeyinit/skeyinit.c b/usr.bin/skeyinit/skeyinit.c
index 76cceed1f85..58656d12b5c 100644
--- a/usr.bin/skeyinit/skeyinit.c
+++ b/usr.bin/skeyinit/skeyinit.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: skeyinit.c,v 1.22 1998/08/22 19:29:46 dgregor Exp $	*/
+/*	$OpenBSD: skeyinit.c,v 1.23 1999/03/02 21:55:53 deraadt Exp $	*/
 /*	$NetBSD: skeyinit.c,v 1.6 1995/06/05 19:50:48 pk Exp $	*/
 
 /* S/KEY v1.1b (skeyinit.c)
@@ -89,7 +89,7 @@ main(argc, argv)
 				zerokey = 1;
 				break;
 			case 'n':
-				if (argv[++i][0] == '\0')
+				if (argv[++i] == NULL || argv[i][0] == '\0')
 					usage(argv[0]);
 				if ((n = atoi(argv[i])) < 1 || n >= SKEY_MAX_SEQ)
 					errx(1, "count must be > 0 and < %d",

