commit fb6fa4c48e5fd0e0f068e8c31f977e64a4264b11
Author: w00t <w00t@e03df62e-2008-0410-955e-edbf42e46eb7>
Date:   Mon Aug 27 18:21:22 2007 +0000

    nicklock: Allow change to a UID
    
    git-svn-id: http://svn.inspircd.org/repository/trunk/inspircd@7904 e03df62e-2008-0410-955e-edbf42e46eb7

diff --git a/src/modules/m_nicklock.cpp b/src/modules/m_nicklock.cpp
index 357a3f9b1..731c0433d 100644
--- a/src/modules/m_nicklock.cpp
+++ b/src/modules/m_nicklock.cpp
@@ -129,6 +129,9 @@ class ModuleNickLock : public Module
 
 	virtual int OnUserPreNick(userrec* user, const std::string &newnick)
 	{
+		if (isdigit(newnick[0])) /* allow a switch to a UID */
+			return 0;
+
 		if (user->GetExt("nick_locked", n))
 		{
 			user->WriteServ("447 %s :You cannot change your nickname (your nick is locked)",user->nick);

