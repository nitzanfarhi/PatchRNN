commit 897c329bcb2206dd025cdb7ba84831a4f3c872d0
Author: Daniel Mack <daniel@zonque.org>
Date:   Tue Oct 7 14:25:13 2014 +0200

    ALSA: usb: caiaq: check for cdev->n_streams > 1
    
    Coverity spotted a possible DIV0 condition when cdev->n_streams is 0.
    
    Fix this by making sure the value is > 1 in snd_usb_caiaq_audio_init().
    
    Signed-off-by: Daniel Mack <daniel@zonque.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

diff --git a/sound/usb/caiaq/audio.c b/sound/usb/caiaq/audio.c
index 7103b0908d13..272844746135 100644
--- a/sound/usb/caiaq/audio.c
+++ b/sound/usb/caiaq/audio.c
@@ -816,6 +816,11 @@ int snd_usb_caiaq_audio_init(struct snd_usb_caiaqdev *cdev)
 		return -EINVAL;
 	}
 
+	if (cdev->n_streams < 2) {
+		dev_err(dev, "bogus number of streams: %d\n", cdev->n_streams);
+		return -EINVAL;
+	}
+
 	ret = snd_pcm_new(cdev->chip.card, cdev->product_name, 0,
 			cdev->n_audio_out, cdev->n_audio_in, &cdev->pcm);
 

