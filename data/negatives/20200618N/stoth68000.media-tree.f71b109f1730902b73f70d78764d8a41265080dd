commit f71b109f1730902b73f70d78764d8a41265080dd
Author: Roman Mashak <mrv@mojatatu.com>
Date:   Sun Sep 18 07:53:08 2016 -0400

    net sched actions police: peg drop stats for conforming traffic
    
    setting conforming action to drop is a valid policy.
    When it is set we need to at least see the stats indicating it
    for debugging.
    
    Signed-off-by: Roman Mashak <mrv@mojatatu.com>
    Signed-off-by: Jamal Hadi Salim <jhs@mojatatu.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/net/sched/act_police.c b/net/sched/act_police.c
index 8a3be1d99775..ba7074b391ae 100644
--- a/net/sched/act_police.c
+++ b/net/sched/act_police.c
@@ -249,6 +249,8 @@ static int tcf_act_police(struct sk_buff *skb, const struct tc_action *a,
 			police->tcfp_t_c = now;
 			police->tcfp_toks = toks;
 			police->tcfp_ptoks = ptoks;
+			if (police->tcfp_result == TC_ACT_SHOT)
+				police->tcf_qstats.drops++;
 			spin_unlock(&police->tcf_lock);
 			return police->tcfp_result;
 		}

