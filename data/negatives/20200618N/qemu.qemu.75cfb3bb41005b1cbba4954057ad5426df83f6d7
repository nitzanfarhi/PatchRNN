commit 75cfb3bb41005b1cbba4954057ad5426df83f6d7
Author: Cornelia Huck <cornelia.huck@de.ibm.com>
Date:   Thu Mar 10 10:19:46 2016 +0100

    s390x/cpu: use g_new0
    
    Let's use g_new0 to allocate cpu_states.
    
    Suggested-by: Thomas Huth <thuth@redhat.com>
    Reviewed-by: Thomas Huth <thuth@redhat.com>
    Signed-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>

diff --git a/hw/s390x/s390-virtio.c b/hw/s390x/s390-virtio.c
index 4ea9040f3a..7c6e281af1 100644
--- a/hw/s390x/s390-virtio.c
+++ b/hw/s390x/s390-virtio.c
@@ -103,7 +103,7 @@ void s390_init_cpus(MachineState *machine)
         machine->cpu_model = "host";
     }
 
-    cpu_states = g_malloc0(sizeof(S390CPU *) * max_cpus);
+    cpu_states = g_new0(S390CPU *, max_cpus);
 
     for (i = 0; i < max_cpus; i++) {
         name = g_strdup_printf("cpu[%i]", i);

