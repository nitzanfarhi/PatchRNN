commit 016b3b9a065b0848b2eb803bf33bd2204c4a8705
Author: Aleksey Kliger <aleksey@xamarin.com>
Date:   Fri Sep 30 16:15:26 2016 -0400

    [loader] Make mono_class_get_failure static in class.c

diff --git a/mono/metadata/class-internals.h b/mono/metadata/class-internals.h
index 057ae890884..717b3308b48 100644
--- a/mono/metadata/class-internals.h
+++ b/mono/metadata/class-internals.h
@@ -1439,18 +1439,7 @@ mono_class_try_load_from_name (MonoImage *image, const char* name_space, const c
 void
 mono_error_set_for_class_failure (MonoError *orerror, MonoClass *klass);
 
-static inline guint8
-mono_class_get_failure (MonoClass *klass)
-{
-	g_assert (klass != NULL);
-	return klass->exception_type;
-}
-
-static inline gboolean
-mono_class_has_failure (MonoClass *klass)
-{
-	g_assert (klass != NULL);
-	return mono_class_get_failure (klass) != MONO_EXCEPTION_NONE;
-}
+gboolean
+mono_class_has_failure (MonoClass *klass);
 
 #endif /* __MONO_METADATA_CLASS_INTERNALS_H__ */
diff --git a/mono/metadata/class.c b/mono/metadata/class.c
index d3a52b9026a..d84ec854ae6 100644
--- a/mono/metadata/class.c
+++ b/mono/metadata/class.c
@@ -78,6 +78,7 @@ static void mono_class_setup_vtable_full (MonoClass *klass, GList *in_setup);
 static void mono_generic_class_setup_parent (MonoClass *klass, MonoClass *gklass);
 
 static gboolean mono_class_set_failure (MonoClass *klass, guint32 ex_type, void *ex_data);
+static guint8 mono_class_get_failure (MonoClass *klass);
 
 
 /*
@@ -9929,6 +9930,21 @@ mono_class_set_failure (MonoClass *klass, guint32 ex_type, void *ex_data)
 	return TRUE;
 }
 
+static guint8
+mono_class_get_failure (MonoClass *klass)
+{
+	g_assert (klass != NULL);
+	return klass->exception_type;
+}
+
+gboolean
+mono_class_has_failure (MonoClass *klass)
+{
+	g_assert (klass != NULL);
+	return mono_class_get_failure (klass) != MONO_EXCEPTION_NONE;
+}
+
+
 /**
  * mono_class_set_type_load_failure:
  * @klass: class in which the failure was detected

