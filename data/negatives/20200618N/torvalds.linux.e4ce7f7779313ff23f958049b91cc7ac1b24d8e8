commit e4ce7f7779313ff23f958049b91cc7ac1b24d8e8
Author: Shivani Bhardwaj <shivanib134@gmail.com>
Date:   Fri Nov 6 22:48:29 2015 +0530

    Staging: lustre: module: Replace function calls
    
    Replace the calls of function cfs_trace_free_string_buffer() with
    kfree() as the former function is not required.
    
    Signed-off-by: Shivani Bhardwaj <shivanib134@gmail.com>
    Acked-by: James Simmons <jsimmons@infradead.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/lustre/lustre/libcfs/module.c b/drivers/staging/lustre/lustre/libcfs/module.c
index d781b417fd38..96d9d4651a51 100644
--- a/drivers/staging/lustre/lustre/libcfs/module.c
+++ b/drivers/staging/lustre/lustre/libcfs/module.c
@@ -392,7 +392,7 @@ static int __proc_dobitmasks(void *data, int write,
 	} else {
 		rc = cfs_trace_copyin_string(tmpstr, tmpstrlen, buffer, nob);
 		if (rc < 0) {
-			cfs_trace_free_string_buffer(tmpstr, tmpstrlen);
+			kfree(tmpstr);
 			return rc;
 		}
 
@@ -402,7 +402,7 @@ static int __proc_dobitmasks(void *data, int write,
 			*mask |= D_EMERG;
 	}
 
-	cfs_trace_free_string_buffer(tmpstr, tmpstrlen);
+	kfree(tmpstr);
 	return rc;
 }
 

