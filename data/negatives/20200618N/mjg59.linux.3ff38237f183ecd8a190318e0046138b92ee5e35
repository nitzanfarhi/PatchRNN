commit 3ff38237f183ecd8a190318e0046138b92ee5e35
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Mon Oct 13 15:53:10 2014 -0700

    drivers/rtc/rtc-pcf8563.c: fix pcf8563_irq() error return value
    
    As pointed out by Sergei Shtylyov, the pcf8563_irq function contains a
    bug in the error handling: an interrupt handler is not supposed to
    return an errno value but an 'enum irqreturn'.
    
    Let's fix this by returning IRQ_NONE in case of a communication error.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Cc: Sergei Shtylyov <sergei.shtylyov@cogentembedded.com>
    Cc: Alessandro Zummo <a.zummo@towertech.it>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

diff --git a/drivers/rtc/rtc-pcf8563.c b/drivers/rtc/rtc-pcf8563.c
index 3a6f994c4da8..c2ef0a22ee94 100644
--- a/drivers/rtc/rtc-pcf8563.c
+++ b/drivers/rtc/rtc-pcf8563.c
@@ -168,7 +168,7 @@ static irqreturn_t pcf8563_irq(int irq, void *dev_id)
 
 	err = pcf8563_get_alarm_mode(pcf8563->client, NULL, &pending);
 	if (err)
-		return err;
+		return IRQ_NONE;
 
 	if (pending) {
 		rtc_update_irq(pcf8563->rtc, 1, RTC_IRQF | RTC_AF);

