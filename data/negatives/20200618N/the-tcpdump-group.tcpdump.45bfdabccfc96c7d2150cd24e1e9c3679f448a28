commit 45bfdabccfc96c7d2150cd24e1e9c3679f448a28
Author: gianluca <gianluca>
Date:   Fri Apr 11 16:47:38 2008 +0000

    Redefined ERROR into TFTP_ERROR, as ERROR is already defined in the
    Microsoft header files.

diff --git a/print-tftp.c b/print-tftp.c
index 6baf82ef..0caff428 100644
--- a/print-tftp.c
+++ b/print-tftp.c
@@ -23,7 +23,7 @@
 
 #ifndef lint
 static const char rcsid[] _U_ =
-    "@(#) $Header: /tcpdump/master/tcpdump/print-tftp.c,v 1.38 2007-09-14 01:02:07 guy Exp $ (LBL)";
+    "@(#) $Header: /tcpdump/master/tcpdump/print-tftp.c,v 1.39 2008-04-11 16:47:38 gianluca Exp $ (LBL)";
 #endif
 
 #ifdef HAVE_CONFIG_H
@@ -50,7 +50,7 @@ static struct tok op2str[] = {
 	{ WRQ,		"WRQ" },	/* write request */
 	{ DATA,		"DATA" },	/* data packet */
 	{ ACK,		"ACK" },	/* acknowledgement */
-	{ ERROR,	"ERROR" },	/* error code */
+	{ TFTP_ERROR,	"ERROR" },	/* error code */
 	{ OACK,		"OACK" },	/* option acknowledgement */
 	{ 0,		NULL }
 };
@@ -137,7 +137,7 @@ tftp_print(register const u_char *bp, u_int length)
 		printf(" block %d", EXTRACT_16BITS(&tp->th_block));
 		break;
 
-	case ERROR:
+	case TFTP_ERROR:
 		/* Print error code string */
 		TCHECK(tp->th_code);
 		printf(" %s \"", tok2str(err2str, "tftp-err-#%d \"",
diff --git a/tftp.h b/tftp.h
index b591322c..6a092e0a 100644
--- a/tftp.h
+++ b/tftp.h
@@ -1,4 +1,4 @@
-/* @(#) $Header: /tcpdump/master/tcpdump/tftp.h,v 1.1 2007-09-14 01:02:07 guy Exp $ (LBL) */
+/* @(#) $Header: /tcpdump/master/tcpdump/tftp.h,v 1.2 2008-04-11 16:47:38 gianluca Exp $ (LBL) */
 /*
  * Copyright (c) 1983, 1993
  *	The Regents of the University of California.  All rights reserved.
@@ -49,7 +49,7 @@
 #define	WRQ	02			/* write request */
 #define	DATA	03			/* data packet */
 #define	ACK	04			/* acknowledgement */
-#define	ERROR	05			/* error code */
+#define	TFTP_ERROR	05			/* error code */
 #define OACK	06			/* option acknowledgement */
 
 struct	tftphdr {

