commit af90823fd911b5175447cb91017bbed53eeb7f62
Author: arpi <arpi@b3059339-0415-0410-9bf9-f77b7e298cf2>
Date:   Thu Mar 14 23:58:46 2002 +0000

    temp workaround for mencoder
    
    
    git-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@5078 b3059339-0415-0410-9bf9-f77b7e298cf2

diff --git a/libmpcodecs/vd.c b/libmpcodecs/vd.c
index e1a4d574d8..0898be990d 100644
--- a/libmpcodecs/vd.c
+++ b/libmpcodecs/vd.c
@@ -110,11 +110,11 @@ int mpcodecs_config_vo(sh_video_t *sh, int w, int h, unsigned int preferred_outf
     int screen_size_y=0;//SCREEN_SIZE_Y;
     vo_functions_t* video_out=sh->video_out;
 
-    memset(&vtune,0,sizeof(vo_tune_info_t));
-
     mp_msg(MSGT_DECVIDEO,MSGL_INFO,"VDec: vo config request - %d x %d, %s  \n",
 	w,h,vo_format_name(preferred_outfmt));
 
+    if(!video_out) return 1; // temp hack
+
     // check if libvo and codec has common outfmt:
     for(i=0;i<CODECS_MAX_OUTFMT;i++){
 	out_fmt=sh->codec->outfmt[i];
@@ -186,6 +186,7 @@ int mpcodecs_config_vo(sh_video_t *sh, int w, int h, unsigned int preferred_outf
                       fullscreen|(vidmode<<1)|(softzoom<<2)|(flip<<3),
                       "MPlayer",out_fmt);
 
+    memset(&vtune,0,sizeof(vo_tune_info_t));
     if(video_out->config(sh->disp_w,sh->disp_h,
                       screen_size_x,screen_size_y,
                       fullscreen|(vidmode<<1)|(softzoom<<2)|(flip<<3),

