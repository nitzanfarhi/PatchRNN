commit b733b9faf444746ae93150e2b64120954610db68
Author: Jilles Tjoelker <jilles@stack.nl>
Date:   Fri Aug 15 17:10:24 2014 +0200

    SJOIN: Fix crash when both mode parameter and UID list are missing.
    
    Closes #63

diff --git a/modules/core/m_join.c b/modules/core/m_join.c
index c611eb24..929074a9 100644
--- a/modules/core/m_join.c
+++ b/modules/core/m_join.c
@@ -540,6 +540,9 @@ ms_sjoin(struct Client *client_p, struct Client *source_p, int parc, const char
 	static char empty[] = "";
 	rb_dlink_node *ptr, *next_ptr;
 
+	if(parc < 5)
+		return 0;
+
 	if(!IsChannelName(parv[2]) || !check_channel_name(parv[2]))
 		return 0;
 

