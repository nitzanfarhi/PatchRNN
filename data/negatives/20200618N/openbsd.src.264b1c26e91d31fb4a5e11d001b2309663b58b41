commit 264b1c26e91d31fb4a5e11d001b2309663b58b41
Author: miod <miod@openbsd.org>
Date:   Fri Sep 29 23:39:08 2000 +0000

    Oops, time to learn how to count

diff --git a/sys/dev/isa/spkr.c b/sys/dev/isa/spkr.c
index 7d09e5b4914..466c8d3e19f 100644
--- a/sys/dev/isa/spkr.c
+++ b/sys/dev/isa/spkr.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: spkr.c,v 1.3 2000/09/29 23:23:38 miod Exp $	*/
+/*	$OpenBSD: spkr.c,v 1.4 2000/09/29 23:39:08 miod Exp $	*/
 /*	$NetBSD: spkr.c,v 1.1 1998/04/15 20:26:18 drochner Exp $	*/
 
 /*
@@ -172,7 +172,7 @@ playtone(pitch, value, sustain)
 
     if (pitch == -1)
 	rest(whole * snum / (value * sdenom));
-    else if (pitch >= 0 && pitch < sizeof(pitchtab))
+    else if (pitch >= 0 && pitch < (sizeof(pitchtab) / sizeof(pitchtab[0])))
     {
 	sound = (whole * snum) / (value * sdenom)
 		- (whole * (FILLTIME - fill)) / (value * FILLTIME);

