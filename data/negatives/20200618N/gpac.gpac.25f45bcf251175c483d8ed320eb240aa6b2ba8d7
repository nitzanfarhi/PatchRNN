commit 25f45bcf251175c483d8ed320eb240aa6b2ba8d7
Author: Jean Le Feuvre <jeanlf@users.sourceforge.net>
Date:   Tue Jul 6 09:51:36 2010 +0000

    Added depth extensions in gpac ns
    
    
    git-svn-id: http://svn.code.sf.net/p/gpac/code/trunk/gpac@1864 63c20433-aa62-49bd-875c-5a186b69a8fb

diff --git a/include/gpac/nodes_svg.h b/include/gpac/nodes_svg.h
index 4fa2d1f5c..bd21e798e 100644
--- a/include/gpac/nodes_svg.h
+++ b/include/gpac/nodes_svg.h
@@ -116,6 +116,7 @@ enum {
 	TAG_SVG_ATT_stroke_opacity,
 	TAG_SVG_ATT_fill,
 	TAG_SVG_ATT_fill_rule,
+	TAG_SVG_ATT_filter,
 	TAG_SVG_ATT_stroke,
 	TAG_SVG_ATT_stroke_dasharray,
 	TAG_SVG_ATT_stroke_dashoffset,
@@ -320,6 +321,7 @@ struct _all_atts {
 	SVG_Number *stroke_opacity;
 	SVG_Paint *fill;
 	SVG_FillRule *fill_rule;
+	SVG_Paint *filter;
 	SVG_Paint *stroke;
 	SVG_StrokeDashArray *stroke_dasharray;
 	SVG_Length *stroke_dashoffset;
@@ -482,6 +484,8 @@ struct _all_atts {
 	SVG_Motion *motionTransform;
 
     SVG_Boolean *gpac_useAsPrimary;
+    SVG_Number *gpac_depthOffset;
+    SVG_Number *gpac_depthGain;
 };
 #ifdef __cplusplus
 }
diff --git a/include/gpac/scenegraph_svg.h b/include/gpac/scenegraph_svg.h
index 54a7e9ca3..a834f029a 100644
--- a/include/gpac/scenegraph_svg.h
+++ b/include/gpac/scenegraph_svg.h
@@ -116,6 +116,8 @@ enum
 	TAG_XBL_ATT_src,
 
     TAG_GSVG_ATT_useAsPrimary,
+    TAG_GSVG_ATT_depthOffset,
+    TAG_GSVG_ATT_depthGain,
 };
 
 
diff --git a/src/scenegraph/svg_properties.c b/src/scenegraph/svg_properties.c
index 234e0f856..b0d8ba75b 100644
--- a/src/scenegraph/svg_properties.c
+++ b/src/scenegraph/svg_properties.c
@@ -801,6 +801,7 @@ void gf_svg_flatten_attributes(SVG_Element *e, SVGAllAttributes *all_atts)
 		case TAG_SVG_ATT_fill_opacity: all_atts->fill_opacity = (SVG_Number *)att->data; break;
 		case TAG_SVG_ATT_stroke_opacity: all_atts->stroke_opacity = (SVG_Number *)att->data; break;
 		case TAG_SVG_ATT_fill: all_atts->fill = (SVG_Paint *)att->data; break;
+		case TAG_SVG_ATT_filter: all_atts->filter = (SVG_Paint *)att->data; break;
 		case TAG_SVG_ATT_fill_rule: all_atts->fill_rule = (SVG_FillRule *)att->data; break;
 		case TAG_SVG_ATT_stroke: all_atts->stroke = (SVG_Paint *)att->data; break;
 		case TAG_SVG_ATT_stroke_dasharray: all_atts->stroke_dasharray = (SVG_StrokeDashArray *)att->data; break;
@@ -963,6 +964,8 @@ void gf_svg_flatten_attributes(SVG_Element *e, SVGAllAttributes *all_atts)
 		case TAG_SVG_ATT_motionTransform: all_atts->motionTransform = (SVG_Motion *)att->data; break;
 
         case TAG_GSVG_ATT_useAsPrimary: all_atts->gpac_useAsPrimary = (SVG_Boolean *)att->data; break;
+        case TAG_GSVG_ATT_depthOffset: all_atts->gpac_depthOffset = (SVG_Boolean *)att->data; break;
+        case TAG_GSVG_ATT_depthGain: all_atts->gpac_depthGain = (SVG_Boolean *)att->data; break;
 		}
 		
 		att = att->next;
diff --git a/src/scenegraph/xml_ns.c b/src/scenegraph/xml_ns.c
index d875692d8..55c42f02c 100644
--- a/src/scenegraph/xml_ns.c
+++ b/src/scenegraph/xml_ns.c
@@ -241,6 +241,8 @@ static const struct xml_att_def { const char *name; u32 tag; u32 type; u32 opts;
 	{ "fill", TAG_SVG_ATT_smil_fill, SMIL_Fill_datatype, GF_SVG_ATTOPT_SMIL, GF_XMLNS_SVG },
 	/*regular paint fill*/
 	{ "fill", TAG_SVG_ATT_fill, SVG_Paint_datatype, 0, GF_XMLNS_SVG },
+	/*filter*/
+	{ "filter", TAG_SVG_ATT_filter, SVG_Paint_datatype, 0, GF_XMLNS_SVG },
 	/*text rotate*/
 	{ "rotate", TAG_SVG_ATT_text_rotate, SVG_Numbers_datatype, GF_SVG_ATTOPT_TEXT, GF_XMLNS_SVG },
 	/*regular matrix rotate*/
@@ -292,6 +294,8 @@ static const struct xml_att_def { const char *name; u32 tag; u32 type; u32 opts;
 
 	/*GPAC SVG Extensions*/
 	{ "use-as-primary", TAG_GSVG_ATT_useAsPrimary, SVG_Boolean_datatype, 0, GF_XMLNS_SVG_GPAC_EXTENSION},
+	{ "depthOffset", TAG_GSVG_ATT_depthOffset, SVG_Number_datatype, 0, GF_XMLNS_SVG_GPAC_EXTENSION},
+	{ "depthGain", TAG_GSVG_ATT_depthGain, SVG_Number_datatype, 0, GF_XMLNS_SVG_GPAC_EXTENSION},
 
 };
 

