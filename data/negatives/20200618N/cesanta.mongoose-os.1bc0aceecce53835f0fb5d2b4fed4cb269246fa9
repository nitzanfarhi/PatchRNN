commit 1bc0aceecce53835f0fb5d2b4fed4cb269246fa9
Author: rojer <rojer@rojer.me>
Date:   Tue Jun 7 15:19:08 2016 +0100

    Propagate nc->err to err on CC3200
    
    PUBLISHED_FROM=db7254b5bf25961a700cbce954ef02d41b176500

diff --git a/mongoose/mongoose.c b/mongoose/mongoose.c
index 3bc77d20..f2a4c937 100644
--- a/mongoose/mongoose.c
+++ b/mongoose/mongoose.c
@@ -3528,10 +3528,11 @@ void mg_mgr_handle_conn(struct mg_connection *nc, int fd_flags, double now) {
         if (ret != 0) err = 1;
       }
 #else
-/* On SimpleLink and ESP8266 we use blocking connect. If we got as far as
- * this, it means connect() was successful.
- * TODO(rojer): Figure out why it fails where blocking succeeds.
- */
+      /*
+       * On SimpleLink and ESP8266 we use blocking connect.
+       * TODO(rojer): Figure out why it fails where blocking succeeds.
+       */
+      err = nc->err;
 #endif
 #ifdef MG_ENABLE_SSL
       if (nc->ssl != NULL && err == 0) {

