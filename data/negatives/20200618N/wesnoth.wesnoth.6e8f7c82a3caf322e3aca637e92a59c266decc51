commit 6e8f7c82a3caf322e3aca637e92a59c266decc51
Author: Gabriel Morin <gabrielmorin@gmail.com>
Date:   Sat Jul 10 06:34:25 2010 +0000

    Whiteboard: fixed an iterator bug

diff --git a/src/whiteboard/highlight_visitor.cpp b/src/whiteboard/highlight_visitor.cpp
index 2e5ee00bc5..a1906a812c 100644
--- a/src/whiteboard/highlight_visitor.cpp
+++ b/src/whiteboard/highlight_visitor.cpp
@@ -146,10 +146,14 @@ action_ptr highlight_visitor::get_execute_target()
 }
 action_ptr highlight_visitor::get_delete_target()
 {
-	action_ptr action;
+	action_ptr action = action_ptr();
 	if (owner_unit_)
 	{
-		action = *side_actions_->find_last_action_of(*owner_unit_);
+		side_actions::iterator it = side_actions_->find_last_action_of(*owner_unit_);
+		if (it != side_actions_->end())
+		{
+			action = *it;
+		}
 	}
 	return action;
 }

