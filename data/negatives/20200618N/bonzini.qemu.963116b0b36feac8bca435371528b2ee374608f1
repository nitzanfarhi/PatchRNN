commit 963116b0b36feac8bca435371528b2ee374608f1
Author: Hervé Poussineau <hpoussin@reactos.org>
Date:   Tue Nov 5 00:09:44 2013 +0100

    raven: Use constant PCI_NUM_PINS instead of 4
    
    Signed-off-by: Hervé Poussineau <hpoussin@reactos.org>
    Signed-off-by: Andreas Färber <andreas.faerber@web.de>

diff --git a/hw/pci-host/prep.c b/hw/pci-host/prep.c
index 042dc8f225..0c948e2c30 100644
--- a/hw/pci-host/prep.c
+++ b/hw/pci-host/prep.c
@@ -47,7 +47,7 @@ typedef struct PRePPCIState {
     PCIHostState parent_obj;
 
     MemoryRegion intack;
-    qemu_irq irq[4];
+    qemu_irq irq[PCI_NUM_PINS];
     PCIBus pci_bus;
     RavenPCIState pci_dev;
 } PREPPCIState;
@@ -121,11 +121,11 @@ static void raven_pcihost_realizefn(DeviceState *d, Error **errp)
 
     isa_mem_base = 0xc0000000;
 
-    for (i = 0; i < 4; i++) {
+    for (i = 0; i < PCI_NUM_PINS; i++) {
         sysbus_init_irq(dev, &s->irq[i]);
     }
 
-    pci_bus_irqs(&s->pci_bus, prep_set_irq, prep_map_irq, s->irq, 4);
+    pci_bus_irqs(&s->pci_bus, prep_set_irq, prep_map_irq, s->irq, PCI_NUM_PINS);
 
     memory_region_init_io(&h->conf_mem, OBJECT(h), &pci_host_conf_be_ops, s,
                           "pci-conf-idx", 1);

