commit 16cd3a8021ba28ae78d75c1021b1567e9e6a5f14
Author: Poul-Henning Kamp <phk@phk.freebsd.dk>
Date:   Fri Feb 29 09:38:49 2008 +0000

    Workaround: ignore uncached objects in EXP_Touch()
    
    
    git-svn-id: http://www.varnish-cache.org/svn/trunk/varnish-cache@2544 d4fa192b-c00b-0410-8231-f00ffab90ce4

diff --git a/bin/varnishd/cache_expire.c b/bin/varnishd/cache_expire.c
index 677c2b2cb..c9ddddcfd 100644
--- a/bin/varnishd/cache_expire.c
+++ b/bin/varnishd/cache_expire.c
@@ -198,6 +198,8 @@ EXP_Touch(const struct object *o, double now)
 
 	CHECK_OBJ_NOTNULL(o, OBJECT_MAGIC);
 	oe = o->objexp;
+	if (oe == NULL)
+		return;
 	CHECK_OBJ_NOTNULL(oe, OBJEXP_MAGIC);
 	if (oe->lru_stamp + params->lru_timeout > now)
 		return;

