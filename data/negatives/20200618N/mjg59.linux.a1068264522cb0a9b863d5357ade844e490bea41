commit a1068264522cb0a9b863d5357ade844e490bea41
Author: Adrian Bunk <bunk@kernel.org>
Date:   Fri Aug 22 18:20:29 2008 +0300

    sh64: re-add the __strnlen_user() prototype
    
    Commit 42fd3b142d8867f5b58d6fb75592cd20fd654c1b
    (sh: Initial consolidation of the _32/_64 uaccess split.)
    mistakenly removed the sh64 __strnlen_user() prototype,
    resulting in the following compile error:
    
    <--  snip  -->
    
    ...
      CC      init/main.o
    In file included from include/linux/poll.h:13,
                     from include/linux/rtc.h:113,
                     from include/linux/efi.h:19,
                     from init/main.c:43:
    arch/sh/include/asm/uaccess.h: In function 'strnlen_user':
    arch/sh/include/asm/uaccess.h:213: error: implicit declaration of function '__strnlen_user'
    ...
    make[2]: *** [init/main.o] Error 1
    
    <--  snip  -->
    
    Reported-by: Adrian Bunk <bunk@kernel.org>
    Signed-off-by: Adrian Bunk <bunk@kernel.org>
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>

diff --git a/arch/sh/include/asm/uaccess_64.h b/arch/sh/include/asm/uaccess_64.h
index 81b3d515fcb3..5580fd471003 100644
--- a/arch/sh/include/asm/uaccess_64.h
+++ b/arch/sh/include/asm/uaccess_64.h
@@ -76,4 +76,6 @@ extern long __put_user_asm_l(void *, long);
 extern long __put_user_asm_q(void *, long);
 extern void __put_user_unknown(void);
 
+extern long __strnlen_user(const char *__s, long __n);
+
 #endif /* __ASM_SH_UACCESS_64_H */

