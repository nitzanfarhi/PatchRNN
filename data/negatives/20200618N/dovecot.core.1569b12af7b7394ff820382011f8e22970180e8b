commit 1569b12af7b7394ff820382011f8e22970180e8b
Author: Stephan Bosch <stephan@dovecot.fi>
Date:   Thu May 19 23:42:14 2016 +0200

    lib-http: client: Removed curiously duplicated code.
    
    Probably a patch got applied with sufficient fuzz that it duplicated this code fragment, while it actually already existed.

diff --git a/src/lib-http/http-client-request.c b/src/lib-http/http-client-request.c
index 9c1f35806..5d78a4bf6 100644
--- a/src/lib-http/http-client-request.c
+++ b/src/lib-http/http-client-request.c
@@ -1285,19 +1285,6 @@ void http_client_request_resubmit(struct http_client_request *req)
 		}
 	}
 
-	/* rewind payload stream */
-	if (req->payload_input != NULL && req->payload_size > 0) {
-		if (req->payload_input->v_offset != req->payload_offset &&
-			!req->payload_input->seekable) {
-			http_client_request_error(&req,
-				HTTP_CLIENT_REQUEST_ERROR_ABORTED,
-				"Resubmission failed: Cannot resend payload; stream is not seekable");
-			return;
-		} else {
-			i_stream_seek(req->payload_input, req->payload_offset);
-		}
-	}
-
 	/* drop payload output stream from previous attempt */
 	if (req->payload_output != NULL)
 		o_stream_unref(&req->payload_output);

