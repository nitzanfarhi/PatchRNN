commit c3aff086ea11f17f5c0bec77bdbf4365ba6b41fc
Author: Andrew Clayton <andrew@digital-domain.net>
Date:   Wed Nov 1 15:49:59 2017 +0000

    signal: Fix name of SIGEMT in #if defined() check
    
    Commit cc731525f26a ("signal: Remove kernel interal si_code magic")
    added a check for SIGMET and NSIGEMT being defined. That SIGMET should
    in fact be SIGEMT, with SIGEMT being defined in
    arch/{alpha,mips,sparc}/include/uapi/asm/signal.h
    
    This was actually pointed out by BenHutchings in a lwn.net comment
    here https://lwn.net/Comments/734608/
    
    Fixes: cc731525f26a ("signal: Remove kernel interal si_code magic")
    Signed-off-by: Andrew Clayton <andrew@digital-domain.net>
    Signed-off-by: "Eric W. Biederman" <ebiederm@xmission.com>

diff --git a/kernel/signal.c b/kernel/signal.c
index 800a18f77732..8dcd8825b2de 100644
--- a/kernel/signal.c
+++ b/kernel/signal.c
@@ -2698,7 +2698,7 @@ enum siginfo_layout siginfo_layout(int sig, int si_code)
 			[SIGSEGV] = { NSIGSEGV, SIL_FAULT },
 			[SIGBUS]  = { NSIGBUS,  SIL_FAULT },
 			[SIGTRAP] = { NSIGTRAP, SIL_FAULT },
-#if defined(SIGMET) && defined(NSIGEMT)
+#if defined(SIGEMT) && defined(NSIGEMT)
 			[SIGEMT]  = { NSIGEMT,  SIL_FAULT },
 #endif
 			[SIGCHLD] = { NSIGCHLD, SIL_CHLD },

