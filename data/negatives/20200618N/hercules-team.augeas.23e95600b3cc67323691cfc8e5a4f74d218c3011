commit 23e95600b3cc67323691cfc8e5a4f74d218c3011
Author: David Lutterkort <lutter@redhat.com>
Date:   Sun Dec 14 23:52:28 2008 -0800

    regexp_release: allow NULL regexp

diff --git a/src/regexp.c b/src/regexp.c
index 179d7c19..d3414cd7 100644
--- a/src/regexp.c
+++ b/src/regexp.c
@@ -328,7 +328,7 @@ int regexp_nsub(struct regexp *r) {
 }
 
 void regexp_release(struct regexp *regexp) {
-    if (regexp->re != NULL) {
+    if (regexp != NULL && regexp->re != NULL) {
         regfree(regexp->re);
         FREE(regexp->re);
     }

