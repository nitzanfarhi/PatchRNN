commit 0c778e86337148110b13b609074109eb4dcacd15
Author: Mark Brown <broonie@opensource.wolfsonmicro.com>
Date:   Thu Dec 6 18:22:25 2012 +0900

    ASoC: arizona: Store the DAI clock ID when setting
    
    So the code to suppress duplicate changes is effective.
    
    Reported-by: Kyung Kwee Ryu <Kyung-Kwee.Ryu@wolfsonmicro.comyu@wolfsonmicro.com>
    Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>

diff --git a/sound/soc/codecs/arizona.c b/sound/soc/codecs/arizona.c
index 49d115205810..6c1be6cadc0b 100644
--- a/sound/soc/codecs/arizona.c
+++ b/sound/soc/codecs/arizona.c
@@ -761,6 +761,8 @@ static int arizona_dai_set_sysclk(struct snd_soc_dai *dai,
 	routes[1].source = arizona_dai_clk_str(clk_id);
 	snd_soc_dapm_add_routes(&codec->dapm, routes, ARRAY_SIZE(routes));
 
+	dai_priv->clk = clk_id;
+
 	return snd_soc_dapm_sync(&codec->dapm);
 }
 

