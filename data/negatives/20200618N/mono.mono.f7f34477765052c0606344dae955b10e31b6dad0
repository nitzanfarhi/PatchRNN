commit f7f34477765052c0606344dae955b10e31b6dad0
Author: Martin Baulig <martin@novell.com>
Date:   Mon Mar 22 04:47:22 2004 +0000

    Don't crash here ;-)
    
    svn path=/trunk/mono/; revision=24390

diff --git a/mono/metadata/class.c b/mono/metadata/class.c
index 9401fea225a..58b51cce0cc 100644
--- a/mono/metadata/class.c
+++ b/mono/metadata/class.c
@@ -220,7 +220,7 @@ mono_class_inflate_generic_type (MonoType *type, MonoGenericInst *ginst,
 		MonoClass *eclass = type->data.klass;
 		MonoClass *nclass;
 		MonoType *nt;
-		if ((eclass->byval_arg.type == MONO_TYPE_MVAR) && gmethod) {
+		if ((eclass->byval_arg.type == MONO_TYPE_MVAR) && gmethod && gmethod->mtype_argv) {
 			nclass = mono_class_from_mono_type (gmethod->mtype_argv [eclass->byval_arg.data.generic_param->num]);
 		} else if ((eclass->byval_arg.type == MONO_TYPE_VAR) && ginst) {
 			nclass = mono_class_from_mono_type (ginst->type_argv [eclass->byval_arg.data.generic_param->num]);

