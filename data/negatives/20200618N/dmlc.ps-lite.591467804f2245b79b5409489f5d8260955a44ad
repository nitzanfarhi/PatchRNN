commit 591467804f2245b79b5409489f5d8260955a44ad
Author: solin319 <lipengfei19890603@126.com>
Date:   Mon Mar 12 10:50:04 2018 +0800

    Surport mxnet train distributed  on Kubernetes
    
    In Kubernetes pod,      a virtual ip(svc ip) was used for communication. But this virtual ip can't used for bind.
    So we suggest using 0.0.0.0 to bind scheduler port, and use the virtual ip for communication as before.

diff --git a/src/zmq_van.h b/src/zmq_van.h
index 097d19c..7f522b7 100644
--- a/src/zmq_van.h
+++ b/src/zmq_van.h
@@ -68,6 +68,9 @@ class ZMQVan : public Van {
         << "create receiver socket failed: " << zmq_strerror(errno);
     int local = GetEnv("DMLC_LOCAL", 0);
     std::string hostname = node.hostname.empty() ? "*" : node.hostname;
+    if (max_retry == 0) {
+      hostname = "0.0.0.0";
+    }
     std::string addr = local ? "ipc:///tmp/" : "tcp://" + hostname + ":";
     int port = node.port;
     unsigned seed = static_cast<unsigned>(time(NULL)+port);

