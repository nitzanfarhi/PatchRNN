commit 4d4c62064c063ac2cb50f6698706084f72b6fd51
Author: Sanjana DS <sanjana.ds@oracle.com>
Date:   Wed Sep 2 18:20:45 2015 +0530

    blockSend and unblockSend are not declared since
    ERROR_INSERT hasn't been defined.
    
    This patch checks if ERROR_INSERT has been defined
    before the aforementioned functions are called.

diff --git a/storage/ndb/src/mgmsrv/MgmtSrvr.cpp b/storage/ndb/src/mgmsrv/MgmtSrvr.cpp
index 9c5a513ffdf..33a38b92be8 100644
--- a/storage/ndb/src/mgmsrv/MgmtSrvr.cpp
+++ b/storage/ndb/src/mgmsrv/MgmtSrvr.cpp
@@ -3038,6 +3038,7 @@ MgmtSrvr::dumpStateSelf(const Uint32 args[], Uint32 no)
   if (no < 1)
     return -1;
 
+#ifdef ERROR_INSERT
   switch(args[0])
   {
   case 9994:
@@ -3067,7 +3068,6 @@ MgmtSrvr::dumpStateSelf(const Uint32 args[], Uint32 no)
     break;
   }
 
-#ifdef ERROR_INSERT
   case 9996:
   {
     /* Sendbuffer consumption */

