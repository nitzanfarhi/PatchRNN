commit 819c9da8d2b37ed85a4a9213e5d596df5f1e4708
Author: Yukihiro "Matz" Matsumoto <matz@ruby-lang.org>
Date:   Wed Feb 17 11:03:27 2016 +0900

    peephole optimization for LOADNIL before STRCAT; ref #3110

diff --git a/mrbgems/mruby-compiler/core/codegen.c b/mrbgems/mruby-compiler/core/codegen.c
index 12f79b89..52611c19 100644
--- a/mrbgems/mruby-compiler/core/codegen.c
+++ b/mrbgems/mruby-compiler/core/codegen.c
@@ -339,6 +339,12 @@ genop_peep(codegen_scope *s, mrb_code i, int val)
           return 0;
         }
       }
+      if (c0 == OP_LOADNIL) {
+        if (GETARG_B(i) == GETARG_A(i0)) {
+          s->pc--;
+          return 0;
+        }
+      }
       break;
     case OP_JMPIF:
     case OP_JMPNOT:

