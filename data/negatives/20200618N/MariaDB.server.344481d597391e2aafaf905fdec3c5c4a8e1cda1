commit 344481d597391e2aafaf905fdec3c5c4a8e1cda1
Author: marko <>
Date:   Wed Oct 15 06:00:06 2008 +0000

    branches/zip: row_create_table_for_mysql(), row_create_index_for_mysql():
    Note that the dictionary object will be freed.

diff --git a/include/row0mysql.h b/include/row0mysql.h
index 737911c7b88..7a361c99070 100644
--- a/include/row0mysql.h
+++ b/include/row0mysql.h
@@ -339,7 +339,8 @@ int
 row_create_table_for_mysql(
 /*=======================*/
 					/* out: error code or DB_SUCCESS */
-	dict_table_t*	table,		/* in: table definition */
+	dict_table_t*	table,		/* in, own: table definition
+					(will be freed) */
 	trx_t*		trx);		/* in: transaction handle */
 /*************************************************************************
 Does an index creation operation for MySQL. TODO: currently failure
@@ -350,7 +351,8 @@ int
 row_create_index_for_mysql(
 /*=======================*/
 					/* out: error number or DB_SUCCESS */
-	dict_index_t*	index,		/* in: index definition */
+	dict_index_t*	index,		/* in, own: index definition
+					(will be freed) */
 	trx_t*		trx,		/* in: transaction handle */
 	const ulint*	field_lengths); /* in: if not NULL, must contain
 					dict_index_get_n_fields(index)
diff --git a/row/row0mysql.c b/row/row0mysql.c
index b845fbe80f0..4daebba16fa 100644
--- a/row/row0mysql.c
+++ b/row/row0mysql.c
@@ -1709,7 +1709,8 @@ int
 row_create_table_for_mysql(
 /*=======================*/
 				/* out: error code or DB_SUCCESS */
-	dict_table_t*	table,	/* in: table definition */
+	dict_table_t*	table,	/* in, own: table definition
+				(will be freed) */
 	trx_t*		trx)	/* in: transaction handle */
 {
 	tab_node_t*	node;
@@ -1903,7 +1904,8 @@ int
 row_create_index_for_mysql(
 /*=======================*/
 					/* out: error number or DB_SUCCESS */
-	dict_index_t*	index,		/* in: index definition */
+	dict_index_t*	index,		/* in, own: index definition
+					(will be freed) */
 	trx_t*		trx,		/* in: transaction handle */
 	const ulint*	field_lengths)	/* in: if not NULL, must contain
 					dict_index_get_n_fields(index)

