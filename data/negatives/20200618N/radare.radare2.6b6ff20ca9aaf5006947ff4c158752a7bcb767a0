commit 6b6ff20ca9aaf5006947ff4c158752a7bcb767a0
Author: pancake <pancake@nopcode.org>
Date:   Wed Jan 24 18:06:27 2018 +0100

    Quick fix out for x86.nz assembler

diff --git a/libr/asm/p/asm_x86_nz.c b/libr/asm/p/asm_x86_nz.c
index 716c71f27..f661cc79f 100644
--- a/libr/asm/p/asm_x86_nz.c
+++ b/libr/asm/p/asm_x86_nz.c
@@ -1968,8 +1968,13 @@ static int opout(RAsm *a, ut8 *data, const Opcode *op) {
 			data[l++] = 0xe7;
 		} else if (op->operands[1].reg == X86R_EAX && op->operands[1].type & OT_DWORD) {
 			data[l++] = 0xe7;
+		} else {
+			// TODO: this is wrong
+			data[l++] = 0xe7;
 		}
 		data[l++] = immediate;
+	} else {
+		return -1;
 	}
 	return l;
 }

