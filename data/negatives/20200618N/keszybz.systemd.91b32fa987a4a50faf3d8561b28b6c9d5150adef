commit 91b32fa987a4a50faf3d8561b28b6c9d5150adef
Author: Michal Sekletar <msekleta@redhat.com>
Date:   Thu Oct 25 16:16:19 2012 +0200

    sysctl: parse all keys in a config file
    
    https://bugzilla.redhat.com/show_bug.cgi?id=869779

diff --git a/src/sysctl/sysctl.c b/src/sysctl/sysctl.c
index a68d67fd4..035e0ec32 100644
--- a/src/sysctl/sysctl.c
+++ b/src/sysctl/sysctl.c
@@ -178,7 +178,7 @@ static int parse_file(const char *path, bool ignore_enoent) {
 
                         free(property);
                         free(new_value);
-                        if (r != -EEXIST)
+                        if (r != 0)
                                 goto finish;
                 }
         }

