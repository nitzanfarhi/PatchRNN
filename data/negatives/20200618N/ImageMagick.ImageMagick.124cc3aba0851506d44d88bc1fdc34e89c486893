commit 124cc3aba0851506d44d88bc1fdc34e89c486893
Author: cristy <urban-warrior@git.imagemagick.org>
Date:   Mon Jan 28 15:07:14 2013 +0000

diff --git a/MagickCore/distribute-cache.c b/MagickCore/distribute-cache.c
index 073c71663..1403c80cc 100644
--- a/MagickCore/distribute-cache.c
+++ b/MagickCore/distribute-cache.c
@@ -270,6 +270,9 @@ static int ConnectPixelCacheServer(const char *hostname,const int port,
       signature=MAGICKCORE_HDRI_ENABLE;
       (void) memcpy(p,&signature,sizeof(signature));
       p+=sizeof(signature);
+      signature=sizeof(size_t);
+      (void) memcpy(p,&signature,sizeof(signature));
+      p+=sizeof(signature);
       *session_key=CRC32(session,p-session);
     }
   if (*session_key == 0)
@@ -831,6 +834,9 @@ static void *DistributePixelCacheClient(void *socket)
   signature=MAGICKCORE_HDRI_ENABLE;
   (void) memcpy(p,&signature,sizeof(signature));
   p+=sizeof(signature);
+  signature=sizeof(size_t);
+  (void) memcpy(p,&signature,sizeof(signature));
+  p+=sizeof(signature);
   session_key=CRC32(session,p-session);
   random_info=DestroyRandomInfo(random_info);
   exception=AcquireExceptionInfo();

