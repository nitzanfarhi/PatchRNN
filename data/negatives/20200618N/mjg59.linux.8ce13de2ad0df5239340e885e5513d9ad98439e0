commit 8ce13de2ad0df5239340e885e5513d9ad98439e0
Author: Kashyap, Desai <kashyap.desai@lsi.com>
Date:   Thu Jun 17 14:35:46 2010 +0530

    [SCSI] mptfusion: Set fw_events_off to 1 at driver load time.
    
    fw_events_off is flag checking for driver to do Event handling or not.
    Normally it should be OFF at the time of initialization. Only enable it at
    the time of INTR enable of device first time. This will always occur only
    after resource allocation.
    
    ioc->fw_events_off = 1 is set in mpt_attach()
    
    Signed-off-by: Kashyap Desai <kashyap.desai@lsi.com>
    Signed-off-by: James Bottomley <James.Bottomley@suse.de>

diff --git a/drivers/message/fusion/mptbase.c b/drivers/message/fusion/mptbase.c
index a6a57011ba6c..49005e151058 100644
--- a/drivers/message/fusion/mptbase.c
+++ b/drivers/message/fusion/mptbase.c
@@ -1913,6 +1913,9 @@ mpt_attach(struct pci_dev *pdev, const struct pci_device_id *id)
 		ioc->msi_enable = 0;
 		break;
 	}
+
+	ioc->fw_events_off = 1;
+
 	if (ioc->errata_flag_1064)
 		pci_disable_io_access(pdev);
 

