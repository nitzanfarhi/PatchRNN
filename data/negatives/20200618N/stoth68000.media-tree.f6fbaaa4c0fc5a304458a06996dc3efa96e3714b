commit f6fbaaa4c0fc5a304458a06996dc3efa96e3714b
Author: Ben Dooks <ben.dooks@codethink.co.uk>
Date:   Tue Jun 7 13:24:52 2016 +0100

    irqchip/tegra: Fix sparse warnings on __iomem
    
    Fix the following warnings from sparse due to casting to/from __iomem
    annotated variables:
    
    drivers/irqchip/irq-tegra.c:93:31: warning: incorrect type in initializer (different address spaces)
    drivers/irqchip/irq-tegra.c:93:31:    expected void [noderef] <asn:2>*base
    drivers/irqchip/irq-tegra.c:93:31:    got void *chip_data
    drivers/irqchip/irq-tegra.c:93:31: warning: incorrect type in initializer (different address spaces)
    drivers/irqchip/irq-tegra.c:93:31:    expected void [noderef] <asn:2>*base
    drivers/irqchip/irq-tegra.c:93:31:    got void *chip_data
    drivers/irqchip/irq-tegra.c:93:31: warning: incorrect type in initializer (different address spaces)
    drivers/irqchip/irq-tegra.c:93:31:    expected void [noderef] <asn:2>*base
    drivers/irqchip/irq-tegra.c:93:31:    got void *chip_data
    drivers/irqchip/irq-tegra.c:93:31: warning: incorrect type in initializer (different address spaces)
    drivers/irqchip/irq-tegra.c:93:31:    expected void [noderef] <asn:2>*base
    drivers/irqchip/irq-tegra.c:93:31:    got void *chip_data
    drivers/irqchip/irq-tegra.c:269:57: warning: incorrect type in argument 5 (different address spaces)
    drivers/irqchip/irq-tegra.c:269:57:    expected void *chip_data
    drivers/irqchip/irq-tegra.c:269:57:    got void [noderef] <asn:2>*<noident>
    
    Signed-off-by: Ben Dooks <ben.dooks@codethink.co.uk>
    Acked-by: Thierry Reding <treding@nvidia.com>
    Link: https://lkml.kernel.org/r/1465302292-4840-1-git-send-email-ben.dooks@codethink.co.uk
    Signed-off-by: Jason Cooper <jason@lakedaemon.net>

diff --git a/drivers/irqchip/irq-tegra.c b/drivers/irqchip/irq-tegra.c
index e902f081e16c..3973a14bb15b 100644
--- a/drivers/irqchip/irq-tegra.c
+++ b/drivers/irqchip/irq-tegra.c
@@ -90,7 +90,7 @@ static struct tegra_ictlr_info *lic;
 
 static inline void tegra_ictlr_write_mask(struct irq_data *d, unsigned long reg)
 {
-	void __iomem *base = d->chip_data;
+	void __iomem *base = (void __iomem __force *)d->chip_data;
 	u32 mask;
 
 	mask = BIT(d->hwirq % 32);
@@ -266,7 +266,7 @@ static int tegra_ictlr_domain_alloc(struct irq_domain *domain,
 
 		irq_domain_set_hwirq_and_chip(domain, virq + i, hwirq + i,
 					      &tegra_ictlr_chip,
-					      info->base[ictlr]);
+					      (void __force *)info->base[ictlr]);
 	}
 
 	parent_fwspec = *fwspec;

