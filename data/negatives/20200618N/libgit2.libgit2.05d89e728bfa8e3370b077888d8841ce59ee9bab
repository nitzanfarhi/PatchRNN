commit 05d89e728bfa8e3370b077888d8841ce59ee9bab
Author: Nikita Leshenko <nikita@leshenko.net>
Date:   Mon Jun 25 17:30:04 2018 +0300

    streams: openssl: Handle error in SSL_CTX_new
    
    SIGSEGV otherwise...

diff --git a/src/streams/openssl.c b/src/streams/openssl.c
index 103e45f51..8a1befc21 100644
--- a/src/streams/openssl.c
+++ b/src/streams/openssl.c
@@ -219,6 +219,10 @@ int git_openssl_stream_global_init(void)
 	 * to speak TLSv1 to perform the encryption itself.
 	 */
 	git__ssl_ctx = SSL_CTX_new(SSLv23_method());
+	if (!git__ssl_ctx) {
+		return -1;
+	}
+
 	SSL_CTX_set_options(git__ssl_ctx, ssl_opts);
 	SSL_CTX_set_mode(git__ssl_ctx, SSL_MODE_AUTO_RETRY);
 	SSL_CTX_set_verify(git__ssl_ctx, SSL_VERIFY_NONE, NULL);

