commit 6856b4bc599dbdaf7a3d48605fa449eb610b9112
Author: Andrew Beekhof <andrew@beekhof.net>
Date:   Thu Aug 18 15:02:45 2011 +1000

    High: Core: Ensure there is sufficient space for EOS when building short-form option strings
    
    Mercurial revision: a8d061d52f35d8171209f9920b073139246639d8

diff --git a/lib/common/utils.c b/lib/common/utils.c
index 7bf870b9e..47029fc89 100644
--- a/lib/common/utils.c
+++ b/lib/common/utils.c
@@ -2091,7 +2091,7 @@ void crm_set_options(const char *short_options, const char *app_usage, struct cr
 	
 	for(lpc = 0; long_options[lpc].name != NULL; lpc++) {
 	    if(long_options[lpc].val) {
-		crm_realloc(local_short_options, opt_string_len + 2);
+		crm_realloc(local_short_options, opt_string_len + 3);
 		local_short_options[opt_string_len++] = long_options[lpc].val;
 		if(long_options[lpc].has_arg == required_argument) {
 		    local_short_options[opt_string_len++] = ':';

