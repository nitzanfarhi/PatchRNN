commit c750a79482d100b19b7415dec9c7cdaed71adf28
Author: Eric Milkie <milkie@10gen.com>
Date:   Fri Feb 15 21:26:34 2013 -0500

    SERVER-8435 do not create deleted records with < 24 bytes of space

diff --git a/src/mongo/db/namespace_details.cpp b/src/mongo/db/namespace_details.cpp
index 3cb2828cc1..c077c9f03d 100644
--- a/src/mongo/db/namespace_details.cpp
+++ b/src/mongo/db/namespace_details.cpp
@@ -300,6 +300,11 @@ namespace mongo {
             lenToAlloc = std::min( r->lengthWithHeaders(),
                                    NamespaceDetails::quantizeAllocationSpace( lenToAlloc ) );
             left = regionlen - lenToAlloc;
+
+            if ( left < 24 ) {
+                // you get the whole thing.
+                return loc;
+            }
         }
 
         /* split off some for further use. */

