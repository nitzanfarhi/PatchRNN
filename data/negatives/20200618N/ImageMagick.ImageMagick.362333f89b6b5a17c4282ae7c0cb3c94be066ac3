commit 362333f89b6b5a17c4282ae7c0cb3c94be066ac3
Author: cristy <urban-warrior@git.imagemagick.org>
Date:   Sat Oct 12 00:17:29 2013 +0000

diff --git a/MagickCore/attribute.c b/MagickCore/attribute.c
index 02e7c8c9a..89014c979 100644
--- a/MagickCore/attribute.c
+++ b/MagickCore/attribute.c
@@ -1281,7 +1281,9 @@ MagickExport MagickBooleanType SetImageType(Image *image,const ImageType type,
     case UndefinedType:
       break;
   }
-  image->type=type;
   image_info=DestroyImageInfo(image_info);
-  return(status);
+  if (status == MagickFalse)
+    return(status);
+  image->type=type;
+  return(MagickTrue);
 }

