commit 00e8d83a5a6fce20443b53bc42066bc756d5caeb
Author: Tom Gundersen <teg@jklm.no>
Date:   Thu Dec 4 12:19:57 2014 +0100

    networkd: fix compile
    
    Rebase failure on my side.

diff --git a/src/network/networkd-link.c b/src/network/networkd-link.c
index a4f8c59e0..7cffcb48d 100644
--- a/src/network/networkd-link.c
+++ b/src/network/networkd-link.c
@@ -689,11 +689,11 @@ static int link_set_handler(sd_rtnl *rtnl, sd_rtnl_message *m, void *userdata) {
         _cleanup_link_unref_ Link *link = userdata;
         int r;
 
-        log_debug_link(link, "set link");
+        log_link_debug(link, "set link");
 
         r = sd_rtnl_message_get_errno(m);
         if (r < 0 && r != -EEXIST) {
-                log_struct_link(LOG_ERR, link,
+                log_link_struct(link, LOG_ERR,
                                 "MESSAGE=%-*s: could not join netdev: %s",
                                 IFNAMSIZ,
                                 link->ifname, strerror(-r),
@@ -836,20 +836,20 @@ static int link_set_bridge(Link *link) {
         r = sd_rtnl_message_new_link(link->manager->rtnl, &req,
                                      RTM_SETLINK, link->ifindex);
         if (r < 0) {
-                log_error_link(link, "Could not allocate RTM_SETLINK message");
+                log_link_error(link, "Could not allocate RTM_SETLINK message");
                 return r;
         }
 
         r = sd_rtnl_message_link_set_family(req, PF_BRIDGE);
         if (r < 0) {
-                log_error_link(link,
+                log_link_error(link,
                                "Could not set message family %s", strerror(-r));
                 return r;
         }
 
         r = sd_rtnl_message_open_container(req, IFLA_PROTINFO);
         if (r < 0) {
-                log_error_link(link,
+                log_link_error(link,
                                "Could not append IFLA_PROTINFO attribute: %s",
                                strerror(-r));
                 return r;
@@ -858,7 +858,7 @@ static int link_set_bridge(Link *link) {
         if(link->network->cost != 0) {
                 r = sd_rtnl_message_append_u32(req, IFLA_BRPORT_COST, link->network->cost);
                 if (r < 0) {
-                        log_error_link(link,
+                        log_link_error(link,
                                        "Could not append IFLA_BRPORT_COST attribute: %s",
                                        strerror(-r));
                         return r;
@@ -867,7 +867,7 @@ static int link_set_bridge(Link *link) {
 
         r = sd_rtnl_message_close_container(req);
         if (r < 0) {
-                log_error_link(link,
+                log_link_error(link,
                                "Could not append IFLA_LINKINFO attribute: %s",
                                strerror(-r));
                 return r;
@@ -875,7 +875,7 @@ static int link_set_bridge(Link *link) {
 
         r = sd_rtnl_call_async(link->manager->rtnl, req, link_set_handler, link, 0, NULL);
         if (r < 0) {
-                log_error_link(link,
+                log_link_error(link,
                                "Could not send rtnetlink message: %s",
                                strerror(-r));
                 return r;
@@ -1124,7 +1124,7 @@ static int link_joined(Link *link) {
         if(link->network->bridge) {
                 r = link_set_bridge(link);
                 if (r < 0) {
-                        log_error_link(link,
+                        log_link_error(link,
                                        "Could not set bridge message: %s",
                                        strerror(-r));
                 }
diff --git a/src/network/networkd-netdev-vxlan.c b/src/network/networkd-netdev-vxlan.c
index b19240e31..d5128cb7c 100644
--- a/src/network/networkd-netdev-vxlan.c
+++ b/src/network/networkd-netdev-vxlan.c
@@ -95,7 +95,7 @@ static int netdev_vxlan_fill_message_create(NetDev *netdev, Link *link, sd_rtnl_
 
         r = sd_rtnl_message_append_u8(m, IFLA_VXLAN_RSC, v->route_short_circuit);
         if (r < 0) {
-                log_error_netdev(netdev,
+                log_netdev_error(netdev,
                                  "Could not append IFLA_VXLAN_RSC attribute: %s",
                                  strerror(-r));
                 return r;
@@ -103,7 +103,7 @@ static int netdev_vxlan_fill_message_create(NetDev *netdev, Link *link, sd_rtnl_
 
         r = sd_rtnl_message_append_u8(m, IFLA_VXLAN_PROXY, v->arp_proxy);
         if (r < 0) {
-                log_error_netdev(netdev,
+                log_netdev_error(netdev,
                                  "Could not append IFLA_VXLAN_PROXY attribute: %s",
                                  strerror(-r));
                 return r;
@@ -111,7 +111,7 @@ static int netdev_vxlan_fill_message_create(NetDev *netdev, Link *link, sd_rtnl_
 
         r = sd_rtnl_message_append_u8(m, IFLA_VXLAN_L2MISS, v->l2miss);
         if (r < 0) {
-                log_error_netdev(netdev,
+                log_netdev_error(netdev,
                                  "Could not append IFLA_VXLAN_L2MISS attribute: %s",
                                  strerror(-r));
                 return r;
@@ -119,7 +119,7 @@ static int netdev_vxlan_fill_message_create(NetDev *netdev, Link *link, sd_rtnl_
 
         r = sd_rtnl_message_append_u8(m, IFLA_VXLAN_L3MISS, v->l3miss);
         if (r < 0) {
-                log_error_netdev(netdev,
+                log_netdev_error(netdev,
                                  "Could not append IFLA_VXLAN_L3MISS attribute: %s",
                                  strerror(-r));
                 return r;
@@ -128,7 +128,7 @@ static int netdev_vxlan_fill_message_create(NetDev *netdev, Link *link, sd_rtnl_
         if(v->fdb_ageing) {
                 r = sd_rtnl_message_append_u32(m, IFLA_VXLAN_AGEING, v->fdb_ageing / USEC_PER_SEC);
                 if (r < 0) {
-                        log_error_netdev(netdev,
+                        log_netdev_error(netdev,
                                          "Could not append IFLA_VXLAN_AGEING attribute: %s",
                                          strerror(-r));
                         return r;

