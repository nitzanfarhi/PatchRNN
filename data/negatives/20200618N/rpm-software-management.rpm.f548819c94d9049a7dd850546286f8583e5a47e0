commit f548819c94d9049a7dd850546286f8583e5a47e0
Author: Jindrich Novy <jnovy@redhat.com>
Date:   Fri Apr 4 13:17:53 2008 +0200

    Simplify formatting

diff --git a/build/spec.c b/build/spec.c
index 610a28499..3089f4d50 100644
--- a/build/spec.c
+++ b/build/spec.c
@@ -623,8 +623,8 @@ printNewSpecfile(rpmSpec spec)
 	    sl->sl_lines[t->t_startx] = _free(sl->sl_lines[t->t_startx]);
 	    if (t->t_lang && strcmp(t->t_lang, RPMBUILD_DEFAULT_LANG))
 		continue;
-	    {   char *buf = xmalloc(strlen(tn) + sizeof(": ") + strlen(msgstr));
-		(void) stpcpy( stpcpy( stpcpy(buf, tn), ": "), msgstr);
+	    {   char *buf = NULL;
+		rasprintf(&buf, "%s: %s", tn, msgstr);
 		sl->sl_lines[t->t_startx] = buf;
 	    }
 	    break;

