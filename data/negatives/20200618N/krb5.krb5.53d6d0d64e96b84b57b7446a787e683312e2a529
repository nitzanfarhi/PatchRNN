commit 53d6d0d64e96b84b57b7446a787e683312e2a529
Author: Will Fiveash <will.fiveash@oracle.com>
Date:   Wed Mar 19 16:48:15 2014 -0500

    Always stat profile files after reopening them
    
    Some applications write a profile file and then immediately use it via
    a krb5_context.  If we have a cached copy of the profile we wrote,
    make sure to update it by forcing a stat when we reuse an existing
    prf_data_t object.
    
    [ghudson@mit.edu: commit message]
    
    ticket: 7884

diff --git a/src/util/profile/prof_file.c b/src/util/profile/prof_file.c
index 76411db8a..561123370 100644
--- a/src/util/profile/prof_file.c
+++ b/src/util/profile/prof_file.c
@@ -249,6 +249,7 @@ errcode_t profile_open_file(const_profile_filespec_t filespec,
     }
     if (data) {
         data->refcount++;
+        data->last_stat = 0;    /* Make sure to stat when updating. */
         k5_mutex_unlock(&g_shared_trees_mutex);
         retval = profile_update_file_data(data, NULL);
         free(expanded_filename);

