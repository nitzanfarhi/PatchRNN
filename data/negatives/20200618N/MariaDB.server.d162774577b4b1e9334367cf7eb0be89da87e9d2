commit d162774577b4b1e9334367cf7eb0be89da87e9d2
Author: Mattias Jonsson <mattias.jonsson@sun.com>
Date:   Wed Oct 8 09:46:30 2008 +0200

    Bug#37453: Dropping/creating index on partitioned table with
    InnoDB Plugin locks table
    
    This is a pre fix update that does the change to the handler api.
    
    This is done since there are already changes in this version,
    so the real fix does not need to change the api.

diff --git a/sql/handler.h b/sql/handler.h
index b943e188962..4ac80014cde 100644
--- a/sql/handler.h
+++ b/sql/handler.h
@@ -1732,6 +1732,12 @@ class handler :public Sql_alloc
     but we don't have a primary key
   */
   virtual void use_hidden_primary_key();
+  virtual uint alter_table_flags(uint flags)
+  {
+    if (ht->alter_table_flags)
+      return ht->alter_table_flags(flags);
+    return 0;
+  } 
 
 protected:
   /* Service methods for use by storage engines. */

