commit d3b60aa685759e7240a561a292d967e76fd2a927
Author: Vitor Sessak <vitor1001@gmail.com>
Date:   Thu Aug 27 15:49:05 2009 +0000

    100l, revision 19728 added a bug that broke twinvq decoding. I forgot to
    multiply the buffer size by the number of channels.
    
    Originally committed as revision 19730 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavcodec/twinvq.c b/libavcodec/twinvq.c
index ba38ddcc7..1bb271c58 100644
--- a/libavcodec/twinvq.c
+++ b/libavcodec/twinvq.c
@@ -860,7 +860,7 @@ static int twin_decode_frame(AVCodecContext * avctx, void *data,
     }
 
     tctx->dsp.vector_clipf(out, out, -32700./(1<<15), 32700./(1<<15),
-                           mtab->size);
+                           avctx->channels * mtab->size);
 
     *data_size = mtab->size*avctx->channels*4;
 

