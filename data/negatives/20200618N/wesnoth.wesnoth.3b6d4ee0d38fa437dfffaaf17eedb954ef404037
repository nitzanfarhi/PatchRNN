commit 3b6d4ee0d38fa437dfffaaf17eedb954ef404037
Author: Mark de Wever <koraq@xs4all.nl>
Date:   Sun Feb 25 09:06:47 2007 +0000

    made trunk compile again,
    
    ...I'll ask yogi to review the change but quite sure this is what was
    intended

diff --git a/src/playcampaign.cpp b/src/playcampaign.cpp
index 5e3a1c71cb..93e90a0c9c 100644
--- a/src/playcampaign.cpp
+++ b/src/playcampaign.cpp
@@ -153,8 +153,8 @@ LEVEL_RESULT play_game(display& disp, game_state& gamestate, const config& game_
 			gamestate.set_variables(*gamestate.snapshot.child("variables"));
 		}
 		//Replace game label with that from snapshot
-		if (!state.snapshot["label"].empty()){
-			state.label = state.snapshot["label"];
+		if (!gamestate.snapshot["label"].empty()){
+			gamestate.label = gamestate.snapshot["label"];
 		}
 		//get the current gold values of players so they don't start with the amount
 		//they had at the start of the scenario

