commit 12165ab875d8e494fa781a9615370483827a5d79
Author: pancake <pancake@nopcode.org>
Date:   Thu Dec 29 14:32:29 2016 +0100

    Unescape 'c' string and properly handle the length

diff --git a/libr/core/cmd_cmp.c b/libr/core/cmd_cmp.c
index 0848c69ca..6353eed23 100644
--- a/libr/core/cmd_cmp.c
+++ b/libr/core/cmd_cmp.c
@@ -394,8 +394,12 @@ static int cmd_cmp(void *data, const char *input) {
 			strlen (input + 2) + 1, '*');
 		break;
 	case ' ':
-		val = radare_compare (core, core->block, (ut8*)input+1,
-			strlen (input + 1) + 1, 0);
+		{
+			char *str = strdup (input + 1);
+			int len = r_str_unescape (str);
+			val = radare_compare (core, core->block, (ut8*)str, len, 0);
+			free (str);
+		}
 		break;
 	case 'x':
 		switch (input[1]) {

