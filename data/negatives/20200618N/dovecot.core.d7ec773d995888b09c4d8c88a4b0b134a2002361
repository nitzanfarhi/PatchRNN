commit d7ec773d995888b09c4d8c88a4b0b134a2002361
Author: Timo Sirainen <tss@iki.fi>
Date:   Tue Mar 9 16:24:57 2010 +0200

    mail storage service: Only some userdb extra fields were used.
    
    --HG--
    branch : HEAD

diff --git a/src/lib-storage/mail-storage-service.c b/src/lib-storage/mail-storage-service.c
index da285129e..84e27ffd3 100644
--- a/src/lib-storage/mail-storage-service.c
+++ b/src/lib-storage/mail-storage-service.c
@@ -133,7 +133,7 @@ user_reply_handle(struct mail_storage_service_user *user,
 	}
 
 	str = array_get(&reply->extra_fields, &count);
-	for (i = 0; i < count && ret == 0; i++) {
+	for (i = 0; i < count && ret >= 0; i++) {
 		line = str[i];
 		if (strncmp(line, "system_groups_user=", 19) == 0) {
 			user->system_groups_user =

