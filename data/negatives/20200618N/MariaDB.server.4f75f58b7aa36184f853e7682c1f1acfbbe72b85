commit 4f75f58b7aa36184f853e7682c1f1acfbbe72b85
Author: Gleb Shchepa <gshchepa@mysql.com>
Date:   Mon Dec 1 12:14:02 2008 +0400

    After-push commit for bug #33461 to make valgrind happy:
    TABLE_LIST doesn't free Strings in its string lists
    (TABLE_LIST::use_index and TABLE_liST::ignore_index), so
    calling c_ptr_safe() on that Strings leads to memleaks.
    OTOH "safe" c_ptr_safe() is not necessary there and we can
    replace it with c_ptr().

diff --git a/sql/sql_view.cc b/sql/sql_view.cc
index 5bd3c09a289..41a638b2618 100644
--- a/sql/sql_view.cc
+++ b/sql/sql_view.cc
@@ -985,7 +985,7 @@ bool mysql_make_view(THD *thd, File_parser *parser, TABLE_LIST *table,
   if (index_list) 
   {
     DBUG_ASSERT(index_list->head()); // should never fail
-    my_error(ER_KEY_DOES_NOT_EXITS, MYF(0), index_list->head()->c_ptr_safe(),
+    my_error(ER_KEY_DOES_NOT_EXITS, MYF(0), index_list->head()->c_ptr(),
              table->table_name);
     DBUG_RETURN(TRUE);
   }

