commit 68d85e1f78cd0c861412f5bc1d49d60a2895c4be
Author: art <art@openbsd.org>
Date:   Fri Mar 16 16:10:31 2001 +0000

    Oops. fix thinko in last.

diff --git a/sys/kern/vfs_subr.c b/sys/kern/vfs_subr.c
index d338945579d..bad71924e8e 100644
--- a/sys/kern/vfs_subr.c
+++ b/sys/kern/vfs_subr.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: vfs_subr.c,v 1.55 2001/03/16 16:05:28 art Exp $	*/
+/*	$OpenBSD: vfs_subr.c,v 1.56 2001/03/16 16:10:31 art Exp $	*/
 /*	$NetBSD: vfs_subr.c,v 1.53 1996/04/22 01:39:13 christos Exp $	*/
 
 /*
@@ -1721,7 +1721,7 @@ vfs_unmountall()
 
  retry:
 	allerror = 0;
-	for (mp = CIRCLEQ_FIRST(&mountlist); mp != CIRCLEQ_END(&mountlist);
+	for (mp = CIRCLEQ_LAST(&mountlist); mp != CIRCLEQ_END(&mountlist);
 	     mp = nmp) {
 		nmp = CIRCLEQ_PREV(mp, mnt_list);
 		if ((error = dounmount(mp, MNT_FORCE, curproc)) != 0) {

