commit 7b610f0a260319a4777a25a153580888dc4e36ae
Author: Rodrigo Kumpera <kumpera@gmail.com>
Date:   Mon Jan 10 15:36:05 2011 +0100

    Couple with missing methods in MonoClass::methods.
    
            * class.c (mono_class_get_virtual_methods): Handle missing
            methods in the methods array.
    
            Fixes #572223
    
            Patch by Sebastien Pouliot <spouliot@novell.com>

diff --git a/mono/metadata/class.c b/mono/metadata/class.c
index 4c14909c0ad..999bcb0328b 100644
--- a/mono/metadata/class.c
+++ b/mono/metadata/class.c
@@ -8055,7 +8055,7 @@ mono_class_get_virtual_methods (MonoClass* klass, gpointer *iter)
 			method++;
 		}
 		while (method < &klass->methods [klass->method.count]) {
-			if (((*method)->flags & METHOD_ATTRIBUTE_VIRTUAL))
+			if (*method && ((*method)->flags & METHOD_ATTRIBUTE_VIRTUAL))
 				break;
 			method ++;
 		}

