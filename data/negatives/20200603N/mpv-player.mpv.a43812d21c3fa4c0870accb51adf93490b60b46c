commit a43812d21c3fa4c0870accb51adf93490b60b46c
Author: alex <alex@b3059339-0415-0410-9bf9-f77b7e298cf2>
Date:   Mon Nov 25 20:08:59 2002 +0000

    patching out threads ;) raw measure: 18% cpu instead 30%
    
    
    git-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@8287 b3059339-0415-0410-9bf9-f77b7e298cf2

diff --git a/loader/module.c b/loader/module.c
index 51fb1244fe..014c288e9b 100644
--- a/loader/module.c
+++ b/loader/module.c
@@ -5,7 +5,7 @@
  */
 
 // define for quicktime calls debugging and/or MacOS-level emulation:
-//#define EMU_QTX_API
+#define EMU_QTX_API
 
 // define for quicktime debugging (verbose logging):
 //#define DEBUG_QTX_API
@@ -326,6 +326,29 @@ static WINE_MODREF *MODULE_LoadLibraryExA( LPCSTR libname, HFILE hfile, DWORD fl
 		    for(i=0;i<28;i++) ((char*)0x6299e86d)[i]=0x90;
 		    for(i=0;i<5;i++) ((char*)0x6299e898)[i]=0x90;
 		    for(i=0;i<9;i++) ((char*)0x6299e8ac)[i]=0x90;
+		    /* remove threads */
+#if 1
+		    for (i=0;i<0x6a;i++) ((char*)0x62a61b10)[i]=0x90;
+#else
+		    /* callers */
+		    for (i=0;i<5;i++) ((char*)0x629487c5)[i]=0x90;
+		    for (i=0;i<5;i++) ((char*)0x6294b275)[i]=0x90;
+		    for (i=0;i<5;i++) ((char*)0x629a24b1)[i]=0x90;
+		    for (i=0;i<5;i++) ((char*)0x629afc5a)[i]=0x90;
+		    for (i=0;i<5;i++) ((char*)0x62af799c)[i]=0x90;
+		    for (i=0;i<5;i++) ((char*)0x62af7efe)[i]=0x90;
+		    for (i=0;i<5;i++) ((char*)0x62afa33e)[i]=0x90;
+#endif
+		    /* load fonts */
+//		    for (i=0;i<5;i++) ((char*)0x6288dd77)[i]=0x90;
+		    /* terminateqtml fix */
+#if 0
+		    for (i=0;i<2;i++) ((char*)0x629a13c7)[i]=0x90;
+		    for (i=0;i<5;i++) ((char*)0x629a13cb)[i]=0x90;
+		    for (i=0;i<5;i++) ((char*)0x62890337)[i]=0x90;
+//		    for (i=0;i<5;i++) ((char*)0x629a13d5)[i]=0x90;
+//		    for (i=0;i<5;i++) ((char*)0x6299fe14)[i]=0x90;
+#endif
 #ifdef EMU_QTX_API
 		    report_entry = report_func;
 		    report_ret   = report_func_ret;

