commit ff1e7683418798e44eb8af1ab9f28dd475af6034
Author: Nathan Fontenot <nfont@linux.vnet.ibm.com>
Date:   Mon Jun 24 09:35:55 2013 -0500

    powerpc/mm: Fix build warnings with CONFIG_TRANSPARENT_HUGEPAGE disabled
    
    Building with CONFIG_TRANSPARENT_HUGEPAGE disabled causes the following
    build wearnings;
    
    powerpc/arch/powerpc/include/asm/mmu-hash64.h: In function ‘__hash_page_thp’:
    powerpc/arch/powerpc/include/asm/mmu-hash64.h:354: warning: no return statement in function returning non-void
    
    This patch adds a return -1 to the static inline for __hash_page_thp()
    to correct the warnings.
    
    Signed-off-by: Nathan Fontenot <nfont@linux.vnet.ibm.com>
    Reviewed-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>

diff --git a/arch/powerpc/include/asm/mmu-hash64.h b/arch/powerpc/include/asm/mmu-hash64.h
index 3d6fbb00d20b..c4cf01197273 100644
--- a/arch/powerpc/include/asm/mmu-hash64.h
+++ b/arch/powerpc/include/asm/mmu-hash64.h
@@ -351,6 +351,7 @@ static inline int __hash_page_thp(unsigned long ea, unsigned long access,
 				  int ssize, unsigned int psize)
 {
 	BUG();
+	return -1;
 }
 #endif
 extern void hash_failure_debug(unsigned long ea, unsigned long access,

