commit 0cba7d110b04b0e899968e15e3b2e79b25e833dc
Author: arpi <arpi@b3059339-0415-0410-9bf9-f77b7e298cf2>
Date:   Sun Jan 26 16:11:08 2003 +0000

    Secondly, fixed bug where -loop after file would play one too many times.
    I've just added a couple of if's in mplayer.c before
    it starts play (to make sure its after all the config stuff).
    patch by Alex Sisson <alex_sisson@yahoo.co.uk>
    
    
    git-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@9106 b3059339-0415-0410-9bf9-f77b7e298cf2

diff --git a/mplayer.c b/mplayer.c
index 01f8f430ee..912bf0e716 100644
--- a/mplayer.c
+++ b/mplayer.c
@@ -1715,6 +1715,9 @@ if(force_fps && sh_video){
 
 //==================== START PLAYING =======================
 
+if(loop_times>1) loop_times--; else
+if(loop_times==1) loop_times = -1;
+
 mp_msg(MSGT_CPLAYER,MSGL_INFO,MSGTR_StartPlaying);fflush(stdout);
 
 InitTimer();

