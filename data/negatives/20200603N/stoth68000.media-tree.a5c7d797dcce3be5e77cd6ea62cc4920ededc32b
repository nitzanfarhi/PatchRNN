commit a5c7d797dcce3be5e77cd6ea62cc4920ededc32b
Author: Alexey Fisher <bug-track@fisher-privat.net>
Date:   Wed Jun 23 14:17:09 2010 +0200

    ALSA: usb-audio - Add volume resolution quirk for some Logitech webcams
    
    Some programs like Skype trying to set capture volume automatically.
    Normally it will tray, carefully step by step lover or higher, set the volume.
    In real word it work not really well, because devises and vendors lie about
    real audio settings.
    For example most Logitech webcams have 6400 or 3500 steps for capture volume.
    They do not tell that actual resolution is 384. So we have only 7 or 18 real
    steps. In this patch I set real resolution only for tested devices.
    
    Signed-off-by: Alexey Fisher <bug-track@fisher-privat.net>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

diff --git a/sound/usb/mixer.c b/sound/usb/mixer.c
index 6939d0f517d9..736d134cc03c 100644
--- a/sound/usb/mixer.c
+++ b/sound/usb/mixer.c
@@ -1107,6 +1107,19 @@ static void build_feature_ctl(struct mixer_build *state, void *raw_desc,
 		}
 		break;
 
+	case USB_ID(0x046d, 0x0809):
+	case USB_ID(0x046d, 0x0991):
+	/* Most audio usb devices lie about volume resolution.
+	 * Most Logitech webcams have res = 384.
+	 * Proboly there is some logitech magic behind this number --fishor
+	 */
+		if (!strcmp(kctl->id.name, "Mic Capture Volume")) {
+			snd_printk(KERN_INFO
+				"set resolution quirk: cval->res = 384\n");
+			cval->res = 384;
+		}
+		break;
+
 	}
 
 	snd_printdd(KERN_INFO "[%d] FU [%s] ch = %d, val = %d/%d/%d\n",

