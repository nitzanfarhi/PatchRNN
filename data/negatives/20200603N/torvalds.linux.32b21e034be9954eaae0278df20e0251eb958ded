commit 32b21e034be9954eaae0278df20e0251eb958ded
Author: Denis Cheng <crquan@gmail.com>
Date:   Tue Aug 28 15:41:11 2007 -0700

    [NETLINK]: use container_of instead
    
    This could make future redesign of struct netlink_sock easier.
    
    Signed-off-by: Denis Cheng <crquan@gmail.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/net/netlink/af_netlink.c b/net/netlink/af_netlink.c
index 5681ce3aebca..a78d962e2c70 100644
--- a/net/netlink/af_netlink.c
+++ b/net/netlink/af_netlink.c
@@ -88,7 +88,7 @@ struct netlink_sock {
 
 static inline struct netlink_sock *nlk_sk(struct sock *sk)
 {
-	return (struct netlink_sock *)sk;
+	return container_of(sk, struct netlink_sock, sk);
 }
 
 struct nl_pid_hash {

