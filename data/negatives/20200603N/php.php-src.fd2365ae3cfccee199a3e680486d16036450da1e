commit fd2365ae3cfccee199a3e680486d16036450da1e
Author: Ilia Alshanetsky <iliaa@php.net>
Date:   Wed Oct 12 15:02:35 2005 +0000

    Fixed bug #34758 (PDO_DBLIB did not implement rowCount()).

diff --git a/ext/pdo_dblib/dblib_stmt.c b/ext/pdo_dblib/dblib_stmt.c
index a6e8b492d6..f965b5dd59 100644
--- a/ext/pdo_dblib/dblib_stmt.c
+++ b/ext/pdo_dblib/dblib_stmt.c
@@ -96,6 +96,8 @@ static int pdo_dblib_stmt_execute(pdo_stmt_t *stmt TSRMLS_DC)
 
 	ret = dbnextrow(H->link);
 
+	stmt->row_count = DBCOUNT(H->link);
+
     if (ret == NO_MORE_ROWS) {
        return 1;
     }

