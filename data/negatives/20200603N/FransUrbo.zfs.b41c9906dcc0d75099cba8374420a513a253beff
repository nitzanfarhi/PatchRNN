commit b41c9906dcc0d75099cba8374420a513a253beff
Author: Richard Yao <ryao@cs.stonybrook.edu>
Date:   Mon Feb 13 10:38:58 2012 -0500

    Support ashift=13 for 8KB SSD block sizes
    
    New SSDs are now available which use an internal 8k block size.
    To make sure ZFS can get the maximum performance out of these
    devices we're increasing the maximum ashift to 13 (8KB).
    
    This value is still small enough that we can fit 16 uberblocks
    in the vdev ring label.  However, I don't want to increase this
    any futher or it will limit the ability the safely roll back a
    pool to recover it.
    
    Signed-off-by: Brian Behlendorf <behlendorf1@llnl.gov>
    Closes #565

diff --git a/lib/libzfs/libzfs_pool.c b/lib/libzfs/libzfs_pool.c
index 1c8286f57..4b4d81f7b 100644
--- a/lib/libzfs/libzfs_pool.c
+++ b/lib/libzfs/libzfs_pool.c
@@ -443,7 +443,7 @@ zpool_valid_proplist(libzfs_handle_t *hdl, const char *poolname,
 				goto error;
 			}
 
-			if (intval != 0 && (intval < 9 || intval > 12)) {
+			if (intval != 0 && (intval < 9 || intval > 13)) {
 				zfs_error_aux(hdl, dgettext(TEXT_DOMAIN,
 				    "property '%s' number %d is invalid."),
 				    propname, intval);
diff --git a/module/zcommon/zpool_prop.c b/module/zcommon/zpool_prop.c
index 310598a6f..249dd64bb 100644
--- a/module/zcommon/zpool_prop.c
+++ b/module/zcommon/zpool_prop.c
@@ -89,7 +89,7 @@ zpool_prop_init(void)
 
 	/* readonly onetime number properties */
 	zprop_register_number(ZPOOL_PROP_ASHIFT, "ashift", 0, PROP_ONETIME,
-	    ZFS_TYPE_POOL, "<ashift, 9-12, or 0=default>", "ASHIFT");
+	    ZFS_TYPE_POOL, "<ashift, 9-13, or 0=default>", "ASHIFT");
 
 	/* default number properties */
 	zprop_register_number(ZPOOL_PROP_VERSION, "version", SPA_VERSION,

