commit 8de5d6f19bbe7c77676a62ab52be901aa10d6b54
Author: Adrian Knoth <adi@drcomp.erfurt.thur.de>
Date:   Thu Mar 8 15:38:04 2012 +0100

    ALSA: hdspm - Provide ioctl_compat
    
    snd_hdspm uses its own ioctls to acquire config- and status information.
    Expose the corresponding ioctl handler via ioctl_compat, so that 32bit
    applications can use it on 64bit kernels.
    
    Signed-off-by: Adrian Knoth <adi@drcomp.erfurt.thur.de>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

diff --git a/sound/pci/rme9652/hdspm.c b/sound/pci/rme9652/hdspm.c
index cc9f6c83d661..bc030a2088da 100644
--- a/sound/pci/rme9652/hdspm.c
+++ b/sound/pci/rme9652/hdspm.c
@@ -6333,6 +6333,7 @@ static int __devinit snd_hdspm_create_hwdep(struct snd_card *card,
 
 	hw->ops.open = snd_hdspm_hwdep_dummy_op;
 	hw->ops.ioctl = snd_hdspm_hwdep_ioctl;
+	hw->ops.ioctl_compat = snd_hdspm_hwdep_ioctl;
 	hw->ops.release = snd_hdspm_hwdep_dummy_op;
 
 	return 0;

