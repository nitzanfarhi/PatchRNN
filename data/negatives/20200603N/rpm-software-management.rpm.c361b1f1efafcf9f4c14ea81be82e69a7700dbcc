commit c361b1f1efafcf9f4c14ea81be82e69a7700dbcc
Author: ewt <devnull@localhost>
Date:   Wed Feb 17 03:46:57 1999 +0000

    don't be too clever -- skipping file creation because it'll be created
    later in the transaction ignores the needs of %post scripts <sigh>
    
    CVS patchset: 2800
    CVS date: 1999/02/17 03:46:57

diff --git a/lib/transaction.c b/lib/transaction.c
index b56291a2e..2f2a33f4b 100644
--- a/lib/transaction.c
+++ b/lib/transaction.c
@@ -927,9 +927,8 @@ void handleOverlappedFiles(struct fileInfo * fi, hashTable ht,
 
 	    /* FIXME: is this right??? it locks us into the config
 	       file handling choice we already made, which may very
-	       well be exactly right. */
-	    fi->actions[i] = recs[otherPkgNum]->actions[otherFileNum];
-	    recs[otherPkgNum]->actions[otherFileNum] = SKIP;
+	       well be exactly right. What about noreplace files?? */
+	    fi->actions[i] = CREATE;
 	} else if (fi->type == REMOVED && otherPkgNum >= 0) {
 	    fi->actions[i] = SKIP;
 	} else if (fi->type == REMOVED) {

