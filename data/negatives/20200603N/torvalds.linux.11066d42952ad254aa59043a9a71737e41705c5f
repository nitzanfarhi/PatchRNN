commit 11066d42952ad254aa59043a9a71737e41705c5f
Author: Ladislav Michl <ladis@linux-mips.org>
Date:   Fri Jan 12 14:13:56 2018 +0100

    mtd: onenand: omap2: Remove skip initial unlocking support
    
    No platform data user sets skip_initial_unlocking, so remove test
    for this field.
    
    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>
    Reviewed-by: Peter Ujfalusi <peter.ujfalusi@ti.com>
    Reviewed-by: Sebastian Reichel <sebastian.reichel@collabora.co.uk>
    Acked-by: Roger Quadros <rogerq@ti.com>
    Tested-by: Tony Lindgren <tony@atomide.com>
    Tested-by: Aaro Koskinen <aaro.koskinen@iki.fi>
    Signed-off-by: Boris Brezillon <boris.brezillon@free-electrons.com>

diff --git a/drivers/mtd/onenand/omap2.c b/drivers/mtd/onenand/omap2.c
index a03e1fe4aa48..93bd94337b35 100644
--- a/drivers/mtd/onenand/omap2.c
+++ b/drivers/mtd/onenand/omap2.c
@@ -700,9 +700,6 @@ static int omap2_onenand_probe(struct platform_device *pdev)
 		}
 	}
 
-	if (pdata->skip_initial_unlocking)
-		this->options |= ONENAND_SKIP_INITIAL_UNLOCKING;
-
 	if ((r = onenand_scan(&c->mtd, 1)) < 0)
 		goto err_release_dma;
 

