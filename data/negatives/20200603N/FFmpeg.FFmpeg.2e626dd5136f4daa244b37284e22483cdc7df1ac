commit 2e626dd5136f4daa244b37284e22483cdc7df1ac
Author: Nathan Caldwell <saintdev@gmail.com>
Date:   Fri Jan 27 22:23:41 2012 -0700

    aacenc: Fix LONG_START windowing.
    
    Forgot to add the equivalent amount to the incoming sample pointer as the output pointer.
    
    Signed-off-by: Anton Khirnov <anton@khirnov.net>

diff --git a/libavcodec/aacenc.c b/libavcodec/aacenc.c
index 765f9a7e3e..e610a8006f 100644
--- a/libavcodec/aacenc.c
+++ b/libavcodec/aacenc.c
@@ -200,8 +200,8 @@ WINDOW_FUNC(long_start)
     float *out = sce->ret;
 
     dsp->vector_fmul(out, audio, lwindow, 1024);
-    memcpy(out + 1024, audio, sizeof(out[0]) * 448);
-    dsp->vector_fmul_reverse(out + 1024 + 448, audio, swindow, 128);
+    memcpy(out + 1024, audio + 1024, sizeof(out[0]) * 448);
+    dsp->vector_fmul_reverse(out + 1024 + 448, audio + 1024 + 448, swindow, 128);
     memset(out + 1024 + 576, 0, sizeof(out[0]) * 448);
 }
 

