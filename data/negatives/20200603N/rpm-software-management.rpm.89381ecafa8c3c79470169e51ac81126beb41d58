commit 89381ecafa8c3c79470169e51ac81126beb41d58
Author: ewt <devnull@localhost>
Date:   Mon Jan 8 19:15:22 1996 +0000

    If not error callback is registered, the error gets printed to stderr
    
    CVS patchset: 163
    CVS date: 1996/01/08 19:15:22

diff --git a/lib/rpmerr.c b/lib/rpmerr.c
index e20bdc6f5..38000aad6 100644
--- a/lib/rpmerr.c
+++ b/lib/rpmerr.c
@@ -46,5 +46,8 @@ void error(int code, char *format, ...)
 
     if (errorCallback) {
 	errorCallback();
+    } else {
+	fputs(errorRec.string, stderr);
+	fputs("\n", stderr);
     }
 }
diff --git a/rpmio/rpmerr.c b/rpmio/rpmerr.c
index e20bdc6f5..38000aad6 100644
--- a/rpmio/rpmerr.c
+++ b/rpmio/rpmerr.c
@@ -46,5 +46,8 @@ void error(int code, char *format, ...)
 
     if (errorCallback) {
 	errorCallback();
+    } else {
+	fputs(errorRec.string, stderr);
+	fputs("\n", stderr);
     }
 }

