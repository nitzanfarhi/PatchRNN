commit dd65aa6690e30fdad84a62191c7ab37da89d9865
Author: Jiri Slaby <jirislaby@gmail.com>
Date:   Sat Feb 10 01:44:42 2007 -0800

    [PATCH] Char: tty, delete wake_up_interruptible after tty_wakeup
    
    tty_wakeup calls wake_up_interruptible(&tty->write_wait) itself, it's not
    needed to wake up again after tty_wakeup returns.
    
    Signed-off-by: Jiri Slaby <jirislaby@gmail.com>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

diff --git a/drivers/char/tty_io.c b/drivers/char/tty_io.c
index c57b1f434652..305e46db70e4 100644
--- a/drivers/char/tty_io.c
+++ b/drivers/char/tty_io.c
@@ -1612,7 +1612,6 @@ void start_tty(struct tty_struct *tty)
 
 	/* If we have a running line discipline it may need kicking */
 	tty_wakeup(tty);
-	wake_up_interruptible(&tty->write_wait);
 }
 
 EXPORT_SYMBOL(start_tty);

