commit 977869a804b0fca932bcbe1d26b756d2e9860d0f
Author: wm4 <wm4@nowhere>
Date:   Wed Nov 11 21:25:08 2015 +0100

    demux_lavf: mark ASS tracks as always UTF-8
    
    Stops mpv from trying to run a subtitle charset detector on .ass files
    loaded by libavformat.

diff --git a/demux/demux_lavf.c b/demux/demux_lavf.c
index eeed7a1b9a..2d12f5cfa2 100644
--- a/demux/demux_lavf.c
+++ b/demux/demux_lavf.c
@@ -612,6 +612,10 @@ static void handle_stream(demuxer_t *demuxer, int i)
                     sh_sub->frame_based = 23.976;
             }
         }
+
+        if (matches_avinputformat_name(priv, "ass"))
+            sh_sub->is_utf8 = true;
+
         break;
     }
     case AVMEDIA_TYPE_ATTACHMENT: {

