commit 34fd8706cd97a1ad7438aaabe3c92a57d3f6572b
Author: Andrei Elkin <andrei.elkin@oracle.com>
Date:   Tue Jul 3 17:48:49 2012 +0300

    Bug #14273803   SLAVE_START_WORKERS() ASSERTS NBYTES <= C_RLI->CHECKPOINT_GROUP / 8
    
    Assert in the debug build was caused by apparent intention
    to apply its condition to the dbug_off style of assignment to @@global.checkpoint_group
    where the latter is updated with step of 8.
    
    Fixed with refining the total bytes computing akin
    no_bytes_in_map().

diff --git a/sql/rpl_rli_pdb.cc b/sql/rpl_rli_pdb.cc
index 394f182d361..3fcab0be2d8 100644
--- a/sql/rpl_rli_pdb.cc
+++ b/sql/rpl_rli_pdb.cc
@@ -335,7 +335,7 @@ bool Slave_worker::write_info(Rpl_info_handler *to)
   ulong nbytes= (ulong) no_bytes_in_map(&group_executed);
   uchar *buffer= (uchar*) group_executed.bitmap;
 
-  DBUG_ASSERT(nbytes <= c_rli->checkpoint_group / 8);
+  DBUG_ASSERT(nbytes <= (c_rli->checkpoint_group + 7) / 8);
 
   if (to->prepare_info_for_write(nidx) ||
       to->set_info(group_relay_log_name) ||

