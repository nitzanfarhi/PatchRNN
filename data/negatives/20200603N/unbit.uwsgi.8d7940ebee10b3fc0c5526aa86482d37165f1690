commit 8d7940ebee10b3fc0c5526aa86482d37165f1690
Author: roberto@maverick64 <roberto@maverick64>
Date:   Mon Jul 4 16:14:33 2011 +0200

    fixed plugin value in uwsgi.opt

diff --git a/uwsgi.c b/uwsgi.c
index e6167cfd..fb3509e1 100644
--- a/uwsgi.c
+++ b/uwsgi.c
@@ -910,6 +910,7 @@ int main(int argc, char *argv[], char *envp[]) {
 
 	plugins_requested = getenv("UWSGI_PLUGINS");
 	if (plugins_requested) {
+		plugins_requested = uwsgi_concat2(plugins_requested, "");
 		char *p = strtok(plugins_requested, ",");
 		while (p != NULL) {
 			uwsgi_load_plugin(-1, p, NULL, 0);
@@ -2542,7 +2543,7 @@ static int manage_base_opt(int i, char *optarg) {
 		uwsgi.allowed_modifiers = optarg;
 		return 1;
 	case LONG_ARGS_PLUGINS:
-		p = strtok(optarg, ",");
+		p = strtok(uwsgi_concat2(optarg, ""), ",");
 		while (p != NULL) {
 #ifdef UWSGI_DEBUG
 			uwsgi_debug("loading plugin %s\n", p);

