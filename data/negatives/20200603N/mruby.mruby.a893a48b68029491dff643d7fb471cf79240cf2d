commit a893a48b68029491dff643d7fb471cf79240cf2d
Author: Yukihiro Matsumoto <matz@ruby-lang.org>
Date:   Sat Apr 28 23:39:54 2012 +0900

    use readint/readfloat instead of sscanf

diff --git a/src/load.c b/src/load.c
index 19b63066..3b62a0e7 100644
--- a/src/load.c
+++ b/src/load.c
@@ -412,12 +412,12 @@ read_rite_irep_record(mrb_state *mrb, unsigned char *src, mrb_irep *irep, uint32
 
       switch (tt) {                           //pool data
       case MRB_TT_FIXNUM:
-        sscanf(buf, "%d", &fix_num);
+	fix_num = readint(buf, 10);
         irep->pool[i] = mrb_fixnum_value(fix_num);
         break;
 
       case MRB_TT_FLOAT:
-        sscanf(buf, "%le", &f);
+	f = readfloat(buf);
         irep->pool[i] = mrb_float_value(f);
         break;
 

