commit cbe133dce05c28eec01629246817858129191b99
Author: oy <Tom_Adams@web.de>
Date:   Thu Jul 2 22:13:44 2015 +0200

    let the client check if a connection is still established and for the correct peer address before processing data. Closes #1356

diff --git a/src/engine/shared/network_client.cpp b/src/engine/shared/network_client.cpp
index 013b7a53..6118ba48 100644
--- a/src/engine/shared/network_client.cpp
+++ b/src/engine/shared/network_client.cpp
@@ -83,7 +83,8 @@ int CNetClient::Recv(CNetChunk *pChunk)
 			}
 			else
 			{
-				if(m_Connection.Feed(&m_RecvUnpacker.m_Data, &Addr))
+				if(m_Connection.State() != NET_CONNSTATE_OFFLINE && m_Connection.State() != NET_CONNSTATE_ERROR && net_addr_comp(m_Connection.PeerAddress(), &Addr) == 0
+					&& m_Connection.Feed(&m_RecvUnpacker.m_Data, &Addr))
 					m_RecvUnpacker.Start(&Addr, &m_Connection, 0);
 			}
 		}

