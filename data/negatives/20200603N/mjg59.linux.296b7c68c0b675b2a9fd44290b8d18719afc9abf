commit 296b7c68c0b675b2a9fd44290b8d18719afc9abf
Author: James Hogan <james.hogan@imgtec.com>
Date:   Mon Feb 2 11:45:10 2015 +0000

    MIPS: Malta: Implement mips_cdmm_phys_base()
    
    Implement mips_cdmm_phys_base() for Malta, returning the physical base
    address 0x1fc10000 which is "typically unused".
    
    This allows the Common Device Memory Map (CDMM) region to be mapped, and
    devices in that region (such as the Fast Debug Channel (FDC) hardware
    for communication over EJTAG) to be discovered.
    
    Signed-off-by: James Hogan <james.hogan@imgtec.com>
    Cc: linux-mips@linux-mips.org
    Cc: linux-kernel@vger.kernel.org
    Patchwork: https://patchwork.linux-mips.org/patch/9177/
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

diff --git a/arch/mips/mti-malta/malta-memory.c b/arch/mips/mti-malta/malta-memory.c
index 8fddd2cdbff7..32c27cb8e463 100644
--- a/arch/mips/mti-malta/malta-memory.c
+++ b/arch/mips/mti-malta/malta-memory.c
@@ -16,6 +16,7 @@
 #include <linux/string.h>
 
 #include <asm/bootinfo.h>
+#include <asm/cdmm.h>
 #include <asm/maar.h>
 #include <asm/sections.h>
 #include <asm/fw/fw.h>
@@ -196,3 +197,9 @@ unsigned platform_maar_init(unsigned num_pairs)
 
 	return maar_config(cfg, num_cfg, num_pairs);
 }
+
+phys_addr_t mips_cdmm_phys_base(void)
+{
+	/* This address is "typically unused" */
+	return 0x1fc10000;
+}

