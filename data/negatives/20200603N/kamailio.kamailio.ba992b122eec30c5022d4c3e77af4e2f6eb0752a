commit ba992b122eec30c5022d4c3e77af4e2f6eb0752a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Mar 10 08:24:21 2018 +0100

    app_python3: skip execution of child_init() for rank PROC_INIT
    
    - this is a particular execution in main process after all modules were
    initialized, not in a forked child process

diff --git a/src/modules/app_python3/app_python_mod.c b/src/modules/app_python3/app_python_mod.c
index c6f1098e6..180bb7423 100644
--- a/src/modules/app_python3/app_python_mod.c
+++ b/src/modules/app_python3/app_python_mod.c
@@ -174,6 +174,9 @@ static int mod_init(void)
  */
 static int child_init(int rank)
 {
+	if(rank==PROC_INIT) {
+		return 0;
+	}
 	_apy_process_rank = rank;
 	PyOS_AfterFork();
 	return apy_init_script(rank);

