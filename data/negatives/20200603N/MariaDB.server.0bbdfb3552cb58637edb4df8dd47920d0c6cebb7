commit 0bbdfb3552cb58637edb4df8dd47920d0c6cebb7
Author: marko <Unknown>
Date:   Thu Sep 3 09:46:38 2009 +0000

    branches/zip: recv_scan_log_recs(): Replace while with do...while,
    because the termination condition will always hold on the first iteration.

diff --git a/log/log0recv.c b/log/log0recv.c
index aea29c78517..3b40925f079 100644
--- a/log/log0recv.c
+++ b/log/log0recv.c
@@ -2415,8 +2415,7 @@ recv_scan_log_recs(
 	scanned_lsn = start_lsn;
 	more_data = FALSE;
 
-	while (log_block < buf + len && !finished) {
-
+	do {
 		no = log_block_get_hdr_no(log_block);
 		/*
 		fprintf(stderr, "Log block header no %lu\n", no);
@@ -2546,10 +2545,11 @@ recv_scan_log_recs(
 			/* Log data for this group ends here */
 
 			finished = TRUE;
+			break;
 		} else {
 			log_block += OS_FILE_LOG_BLOCK_SIZE;
 		}
-	}
+	} while (log_block < buf + len && !finished);
 
 	*group_scanned_lsn = scanned_lsn;
 

