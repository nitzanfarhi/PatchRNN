commit 66f725761716b800a26c996a69b4de8ca56a4435
Author: Damien Diederen <dd@crosstwine.com>
Date:   Sun Mar 6 19:56:00 2011 +0100

    MIPS: Sanity check stack unwinding progress using frame pointer, not PC
    
    It is perfectly valid for two subsequent stack frames to have the same
    (saved) program counter, e.g. in the case of a recursive method or
    when delegating to the same method implementation on another object.
    
    Keep the sanity check in place, but use the frame pointer instead.
    
    Commit contributed under the MIT/X11 license.

diff --git a/mono/mini/exceptions-mips.c b/mono/mini/exceptions-mips.c
index d4eda12287a..710125dcfd1 100644
--- a/mono/mini/exceptions-mips.c
+++ b/mono/mini/exceptions-mips.c
@@ -484,7 +484,7 @@ mono_arch_find_jit_info (MonoDomain *domain, MonoJitTlsData *jit_tls,
 		MONO_CONTEXT_SET_IP (new_ctx, new_ctx->sc_regs[mips_ra] - 8);
 
 		/* Sanity check -- we should have made progress here */
-		g_assert (new_ctx->sc_pc != ctx->sc_pc);
+		g_assert (MONO_CONTEXT_GET_BP (new_ctx) != MONO_CONTEXT_GET_BP (ctx));
 		return TRUE;
 	} else if (*lmf) {
 		if (!(*lmf)->method) {

