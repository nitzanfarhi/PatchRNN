commit 8eb4de203dbaafcfb8826bf245fab0e441bb78a2
Author: Guy Harris <guy@alum.mit.edu>
Date:   Sun Dec 8 21:56:06 2002 +0000

    Get rid of comment from sample dissector.
    
    Get rid of some probably-unnecessary #includes.
    
    Register the IP-over-FC dissector as the dissector to call for
    IP-over-FC captures.
    
    svn path=/trunk/; revision=6764

diff --git a/packet-ipfc.c b/packet-ipfc.c
index 2c2b91135f..1c652aebb5 100644
--- a/packet-ipfc.c
+++ b/packet-ipfc.c
@@ -2,18 +2,12 @@
  * Routines for Decoding FC header for IP/FC
  * Copyright 2001, Dinesh G Dutt <ddutt@cisco.com>
  *
- * $Id: packet-ipfc.c,v 1.1 2002/12/08 02:32:17 gerald Exp $
+ * $Id: packet-ipfc.c,v 1.2 2002/12/08 21:56:06 guy Exp $
  *
  * Ethereal - Network traffic analyzer
  * By Gerald Combs <gerald@ethereal.com>
  * Copyright 1998 Gerald Combs
  *
- * Copied from WHATEVER_FILE_YOU_USED (where "WHATEVER_FILE_YOU_USED"
- * is a dissector file; if you just copied this from README.developer,
- * don't bother with the "Copied from" - you don't even need to put
- * in a "Copied from" if you copied an existing dissector, especially
- * if the bulk of the code in the new dissector is your code)
- * 
  * This program is free software; you can redistribute it and/or
  * modify it under the terms of the GNU General Public License
  * as published by the Free Software Foundation; either version 2
@@ -37,20 +31,8 @@
 #include <stdlib.h>
 #include <string.h>
 
-#ifdef HAVE_SYS_TYPES_H
-# include <sys/types.h>
-#endif
-
-#ifdef HAVE_NETINET_IN_H
-# include <netinet/in.h>
-#endif
-
 #include <glib.h>
 
-#ifdef NEED_SNPRINTF_H
-# include "snprintf.h"
-#endif
-
 #include <epan/packet.h>
 #include "etypes.h"
 #include "packet-fc.h"
@@ -149,7 +131,7 @@ proto_reg_handoff_ipfc (void)
 
     ipfc_handle = create_dissector_handle (dissect_ipfc, proto_ipfc);
     dissector_add("fc.ftype", FC_FTYPE_IP, ipfc_handle);
+    dissector_add("wtap_encap", WTAP_ENCAP_IP_OVER_FC, ipfc_handle);
 
     data_handle = find_dissector ("data");
 }
-

