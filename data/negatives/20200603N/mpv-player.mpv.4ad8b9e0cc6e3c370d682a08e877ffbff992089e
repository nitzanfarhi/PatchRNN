commit 4ad8b9e0cc6e3c370d682a08e877ffbff992089e
Author: reimar <reimar@b3059339-0415-0410-9bf9-f77b7e298cf2>
Date:   Sun May 23 23:22:25 2010 +0000

    Use MP_NOPTS_VALUE as "default" pts for delayed frames instead of some
    insanely large value.
    Avoids hang if a decoder handles the data/size == 0 condition incorrectly.
    
    
    git-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@31205 b3059339-0415-0410-9bf9-f77b7e298cf2

diff --git a/mplayer.c b/mplayer.c
index 4df25a5010..fdb3b1c90b 100644
--- a/mplayer.c
+++ b/mplayer.c
@@ -1801,7 +1801,7 @@ static int generate_video_frame(sh_video_t *sh_video, demux_stream_t *d_video)
 	if (in_size < 0) {
 	    // try to extract last frames in case of decoder lag
 	    in_size = 0;
-	    pts = 1e300;
+	    pts = MP_NOPTS_VALUE;
 	    hit_eof = 1;
 	}
 	if (in_size > max_framesize)

