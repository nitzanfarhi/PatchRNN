commit a55c4799aa93fd72e34e9037e4e93fd7552e8de7
Author: Wez Furlong <wez@php.net>
Date:   Sun Sep 11 05:00:12 2005 +0000

    MFH: reset the statement when closeCursor() is called.

diff --git a/ext/pdo_sqlite/sqlite_statement.c b/ext/pdo_sqlite/sqlite_statement.c
index 823a490281..dd52402030 100644
--- a/ext/pdo_sqlite/sqlite_statement.c
+++ b/ext/pdo_sqlite/sqlite_statement.c
@@ -281,6 +281,8 @@ static int pdo_sqlite_stmt_col_meta(pdo_stmt_t *stmt, long colno, zval *return_v
 
 static int pdo_sqlite_stmt_cursor_closer(pdo_stmt_t *stmt TSRMLS_DC)
 {
+	pdo_sqlite_stmt *S = (pdo_sqlite_stmt*)stmt->driver_data;
+	sqlite3_reset(S->stmt);
 	return 1;
 }
 

