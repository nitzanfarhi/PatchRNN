commit fc32dcb128efe35442830e2dcfa378f1d50fef1c
Author: Dimitry Ivanov <dimitry@google.com>
Date:   Fri Mar 24 10:58:23 2017 -0700

    Disable compat_elf_hash_and_relocation_tables test for x86
    
    Bug: http://b/36571076
    Test: run bionic-unit-tests on fugu
    Change-Id: I2f901bc99e55f15b06fe6a5b0d7a125d1b8241a8

diff --git a/tests/dlfcn_test.cpp b/tests/dlfcn_test.cpp
index 0f2417024..ad8444e93 100644
--- a/tests/dlfcn_test.cpp
+++ b/tests/dlfcn_test.cpp
@@ -1256,7 +1256,7 @@ TEST(dlfcn, dt_runpath_smoke) {
 // Bionic specific tests
 #if defined(__BIONIC__)
 
-#if defined(__arm__) || defined(__i386__)
+#if defined(__arm__)
 const llvm::ELF::Elf32_Dyn* to_dynamic_table(const char* p) {
   return reinterpret_cast<const llvm::ELF::Elf32_Dyn*>(p);
 }
@@ -1320,7 +1320,7 @@ void validate_compatibility_of_native_library(const char* soname) {
   validate_compatibility_of_native_library(path, elf);
 }
 
-// This is a test for app compatibility workaround for arm and x86 apps
+// This is a test for app compatibility workaround for arm apps
 // affected by http://b/24465209
 TEST(dlext, compat_elf_hash_and_relocation_tables) {
   validate_compatibility_of_native_library("libc.so");
@@ -1332,7 +1332,7 @@ TEST(dlext, compat_elf_hash_and_relocation_tables) {
   validate_compatibility_of_native_library("libjnigraphics.so");
 }
 
-#endif //  defined(__arm__) || defined(__i386__)
+#endif //  defined(__arm__)
 
 TEST(dlfcn, dt_runpath_absolute_path) {
   std::string libpath = get_testlib_root() + "/libtest_dt_runpath_d.so";

