commit a8ef36bc0a5fe973bddaa54a5a07cda29e04a602
Author: Sarah Bailey <saharabeara@gmail.com>
Date:   Sat Dec 23 23:14:58 2006 -0800

    USB: Add usb_endpoint_xfer_control to usb.h
    
    Added a function to check if an endpoint is a control endpoint.
    There were similar functions for bulk, interrupt, and isoc,
    but not for control endpoints.
    
    Signed-off-by: Sarah Bailey <saharabeara@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/include/linux/usb.h b/include/linux/usb.h
index 3cb9285df2d1..1c56386de709 100644
--- a/include/linux/usb.h
+++ b/include/linux/usb.h
@@ -556,6 +556,18 @@ static inline int usb_endpoint_xfer_bulk(const struct usb_endpoint_descriptor *e
 		USB_ENDPOINT_XFER_BULK);
 }
 
+/**
+ * usb_endpoint_xfer_control - check if the endpoint has control transfer type
+ * @epd: endpoint to be checked
+ *
+ * Returns true if the endpoint is of type control, otherwise it returns false.
+ */
+static inline int usb_endpoint_xfer_control(const struct usb_endpoint_descriptor *epd)
+{
+	return ((epd->bmAttributes & USB_ENDPOINT_XFERTYPE_MASK) ==
+		USB_ENDPOINT_XFER_CONTROL);
+}
+
 /**
  * usb_endpoint_xfer_int - check if the endpoint has interrupt transfer type
  * @epd: endpoint to be checked

