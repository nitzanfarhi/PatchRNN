commit 82eb431bc995d89ffcd125caa868cd6007989f7f
Author: markus <markus@openbsd.org>
Date:   Sat Mar 24 19:28:43 2018 +0000

    fix bogus warning when signing cert keys using agent; from djm; ok deraadt dtucker

diff --git a/usr.bin/ssh/sshconnect2.c b/usr.bin/ssh/sshconnect2.c
index bf0b7297621..546b77e54cc 100644
--- a/usr.bin/ssh/sshconnect2.c
+++ b/usr.bin/ssh/sshconnect2.c
@@ -1,4 +1,4 @@
-/* $OpenBSD: sshconnect2.c,v 1.269 2018/03/03 03:01:50 djm Exp $ */
+/* $OpenBSD: sshconnect2.c,v 1.270 2018/03/24 19:28:43 markus Exp $ */
 /*
  * Copyright (c) 2000 Markus Friedl.  All rights reserved.
  * Copyright (c) 2008 Damien Miller.  All rights reserved.
@@ -1006,6 +1006,8 @@ check_sigtype(const struct sshkey *key, const u_char *sig, size_t len)
 	char *sigtype = NULL;
 	const char *alg = key_sign_encode(key);
 
+	if (sshkey_is_cert(key))
+		return 0;
 	if ((r = sshkey_sigtype(sig, len, &sigtype)) != 0)
 		return r;
 	if (strcmp(sigtype, alg) != 0) {

