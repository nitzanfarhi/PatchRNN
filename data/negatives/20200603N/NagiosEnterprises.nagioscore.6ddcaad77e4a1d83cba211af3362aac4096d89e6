commit 6ddcaad77e4a1d83cba211af3362aac4096d89e6
Author: Andreas Ericsson <ae@op5.se>
Date:   Sun Aug 26 20:00:26 2012 +0000

    lib/bitmap: Add the missing bitmap_clear() function
    
    And fix up some comments while we're at it.
    
    Signed-off-by: Andreas Ericsson <ae@op5.se>
    
    git-svn-id: https://nagios.svn.sourceforge.net/svnroot/nagios/nagioscore/trunk@2091 5f96b256-904b-4d8d-8c98-d829582c6739

diff --git a/lib/bitmap.c b/lib/bitmap.c
index 83d3dab0..95c2e637 100644
--- a/lib/bitmap.c
+++ b/lib/bitmap.c
@@ -19,6 +19,12 @@ struct bitmap {
 	unsigned long alloc;
 };
 
+void bitmap_clear(bitmap *bm)
+{
+	if (bm)
+		memset(bm->vector, 0, bm->alloc * sizeof(bmap));
+}
+
 int bitmap_resize(bitmap *bm, unsigned long size)
 {
 	unsigned long ralloc;
diff --git a/lib/bitmap.h b/lib/bitmap.h
index 8d424e34..9057c5a8 100644
--- a/lib/bitmap.h
+++ b/lib/bitmap.h
@@ -84,10 +84,10 @@ extern unsigned long bitmap_count_set_bits(const bitmap *bm);
 extern unsigned long bitmap_count_unset_bits(const bitmap *bm);
 
 /**
- * Unset all bits in a bitmaptor
- * @param bm The bitmaptor to clear
+ * Unset all bits in a bitmap
+ * @param bm The bitmap to clear
  */
-extern bitmap *bitmap_clear(bitmap *bm);
+extern void bitmap_clear(bitmap *bm);
 
 /**
  * Calculate intersection of two bitmaps

