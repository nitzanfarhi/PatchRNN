commit 14f4478bea0f031e58137f2f508eaa632c1925d5
Author: James Booth <boothj5@gmail.com>
Date:   Mon Feb 6 22:07:50 2012 +0000

    Fixed delete on no input

diff --git a/profanity.c b/profanity.c
index 74b4eeaa..7725c4ee 100644
--- a/profanity.c
+++ b/profanity.c
@@ -126,10 +126,12 @@ void event_loop(xmpp_ctx_t *ctx, xmpp_conn_t *conn)
 
             // if delete pressed, go back and delete it
             if (ch == 127) {
-                getyx(cmd_win, cmd_y, cmd_x);
-                wmove(cmd_win, cmd_y, cmd_x-1);
-                wdelch(cmd_win);
-                size--;
+                if (size > 0) {
+                    getyx(cmd_win, cmd_y, cmd_x);
+                    wmove(cmd_win, cmd_y, cmd_x-1);
+                    wdelch(cmd_win);
+                    size--;
+                }
             }
             // else if not error or newline, show it and store it
             else if (ch != ERR && ch != '\n') {

