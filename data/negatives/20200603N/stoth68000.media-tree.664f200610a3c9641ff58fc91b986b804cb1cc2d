commit 664f200610a3c9641ff58fc91b986b804cb1cc2d
Author: Michael Buesch <mb@bu3sch.de>
Date:   Sun Jun 15 15:27:49 2008 +0200

    b43legacy: Do not return TX_BUSY from op_tx
    
    Never return TX_BUSY from op_tx. It doesn't make sense to return
    TX_BUSY, if we can not transmit the packet.
    Drop the packet and return TX_OK.
    
    Signed-off-by: Michael Buesch <mb@bu3sch.de>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

diff --git a/drivers/net/wireless/b43legacy/main.c b/drivers/net/wireless/b43legacy/main.c
index 204077c13870..3e612d0a13e8 100644
--- a/drivers/net/wireless/b43legacy/main.c
+++ b/drivers/net/wireless/b43legacy/main.c
@@ -2378,8 +2378,10 @@ static int b43legacy_op_tx(struct ieee80211_hw *hw,
 	} else
 		err = b43legacy_dma_tx(dev, skb, ctl);
 out:
-	if (unlikely(err))
-		return NETDEV_TX_BUSY;
+	if (unlikely(err)) {
+		/* Drop the packet. */
+		dev_kfree_skb_any(skb);
+	}
 	return NETDEV_TX_OK;
 }
 

