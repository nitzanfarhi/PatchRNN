commit c4545110be37c4b1cf78d283a08cebc747046e0e
Author: Danny Auble <da@schedmd.com>
Date:   Thu Aug 20 15:53:19 2015 -0700

    Avoid memory overlap if assoc_mgr_root_assoc didn't really change.

diff --git a/src/common/assoc_mgr.c b/src/common/assoc_mgr.c
index 13d18846a2..b8feb4d601 100644
--- a/src/common/assoc_mgr.c
+++ b/src/common/assoc_mgr.c
@@ -764,7 +764,7 @@ static int _set_assoc_parent_and_user(slurmdb_assoc_rec_t *assoc,
 			      "itself as it's parent",
 			      assoc->id);
 		}
-	} else {
+	} else if (assoc_mgr_root_assoc != assoc) {
 		slurmdb_assoc_rec_t *last_root = assoc_mgr_root_assoc;
 
 		assoc_mgr_root_assoc = assoc;

