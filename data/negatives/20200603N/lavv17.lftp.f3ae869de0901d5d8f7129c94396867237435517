commit f3ae869de0901d5d8f7129c94396867237435517
Author: lav <>
Date:   Mon Mar 13 10:42:50 2006 +0000

            * FileCopy.cc: don't create target file if source does not exist.

diff --git a/src/FileCopy.cc b/src/FileCopy.cc
index 5cc6d172..af34041c 100644
--- a/src/FileCopy.cc
+++ b/src/FileCopy.cc
@@ -149,8 +149,11 @@ int FileCopy::Do()
       }
       if(get->Error() && get->Size()==0)
       {
-	 put->PutEOF();
-	 Roll(put);
+	 if(put->GetPos()>0)
+	 {
+	    put->PutEOF();
+	    Roll(put);
+	 }
       get_error:
 	 SetError(get->ErrorText());
 	 return MOVED;

