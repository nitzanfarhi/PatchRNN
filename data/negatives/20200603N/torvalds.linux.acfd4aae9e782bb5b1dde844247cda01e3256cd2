commit acfd4aae9e782bb5b1dde844247cda01e3256cd2
Author: Mark Hounschell <markh@compro.net>
Date:   Fri Apr 25 13:10:20 2014 -0400

    staging: dgap: Add check for MAXBOARDS in .probe (dgap_init_one)
    
    Insure we don't allow configuring more than MAXBOARDS (32).
    
    Signed-off-by: Mark Hounschell <markh@compro.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/dgap/dgap.c b/drivers/staging/dgap/dgap.c
index b834c83da930..f597432ede8c 100644
--- a/drivers/staging/dgap/dgap.c
+++ b/drivers/staging/dgap/dgap.c
@@ -572,6 +572,9 @@ static int dgap_init_one(struct pci_dev *pdev, const struct pci_device_id *ent)
 {
 	int rc;
 
+	if (dgap_NumBoards >= MAXBOARDS)
+		return -EPERM;
+
 	/* wake up and enable device */
 	rc = pci_enable_device(pdev);
 

