commit 3ac510e6097368695ddff20918ab5822823b548e
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Tue Dec 18 00:30:52 2007 -0300

    V4L/DVB (6858): Fix offset for ATSC
    
    ATSC works with offset=0
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

diff --git a/drivers/media/video/tuner-xc2028.c b/drivers/media/video/tuner-xc2028.c
index 0565edd224bc..d367f205c98a 100644
--- a/drivers/media/video/tuner-xc2028.c
+++ b/drivers/media/video/tuner-xc2028.c
@@ -873,7 +873,7 @@ static int generic_set_freq(struct dvb_frontend *fe, u32 freq /* in HZ */,
 	 */
 	if (new_mode == T_ANALOG_TV) {
 		rc = send_seq(priv, {0x00, 0x00});
-	} else {
+	} else if (!(priv->cur_fw.type & ATSC)) {
 		offset = 2750000;
 		/*
 		 * We must adjust the offset by 500kHz in two cases in order

