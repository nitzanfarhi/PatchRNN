commit 79f9faeec84fbcb704b45811b9851148ab1cb20b
Author: danieldg <danieldg@e03df62e-2008-0410-955e-edbf42e46eb7>
Date:   Wed Sep 2 00:48:39 2009 +0000

    Record module source file in the Module object
    
    git-svn-id: http://svn.inspircd.org/repository/trunk/inspircd@11630 e03df62e-2008-0410-955e-edbf42e46eb7

diff --git a/include/modules.h b/include/modules.h
index f4a9b0fb6..f220e1692 100644
--- a/include/modules.h
+++ b/include/modules.h
@@ -480,6 +480,9 @@ class CoreExport Module : public Extensible
 	 */
 	InspIRCd* ServerInstance;
  public:
+	/** File that this module was loaded from
+	 */
+	std::string ModuleSourceFile;
 
 	/** Default constructor.
 	 * Creates a module class.
diff --git a/src/modules.cpp b/src/modules.cpp
index 701b76ae2..5b2cc8ee4 100644
--- a/src/modules.cpp
+++ b/src/modules.cpp
@@ -431,6 +431,7 @@ bool ModuleManager::Load(const char* filename)
 
 		if (newmod)
 		{
+			newmod->ModuleSourceFile = filename_str;
 			Version v = newmod->GetVersion();
 
 			if (v.API != API_VERSION)

