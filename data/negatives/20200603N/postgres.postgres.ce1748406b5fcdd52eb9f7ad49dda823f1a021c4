commit ce1748406b5fcdd52eb9f7ad49dda823f1a021c4
Author: Hiroshi Inoue <inoue@tpf.co.jp>
Date:   Fri Dec 8 06:43:44 2000 +0000

    Cache invalidation for vacuum of system tables.

diff --git a/src/backend/commands/vacuum.c b/src/backend/commands/vacuum.c
index 254509a330..a7a557fb0f 100644
--- a/src/backend/commands/vacuum.c
+++ b/src/backend/commands/vacuum.c
@@ -8,7 +8,7 @@
  *
  *
  * IDENTIFICATION
- *	  $Header: /cvsroot/pgsql/src/backend/commands/vacuum.c,v 1.176 2000/12/03 10:27:27 vadim Exp $
+ *	  $Header: /cvsroot/pgsql/src/backend/commands/vacuum.c,v 1.177 2000/12/08 06:43:44 inoue Exp $
  *
  *-------------------------------------------------------------------------
  */
@@ -1849,6 +1849,11 @@ failed to add item with len = %lu to page %u (free space %lu, nusd %u, noff %u)"
 		 nblocks, blkno, num_moved,
 		 show_rusage(&ru0));
 
+	/* 
+	 * Reflect the motion of system tuples to catalog cache here.
+	 */
+        CommandCounterIncrement();
+
 	if (Nvacpagelist.num_pages > 0)
 	{
 		/* vacuum indices again if needed */

