commit 23121bfb41c70351877cd7e4a2f6a0b80671fad0
Author: Nick Mathewson <nickm@torproject.org>
Date:   Thu Apr 30 19:56:23 2009 +0000

    Fix a reversed check in upcast_evbuffer
    
    svn:r1257

diff --git a/buffer_iocp.c b/buffer_iocp.c
index 15035982..986dd21b 100644
--- a/buffer_iocp.c
+++ b/buffer_iocp.c
@@ -82,7 +82,7 @@ struct evbuffer_overlapped {
 static inline struct evbuffer_overlapped *
 upcast_evbuffer(struct evbuffer *buf)
 {
-	if (!buf || buf->is_overlapped)
+	if (!buf || !buf->is_overlapped)
 		return NULL;
 	return EVUTIL_UPCAST(buf, struct evbuffer_overlapped, buffer);
 }

