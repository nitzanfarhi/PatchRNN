commit 2c556d360d68459768e47987450f432db1ee2553
Author: kstailey <kstailey@openbsd.org>
Date:   Mon Apr 14 20:25:37 1997 +0000

    make -h columns more compact

diff --git a/bin/df/df.c b/bin/df/df.c
index d2a84dd0f74..9d10c2e28cf 100644
--- a/bin/df/df.c
+++ b/bin/df/df.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: df.c,v 1.13 1997/04/14 17:38:22 kstailey Exp $	*/
+/*	$OpenBSD: df.c,v 1.14 1997/04/14 20:25:37 kstailey Exp $	*/
 /*	$NetBSD: df.c,v 1.21.2.1 1995/11/01 00:06:11 jtc Exp $	*/
 
 /*
@@ -49,7 +49,7 @@ static char copyright[] =
 #if 0
 static char sccsid[] = "@(#)df.c	8.7 (Berkeley) 4/2/94";
 #else
-static char rcsid[] = "$OpenBSD: df.c,v 1.13 1997/04/14 17:38:22 kstailey Exp $";
+static char rcsid[] = "$OpenBSD: df.c,v 1.14 1997/04/14 20:25:37 kstailey Exp $";
 #endif
 #endif /* not lint */
 
@@ -337,11 +337,11 @@ prthumanval(bytes)
 	unit = unit_adjust(&bytes);
 
 	if (bytes == 0)
-		(void)printf("     0B  ");
+		(void)printf("     0B");
 	else if (bytes > 10)
-		(void)printf(" %5.0f%c  ", bytes, "BKMGTPE"[unit]);
+		(void)printf(" %5.0f%c", bytes, "BKMGTPE"[unit]);
 	else
-		(void)printf(" %5.1f%c  ", bytes, "BKMGTPE"[unit]);
+		(void)printf(" %5.1f%c", bytes, "BKMGTPE"[unit]);
 }
 
 void
@@ -381,14 +381,18 @@ prtstat(sfsp, maxwidth)
 		if (hflag) {
 			header = "  Size";
 			headerlen = strlen(header);
-		} else if (kflag) {
-			blocksize = 1024;
-			header = "1K-blocks";
-			headerlen = strlen(header);
-		} else
-			header = getbsize(&headerlen, &blocksize);
-		(void)printf("%-*.*s %s     Used    Avail Capacity",
-		    maxwidth, maxwidth, "Filesystem", header);
+			(void)printf("%-*.*s %s   Used  Avail Capacity",
+				     maxwidth, maxwidth, "Filesystem", header);
+		} else {
+			if (kflag) {
+				blocksize = 1024;
+				header = "1K-blocks";
+				headerlen = strlen(header);
+			} else
+				header = getbsize(&headerlen, &blocksize);
+			(void)printf("%-*.*s %s     Used    Avail Capacity",
+				     maxwidth, maxwidth, "Filesystem", header);
+		}
 		if (iflag)
 			(void)printf(" iused   ifree  %%iused");
 		(void)printf("  Mounted on\n");

