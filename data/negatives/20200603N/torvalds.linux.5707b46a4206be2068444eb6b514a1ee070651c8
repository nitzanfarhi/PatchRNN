commit 5707b46a4206be2068444eb6b514a1ee070651c8
Author: Colin Ian King <colin.king@canonical.com>
Date:   Tue Aug 8 10:28:59 2017 +0100

    x86/intel_rdt: Remove redundant ternary operator on return
    
    The use of the ternary operator is redundant as ret can never be
    non-zero at that point. Instead, just return nbytes.
    
    Detected by CoverityScan, CID#1452658 ("Logically dead code")
    
    Signed-off-by: Colin Ian King <colin.king@canonical.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Cc: Vikas Shivappa <vikas.shivappa@linux.intel.com>
    Cc: Fenghua Yu <fenghua.yu@intel.com>
    Cc: kernel-janitors@vger.kernel.org
    Link: http://lkml.kernel.org/r/20170808092859.13021-1-colin.king@canonical.com

diff --git a/arch/x86/kernel/cpu/intel_rdt_rdtgroup.c b/arch/x86/kernel/cpu/intel_rdt_rdtgroup.c
index b529f93e8ed0..a869d4a073c5 100644
--- a/arch/x86/kernel/cpu/intel_rdt_rdtgroup.c
+++ b/arch/x86/kernel/cpu/intel_rdt_rdtgroup.c
@@ -680,7 +680,7 @@ static ssize_t max_threshold_occ_write(struct kernfs_open_file *of,
 
 	intel_cqm_threshold = bytes / r->mon_scale;
 
-	return ret ?: nbytes;
+	return nbytes;
 }
 
 /* rdtgroup information files for one cache resource. */

