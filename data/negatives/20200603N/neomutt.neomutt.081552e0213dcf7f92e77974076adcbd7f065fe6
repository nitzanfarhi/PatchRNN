commit 081552e0213dcf7f92e77974076adcbd7f065fe6
Author: Thomas Roessler <roessler@does-not-exist.org>
Date:   Tue Aug 17 11:59:31 1999 +0000

    Fixing a mutt -p segfault.

diff --git a/postpone.c b/postpone.c
index bf63032ba..3da017194 100644
--- a/postpone.c
+++ b/postpone.c
@@ -206,7 +206,7 @@ int mutt_get_postponed (CONTEXT *ctx, HEADER *hdr, HEADER **cur, char *fcc, size
   /* if we're in an IMAP folder and the postponed folder is also IMAP, we may
    * need to take steps to avoid opening an additional connection to the same
    * server. */
-  if ((ctx->magic == M_IMAP) && mx_is_imap (Postponed))
+  if ((ctx && ctx->magic == M_IMAP) && mx_is_imap (Postponed))
   { 
     strfcpy (curpath, ctx->path, sizeof (curpath));
     if (imap_select_mailbox (ctx, Postponed) < 0)

