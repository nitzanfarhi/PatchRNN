commit 666bbe05fe2bf74648fb152a8d6e550cb7f0331d
Author: Danny Auble <da@schedmd.com>
Date:   Tue May 27 15:56:47 2014 -0700

    Fix bad association check from commit
    67fdbce513bc8b51ab13e2158488cc0812ea1344

diff --git a/src/slurmctld/job_mgr.c b/src/slurmctld/job_mgr.c
index 87127becc3..7b48093c3e 100644
--- a/src/slurmctld/job_mgr.c
+++ b/src/slurmctld/job_mgr.c
@@ -4114,7 +4114,7 @@ static int _valid_job_part(job_desc_msg_t * job_desc,
 					accounting_enforce, NULL);
 			}
 
-			if (!assoc_ptr && assoc_rec.id != assoc_ptr->id) {
+			if (assoc_ptr && assoc_rec.id != assoc_ptr->id) {
 				info("_valid_job_part: can't check multiple "
 				     "partitions with partition based "
 				     "associations");

