commit 690c544cf849e627d3f40a71633d0caf5c33eafe
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Mon Oct 29 11:33:18 2007 -0300

    V4L/DVB (6472): Re-inserts xc2028 attach code, fixing its parameters
    
    I2C bus redesign changed i2c parameters. This patch re-adds tuner xc2028
    attach function, replacing the parameters to the newer syntax.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

diff --git a/drivers/media/video/tuner-core.c b/drivers/media/video/tuner-core.c
index 41ff4d2604af..11abd188b17d 100644
--- a/drivers/media/video/tuner-core.c
+++ b/drivers/media/video/tuner-core.c
@@ -335,6 +335,18 @@ static void set_type(struct i2c_client *c, unsigned int type,
 		i2c_master_send(c,buffer,4);
 		attach_simple_tuner(t);
 		break;
+	case TUNER_XC2028:
+	{
+		int rc=xc2028_attach(&t->fe, t->i2c->adapter, t->i2c->addr,
+				     &c->dev, c->adapter->algo_data,
+				     t->tuner_callback);
+		if (rc<0) {
+			t->type = TUNER_ABSENT;
+			t->mode_mask = T_UNINITIALIZED;
+			return;
+		}
+		break;
+	}
 	case TUNER_TDA9887:
 		tda9887_attach(t);
 		break;

