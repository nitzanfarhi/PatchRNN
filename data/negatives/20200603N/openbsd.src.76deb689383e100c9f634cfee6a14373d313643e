commit 76deb689383e100c9f634cfee6a14373d313643e
Author: kjell <kjell@openbsd.org>
Date:   Sun Dec 24 01:07:59 2006 +0000

    Add column-number indicator to status line (enabled when line-number-mode is
    enabled; i.e. by default). This is essentially free, and has been requested
    a few times now

diff --git a/usr.bin/mg/display.c b/usr.bin/mg/display.c
index 9c081f53ef4..4956ee168ed 100644
--- a/usr.bin/mg/display.c
+++ b/usr.bin/mg/display.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: display.c,v 1.32 2006/12/20 21:31:45 deraadt Exp $	*/
+/*	$OpenBSD: display.c,v 1.33 2006/12/24 01:07:59 kjell Exp $	*/
 
 /* This file is in the public domain. */
 
@@ -827,7 +827,8 @@ modeline(struct mgwin *wp)
 	++n;
 
 	if (linenos) {
-		len = snprintf(sl, sizeof(sl), "--L%d", wp->w_dotline);
+		len = snprintf(sl, sizeof(sl), "--L%d--C%d", wp->w_dotline,
+		    wp->w_doto);
 		if (len < sizeof(sl) && len != -1)
 			n += vtputs(sl);
 	}

