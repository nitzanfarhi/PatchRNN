commit a9d01d2b49f528ffcf3093a77c66f254d297d5c8
Author: Tejun Heo <htejun@gmail.com>
Date:   Tue Feb 28 17:38:10 2006 +0900

    [PATCH] libata: kill illegal kfree(id)
    
    Kill kfree(id) in failure path of ata_dev_read_id().  id is not
    dynamically allocated yet.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Cc: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

diff --git a/drivers/scsi/libata-core.c b/drivers/scsi/libata-core.c
index 17c1df435cc8..e34b421eb2a3 100644
--- a/drivers/scsi/libata-core.c
+++ b/drivers/scsi/libata-core.c
@@ -1040,7 +1040,6 @@ static int ata_dev_read_id(struct ata_port *ap, struct ata_device *dev,
  err_out:
 	printk(KERN_WARNING "ata%u: dev %u failed to IDENTIFY (%s)\n",
 	       ap->id, dev->devno, reason);
-	kfree(id);
 	return rc;
 }
 

