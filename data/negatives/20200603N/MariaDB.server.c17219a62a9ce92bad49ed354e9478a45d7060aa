commit c17219a62a9ce92bad49ed354e9478a45d7060aa
Author: marko <Unknown>
Date:   Wed Mar 18 10:43:54 2009 +0000

    branches/zip: buf_LRU_block_remove_hashed_page(): Add some debug assertions.

diff --git a/buf/buf0lru.c b/buf/buf0lru.c
index d0571ca3e68..63817762af3 100644
--- a/buf/buf0lru.c
+++ b/buf/buf0lru.c
@@ -1806,6 +1806,9 @@ buf_LRU_block_remove_hashed_page(
 			void*	data = bpage->zip.data;
 			bpage->zip.data = NULL;
 
+			ut_ad(!bpage->in_free_list);
+			ut_ad(!bpage->in_flush_list);
+			ut_ad(!bpage->in_LRU_list);
 			mutex_exit(&((buf_block_t*) bpage)->mutex);
 			buf_pool_mutex_exit_forbid();
 			buf_buddy_free(data, page_zip_get_size(&bpage->zip));

