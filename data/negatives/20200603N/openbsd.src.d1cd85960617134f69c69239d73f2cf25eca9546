commit d1cd85960617134f69c69239d73f2cf25eca9546
Author: miod <miod@openbsd.org>
Date:   Sat Dec 20 16:13:53 2003 +0000

    Don't let microtime() return a struct timeval with exactly 1000000 microseconds.

diff --git a/sys/arch/hppa/hppa/machdep.c b/sys/arch/hppa/hppa/machdep.c
index d4144f091fc..77b0424d144 100644
--- a/sys/arch/hppa/hppa/machdep.c
+++ b/sys/arch/hppa/hppa/machdep.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: machdep.c,v 1.120 2003/12/18 08:05:20 mickey Exp $	*/
+/*	$OpenBSD: machdep.c,v 1.121 2003/12/20 16:13:53 miod Exp $	*/
 
 /*
  * Copyright (c) 1999-2002 Michael Shalayeff
@@ -768,7 +768,7 @@ microtime(struct timeval *tv)
 	splx(s);
 
 	tv->tv_usec += itmr * cpu_ticksdenom / cpu_ticksnum;
-	if (tv->tv_usec > 1000000) {
+	if (tv->tv_usec >= 1000000) {
 		tv->tv_usec -= 1000000;
 		tv->tv_sec++;
 	}

