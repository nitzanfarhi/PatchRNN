commit 5c366a8a3d7ac71beda8499caa815cb3ea95eb58
Author: Adam Litke <agl@us.ibm.com>
Date:   Fri Feb 12 14:55:56 2010 -0600

    Fix hanging user monitor when using balloon command
    
    Arghh... Adding missing S-O-B
    
    Hi Anthony.  I wonder if there was a problem when importing my async
    command handler patchset.  Since the 'balloon' command completes
    immediately, it must call the completion callback before returning.
    That call was missing but is added by the patch below.
    
    Signed-off-by: Adam Litke <agl@us.ibm.com>
    Signed-off-by: Anthony Liguori <aliguori@us.ibm.com>

diff --git a/monitor.c b/monitor.c
index 6a64e6e218..b1a6edccff 100644
--- a/monitor.c
+++ b/monitor.c
@@ -2309,6 +2309,7 @@ static int do_info_balloon(Monitor *mon, MonitorCompletion cb, void *opaque)
         return -1;
     }
 
+    cb(opaque, NULL);
     return 0;
 }
 

