commit 698f55223aa4a713c93288b23f1ac7fc664af1a3
Author: Jordan DeLong <jdelong@fb.com>
Date:   Fri Jun 6 14:50:18 2014 -0700

    hhbbc main(): better error message if the input repo doesn't exist
    
    Summary: Right now it hits an assertion failure in FuncEmitter.
    
    Reviewed By: @dariorussi
    
    Differential Revision: D1367724

diff --git a/hphp/hhbbc/main.cpp b/hphp/hhbbc/main.cpp
index 13592a2919..c17482a85f 100644
--- a/hphp/hhbbc/main.cpp
+++ b/hphp/hhbbc/main.cpp
@@ -45,6 +45,8 @@ namespace HPHP { namespace HHBBC {
 
 namespace {
 
+namespace fs = boost::filesystem;
+
 //////////////////////////////////////////////////////////////////////
 
 std::string output_repo;
@@ -229,7 +231,7 @@ void compile_repo() {
 int main(int argc, char** argv) try {
   parse_options(argc, argv);
 
-  if (boost::filesystem::exists(output_repo)) {
+  if (fs::exists(output_repo)) {
     std::cout << "output repo already exists; removing it\n";
     if (unlink(output_repo.c_str())) {
       std::cerr << "failed to unlink output repo: "
@@ -237,6 +239,10 @@ int main(int argc, char** argv) try {
       return 1;
     }
   }
+  if (!fs::exists(input_repo)) {
+    std::cerr << "input repo `" << input_repo << "' not found\n";
+    return 1;
+  }
 
   Hdf config;
   IniSetting::Map ini = IniSetting::Map::object;

