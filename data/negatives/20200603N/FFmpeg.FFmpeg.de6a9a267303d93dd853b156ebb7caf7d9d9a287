commit de6a9a267303d93dd853b156ebb7caf7d9d9a287
Author: Joakim Plate <elupus@ecce.se>
Date:   Wed Jun 11 19:54:17 2008 +0000

    matroskadec: set cur_dts after seek
    patch by elupus   elupus _at_ ecce _dot_ se
    
    Originally committed as revision 13748 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavformat/matroskadec.c b/libavformat/matroskadec.c
index d6f6dcb707..819398d34a 100644
--- a/libavformat/matroskadec.c
+++ b/libavformat/matroskadec.c
@@ -3177,6 +3177,7 @@ matroska_read_seek (AVFormatContext *s, int stream_index, int64_t timestamp,
     matroska->skip_to_keyframe = !(flags & AVSEEK_FLAG_ANY);
     matroska->skip_to_stream = st;
     matroska->peek_id = 0;
+    av_update_cur_dts(s, st, st->index_entries[index].timestamp);
     return 0;
 }
 

