commit 74bd47bb2833a539f72bcc7a644904ebfeff0217
Author: phessler <phessler@openbsd.org>
Date:   Sun Sep 18 21:00:55 2016 +0000

    apply the canary to the correct variable

diff --git a/sys/net/bfd.c b/sys/net/bfd.c
index 1301b67d616..8bee4b9251a 100644
--- a/sys/net/bfd.c
+++ b/sys/net/bfd.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: bfd.c,v 1.27 2016/09/17 07:35:05 phessler Exp $	*/
+/*	$OpenBSD: bfd.c,v 1.28 2016/09/18 21:00:55 phessler Exp $	*/
 
 /*
  * Copyright (c) 2016 Peter Hessler <phessler@openbsd.org>
@@ -885,7 +885,7 @@ bfd_send_control(void *x)
 	m->m_len = m->m_pkthdr.len = sizeof(*bfd);
 	h = mtod(m, struct bfd_header *);
 
-	memset(bfd, 0xff, sizeof(*h));	/* canary */
+	memset(h, 0xff, sizeof(*h));	/* canary */
 
 	h->bfd_ver_diag = ((BFD_VERSION << 5) | (bfd->bc_neighbor->bn_ldiag));
 	h->bfd_sta_flags = (bfd->bc_neighbor->bn_lstate << 6);

