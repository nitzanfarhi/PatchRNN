commit 378251ad082c1ea78a8832cf82e9ae767a6cadff
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Jan 25 16:04:31 2006 +0000

    try avi video name -> codec_id mapping if the mov one has no match
    
    Originally committed as revision 4896 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavformat/mov.c b/libavformat/mov.c
index 216f5e6fb..50f091c7d 100644
--- a/libavformat/mov.c
+++ b/libavformat/mov.c
@@ -919,6 +919,8 @@ static int mov_read_stsd(MOVContext *c, ByteIOContext *pb, MOV_atom_t atom)
 
         /* for MPEG4: set codec type by looking for it */
         id = codec_get_id(mov_video_tags, format);
+        if(id <= 0)
+            id = codec_get_id(codec_bmp_tags, format);
         if (id >= 0) {
             AVCodec *codec;
             codec = avcodec_find_decoder(id);

