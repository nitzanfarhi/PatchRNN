commit a5100e752b4ed1027b6db27d3fbcb0e3c62b3f94
Author: Alexey Kardashevskiy <aik@ozlabs.ru>
Date:   Fri Dec 20 13:14:57 2013 +1100

    target-ppc: fix compile error when PPC_DUMP_CPU is enabled
    
    Since last use of PPC_DUMP_CPU by whoever he/she was, env->tlb became
    a union and POWERPC CPU class got QOM'ed so defining PPC_DUMP_CPU
    breaks compile.
    
    This fixes compiler errors.
    
    Signed-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>
    Signed-off-by: Alexander Graf <agraf@suse.de>

diff --git a/target-ppc/translate_init.c b/target-ppc/translate_init.c
index 445c3606fe..7bbda13faa 100644
--- a/target-ppc/translate_init.c
+++ b/target-ppc/translate_init.c
@@ -8149,9 +8149,10 @@ static void ppc_cpu_realizefn(DeviceState *dev, Error **errp)
         }
         printf("PowerPC %-12s : PVR %08x MSR %016" PRIx64 "\n"
                "    MMU model        : %s\n",
-               pcc->name, pcc->pvr, pcc->msr_mask, mmu_model);
+               object_class_get_name(OBJECT_CLASS(pcc)),
+               pcc->pvr, pcc->msr_mask, mmu_model);
 #if !defined(CONFIG_USER_ONLY)
-        if (env->tlb != NULL) {
+        if (env->tlb.tlb6) {
             printf("                       %d %s TLB in %d ways\n",
                    env->nb_tlb, env->id_tlbs ? "splitted" : "merged",
                    env->nb_ways);

