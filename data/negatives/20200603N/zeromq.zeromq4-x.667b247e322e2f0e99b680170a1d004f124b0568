commit 667b247e322e2f0e99b680170a1d004f124b0568
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Mon Jan 17 14:45:24 2011 +0100

    Cancel pending timers when decoder for PGM stalls
    
    Otherwise the timer event can raise an input event
    causing assertion on unprocessed data.
    
    Signed-off-by: Steven McCoy <steven.mccoy@miru.hk>

diff --git a/src/pgm_receiver.cpp b/src/pgm_receiver.cpp
index 9773847b..88ac698e 100644
--- a/src/pgm_receiver.cpp
+++ b/src/pgm_receiver.cpp
@@ -227,6 +227,12 @@ void zmq::pgm_receiver_t::in_event ()
             reset_pollin (pipe_handle);
             reset_pollin (socket_handle);
 
+            //  Reset outstanding timer.
+            if (has_rx_timer) {
+                cancel_timer (rx_timer_id);
+                has_rx_timer = false;
+            }
+
             break;
         }
     }

