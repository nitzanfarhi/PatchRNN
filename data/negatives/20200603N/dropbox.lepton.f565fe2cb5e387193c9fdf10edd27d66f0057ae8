commit f565fe2cb5e387193c9fdf10edd27d66f0057ae8
Author: Daniel Reiter Horn <danielrh@users.sourceforge.net>
Date:   Tue Feb 16 23:38:21 2016 -0800

    all tests pass: woot

diff --git a/src/lepton/recoder.cc b/src/lepton/recoder.cc
index 67af41b..2dff6b4 100644
--- a/src/lepton/recoder.cc
+++ b/src/lepton/recoder.cc
@@ -398,7 +398,7 @@ void recode_physical_thread(BoundedWriter *stream_out,
             assert(outth.num_overhang_bits ==  thread_handoffs[logical_thread_id + 1].num_overhang_bits);
             assert(outth.overhang_byte ==  thread_handoffs[logical_thread_id + 1].overhang_byte);
             assert(memcmp(outth.last_dc.begin(), thread_handoffs[logical_thread_id + 1].last_dc.begin(), sizeof(outth.last_dc)) == 0);
-            if (logical_thread_id > 0 && tight_bound) {
+            if (physical_thread_id > 0 && tight_bound) {
                 assert(work_size == stream_out->bytes_written());
             }
         }

