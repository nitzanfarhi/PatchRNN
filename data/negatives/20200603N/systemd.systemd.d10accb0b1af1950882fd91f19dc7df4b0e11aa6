commit d10accb0b1af1950882fd91f19dc7df4b0e11aa6
Author: Yu Watanabe <watanabe.yu+github@gmail.com>
Date:   Sun Jan 24 15:49:04 2016 +0900

    journal-remote: output file name is determined by the remote hostname
    
    When --url option is specified, e.g. --url='http://some.host:19531/entries'
    retrieved remote journal entries will be stored to
    /var/log/journal/remote/remote-some.host.journal

diff --git a/src/journal-remote/journal-remote.c b/src/journal-remote/journal-remote.c
index fa0cc99b8..68237be64 100644
--- a/src/journal-remote/journal-remote.c
+++ b/src/journal-remote/journal-remote.c
@@ -898,7 +898,8 @@ static int remoteserver_init(RemoteServer *s,
         }
 
         if (arg_url) {
-                const char *url, *hostname;
+                const char *url;
+                char *hostname, *p;
 
                 if (!strstr(arg_url, "/entries")) {
                         if (endswith(arg_url, "/"))
@@ -924,7 +925,15 @@ static int remoteserver_init(RemoteServer *s,
                         startswith(arg_url, "http://") ?:
                         arg_url;
 
-                r = add_source(s, fd, (char*) hostname, false);
+                hostname = strdupa(hostname);
+                if (!hostname)
+                        return log_oom();
+                if ((p = strchr(hostname, '/')))
+                        *p = '\0';
+                if ((p = strchr(hostname, ':')))
+                        *p = '\0';
+
+                r = add_source(s, fd, hostname, false);
                 if (r < 0)
                         return r;
         }

