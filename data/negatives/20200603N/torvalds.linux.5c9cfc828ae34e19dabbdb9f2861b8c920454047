commit 5c9cfc828ae34e19dabbdb9f2861b8c920454047
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Sun Jun 24 15:24:29 2007 -0400

    SUNRPC: Fix a typo in unx_create()
    
    We want to set the unix_cred_cache.nextgc on the first call to
    unx_create(), which should be when unix_auth.au_count === 1
    
    Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

diff --git a/net/sunrpc/auth_unix.c b/net/sunrpc/auth_unix.c
index 5622783011a4..e54782e75d59 100644
--- a/net/sunrpc/auth_unix.c
+++ b/net/sunrpc/auth_unix.c
@@ -41,7 +41,7 @@ unx_create(struct rpc_clnt *clnt, rpc_authflavor_t flavor)
 {
 	dprintk("RPC:       creating UNIX authenticator for client %p\n",
 			clnt);
-	if (atomic_inc_return(&unix_auth.au_count) == 0)
+	if (atomic_inc_return(&unix_auth.au_count) == 1)
 		unix_cred_cache.nextgc = jiffies + (unix_cred_cache.expire >> 1);
 	return &unix_auth;
 }

