commit c9bc3139d6db2a77b1013642aab20b2b09cb9546
Author: bsimmers <bsimmers@fb.com>
Date:   Wed Aug 28 11:31:30 2013 -0700

    More detailed logging when afdt fails to connect
    
    This test has been failing sporadically and I'd like to see
    why.
    
    Differential Revision: D947587

diff --git a/hphp/util/light-process.cpp b/hphp/util/light-process.cpp
index adf1938d70..5f4f905f04 100644
--- a/hphp/util/light-process.cpp
+++ b/hphp/util/light-process.cpp
@@ -415,7 +415,9 @@ bool LightProcess::initShadow(const std::string &prefix, int id,
     socklen_t addrlen;
     m_afdt_fd = accept(m_afdt_lfd, &addr, &addrlen);
     if (m_afdt_fd < 0) {
-      Logger::Warning("Unable to establish afdt connection");
+      char buf[1024];
+      Logger::Warning("Unable to establish afdt connection: %s",
+                      strerror_r(errno, buf, sizeof(buf)));
       closeShadow();
       return false;
     }

