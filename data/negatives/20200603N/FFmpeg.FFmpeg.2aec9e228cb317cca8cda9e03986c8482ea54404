commit 2aec9e228cb317cca8cda9e03986c8482ea54404
Author: Martin Storsjö <martin@martin.st>
Date:   Thu Jan 23 14:07:46 2014 +0200

    rtpdec_asf: Copy the need_parsing field from the chained demuxer
    
    This fixes playback of mp3 streams in rtp/asf. This used to work
    until c6f1dc8, but mostly by coincidence.
    
    Signed-off-by: Martin Storsjö <martin@martin.st>

diff --git a/libavformat/rtpdec_asf.c b/libavformat/rtpdec_asf.c
index 7c893af396..61b14197ab 100644
--- a/libavformat/rtpdec_asf.c
+++ b/libavformat/rtpdec_asf.c
@@ -144,6 +144,8 @@ static int asfrtp_parse_sdp_line(AVFormatContext *s, int stream_index,
                 if (s->streams[stream_index]->id == rt->asf_ctx->streams[i]->id) {
                     *s->streams[stream_index]->codec =
                         *rt->asf_ctx->streams[i]->codec;
+                    s->streams[stream_index]->need_parsing =
+                        rt->asf_ctx->streams[i]->need_parsing;
                     rt->asf_ctx->streams[i]->codec->extradata_size = 0;
                     rt->asf_ctx->streams[i]->codec->extradata = NULL;
                     avpriv_set_pts_info(s->streams[stream_index], 32, 1, 1000);

