commit 6f29823de4afa30129d70e6f9e1ceb19599a5c20
Author: Timo Sirainen <tss@iki.fi>
Date:   Fri May 8 16:00:16 2015 +0300

    fts: Fixed handling NOT when using lib-fts

diff --git a/src/plugins/fts/fts-search-args.c b/src/plugins/fts/fts-search-args.c
index ba5ecf854..1d336387d 100644
--- a/src/plugins/fts/fts-search-args.c
+++ b/src/plugins/fts/fts-search-args.c
@@ -43,6 +43,7 @@ fts_search_arg_create_or(const struct mail_search_arg *orig_arg, pool_t pool,
 	array_foreach(tokens, tokenp) {
 		arg = p_new(pool, struct mail_search_arg, 1);
 		*arg = *orig_arg;
+		arg->match_not = FALSE; /* we copied this to the parent SUB */
 		arg->next = NULL;
 		arg->value.str = p_strdup(pool, *tokenp);
 

