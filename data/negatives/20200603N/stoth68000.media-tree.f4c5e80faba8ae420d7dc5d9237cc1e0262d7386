commit f4c5e80faba8ae420d7dc5d9237cc1e0262d7386
Author: Shine Liu <shinel@foxmail.com>
Date:   Thu Aug 20 23:49:26 2009 -0300

    V4L/DVB (12495): em28xx: Don't call em28xx_ir_init when disable_ir is true
    
    We should call em28xx_ir_init(dev) only when disable_ir is true.
    
    Signed-off-by: Shine Liu <shinel@foxmail.com>
    Reviewed-by: Devin Heitmueller <dheitmueller@kernellabs.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>

diff --git a/drivers/media/video/em28xx/em28xx-cards.c b/drivers/media/video/em28xx/em28xx-cards.c
index 494560e82311..1c2e544eda73 100644
--- a/drivers/media/video/em28xx/em28xx-cards.c
+++ b/drivers/media/video/em28xx/em28xx-cards.c
@@ -2382,7 +2382,9 @@ void em28xx_card_setup(struct em28xx *dev)
 	}
 
 	em28xx_tuner_setup(dev);
-	em28xx_ir_init(dev);
+
+	if(!disable_ir)
+		em28xx_ir_init(dev);
 }
 
 

