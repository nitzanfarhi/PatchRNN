commit 7f0900f0f08f9218428ce2d0dd0908af0f9b8cc9
Author: Lars Buitinck <larsmans@gmail.com>
Date:   Sun Jun 14 20:45:43 2015 +0200

    BUG: erroneous use of sprintf
    
    Output argument was a char ** instead of a char *.
    
    Also changed to use snprintf for safety; if the error message is
    ever changed, the magic number 174 (!?) is likely to go stale,
    causing buffer overruns.

diff --git a/numpy/core/src/multiarray/mapping.c b/numpy/core/src/multiarray/mapping.c
index 604f5390f..a703f3d84 100644
--- a/numpy/core/src/multiarray/mapping.c
+++ b/numpy/core/src/multiarray/mapping.c
@@ -772,8 +772,8 @@ prepare_index(PyArrayObject *self, PyObject *index,
                 if (indices[i].value != PyArray_DIM(self, used_ndim)) {
                     static PyObject *warning;
 
-                    char *err_msg[174];
-                    sprintf(err_msg,
+                    char err_msg[174];
+                    PyOS_snprintf(err_msg, sizeof(err_msg),
                         "boolean index did not match indexed array along "
                         "dimension %d; dimension is %" NPY_INTP_FMT
                         " but corresponding boolean dimension is %" NPY_INTP_FMT,

