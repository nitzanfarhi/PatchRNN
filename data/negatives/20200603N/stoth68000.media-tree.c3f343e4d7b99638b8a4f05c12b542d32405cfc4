commit c3f343e4d7b99638b8a4f05c12b542d32405cfc4
Author: Evgeniy Polyakov <johnpol@2ka.mipt.ru>
Date:   Wed Jan 11 16:12:41 2006 -0800

    [NET]: Fix diverter build.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/net/core/dv.c b/net/core/dv.c
index c5deb3655257..1516a90a138d 100644
--- a/net/core/dv.c
+++ b/net/core/dv.c
@@ -457,7 +457,7 @@ void divert_frame(struct sk_buff *skb)
 	unsigned char			*skb_data_end = skb->data + skb->len;
 
 	/* Packet is already aimed at us, return */
-	if (!compare_ether_addr(eth, skb->dev->dev_addr))
+	if (!compare_ether_addr(eth->h_dest, skb->dev->dev_addr))
 		return;
 	
 	/* proto is not IP, do nothing */

