commit 56dbd61f297d8d645856f604536bcd856ab9060a
Author: Graeme Gregory <gg@slimlogic.co.uk>
Date:   Fri Jun 22 13:36:18 2012 +0100

    mfd: Fix palmas regulator pdata missing
    
    Due to a merge error the section of code passing the pdata for the
    regulator driver to the mfd_add_devices via the children structure
    was missing. This corrects this problem.
    
    Signed-off-by: Graeme Gregory <gg@slimlogic.co.uk>
    Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>

diff --git a/drivers/mfd/palmas.c b/drivers/mfd/palmas.c
index 5d896b352284..98fdcdbbd610 100644
--- a/drivers/mfd/palmas.c
+++ b/drivers/mfd/palmas.c
@@ -441,6 +441,9 @@ static int __devinit palmas_i2c_probe(struct i2c_client *i2c,
 		goto err;
 	}
 
+	children[PALMAS_PMIC_ID].platform_data = pdata->pmic_pdata;
+	children[PALMAS_PMIC_ID].pdata_size = sizeof(*pdata->pmic_pdata);
+
 	ret = mfd_add_devices(palmas->dev, -1,
 			      children, ARRAY_SIZE(palmas_children),
 			      NULL, regmap_irq_chip_get_base(palmas->irq_data));

