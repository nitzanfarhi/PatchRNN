commit bd7430c1eec70f0a0ffd7296a21396ea45d92359
Author: Yang Tse <yangsita@gmail.com>
Date:   Thu Jan 21 19:27:32 2010 +0000

    fix compiler warning

diff --git a/lib/http.c b/lib/http.c
index deade9183..fc533bfe3 100644
--- a/lib/http.c
+++ b/lib/http.c
@@ -3381,7 +3381,7 @@ CURLcode Curl_http_readwrite_headers(struct SessionHandle *data,
          or else we consider this to be the body right away! */
       int httpversion_major;
       int rtspversion_major;
-      int nc;
+      int nc = 0;
 #ifdef CURL_DOES_CONVERSIONS
 #define HEADER1 scratch
 #define SCRATCHSIZE 21
diff --git a/lib/url.c b/lib/url.c
index d9802dba7..5b3ea65cd 100644
--- a/lib/url.c
+++ b/lib/url.c
@@ -3322,7 +3322,7 @@ static bool tld_check_name(struct SessionHandle *data,
   /* Convert (and downcase) ACE-name back into locale's character set */
   rc = idna_to_unicode_lzlz(ace_hostname, &uc_name, 0);
   if(rc != IDNA_SUCCESS)
-    return (FALSE);
+    return FALSE;
 
   rc = tld_check_lz(uc_name, &err_pos, NULL);
 #ifndef CURL_DISABLE_VERBOSE_STRINGS
@@ -3340,7 +3340,10 @@ static bool tld_check_name(struct SessionHandle *data,
 #endif /* CURL_DISABLE_VERBOSE_STRINGS */
   if(uc_name)
      idn_free(uc_name);
-  return (bool)(rc == TLD_SUCCESS);
+  if(rc != TLD_SUCCESS)
+    return FALSE;
+
+  return TRUE;
 }
 #endif
 
@@ -4217,7 +4220,7 @@ static CURLcode parse_remote_port(struct SessionHandle *data,
       /* we need to create new URL with the new port number */
       char *url;
       /* FTPS connections have the FTP bit set too, so they match as well */
-      bool isftp = (bool)conn->protocol & PROT_FTP;
+      bool isftp = (bool)(conn->protocol & PROT_FTP);
 
       /*
        * This synthesized URL isn't always right--suffixes like ;type=A

