commit 52512d0a4340895ba8bd9d2af48f256b969559d2
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue Apr 12 04:22:31 2011 +0000

    oggdec: use av_freep() instead of av_free()
    
    Signed-off-by: Anton Khirnov <anton@khirnov.net>

diff --git a/libavformat/oggdec.c b/libavformat/oggdec.c
index ce1152d3c2..d2725792e9 100644
--- a/libavformat/oggdec.c
+++ b/libavformat/oggdec.c
@@ -245,8 +245,8 @@ ogg_read_page (AVFormatContext * s, int *str)
                 int n;
 
                 for (n = 0; n < ogg->nstreams; n++) {
-                    av_free(ogg->streams[n].buf);
-                    av_free(ogg->streams[n].private);
+                    av_freep(&ogg->streams[n].buf);
+                    av_freep(&ogg->streams[n].private);
                 }
                 ogg->curidx   = -1;
                 ogg->nstreams = 0;

