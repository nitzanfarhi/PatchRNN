commit cf09d6428de3aa6bb6a8164d86bc1cc0cd678d8e
Author: Jiri Kosina <jkosina@suse.cz>
Date:   Wed Feb 10 11:41:08 2016 +0100

    w1: w1_process() is not freezable kthread
    
    w1_process() calls try_to_freeze(), but the thread doesn't mark itself
    freezable through set_freezable(), so the try_to_freeze() call is useless.
    
    Acked-by: Evgeniy Polyakov <zbr@ioremap.net>
    Signed-off-by: Jiri Kosina <jkosina@suse.cz>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/w1/w1.c b/drivers/w1/w1.c
index c9a7ff67d395..89a784751738 100644
--- a/drivers/w1/w1.c
+++ b/drivers/w1/w1.c
@@ -1147,7 +1147,6 @@ int w1_process(void *data)
 			jremain = 1;
 		}
 
-		try_to_freeze();
 		__set_current_state(TASK_INTERRUPTIBLE);
 
 		/* hold list_mutex until after interruptible to prevent loosing

