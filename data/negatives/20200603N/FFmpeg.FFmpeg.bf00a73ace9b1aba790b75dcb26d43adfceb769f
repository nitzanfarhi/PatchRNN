commit bf00a73ace9b1aba790b75dcb26d43adfceb769f
Author: Mans Rullgard <mans@mansr.com>
Date:   Wed Sep 28 21:00:35 2011 +0100

    dca: clear inactive subbands only once in qmf_32_subbands()
    
    Writing zeros to the high entries in the array need only be
    done once as the cutoff position is constant throughout the
    loop.
    
    Signed-off-by: Mans Rullgard <mans@mansr.com>

diff --git a/libavcodec/dca.c b/libavcodec/dca.c
index db794a72fd..735d7ba9da 100644
--- a/libavcodec/dca.c
+++ b/libavcodec/dca.c
@@ -898,6 +898,9 @@ static void qmf_32_subbands(DCAContext * s, int chans,
     else                        /* Perfect reconstruction */
         prCoeff = fir_32bands_perfect;
 
+    for (i = sb_act; i < 32; i++)
+        s->raXin[i] = 0.0;
+
     /* Reconstructed channel sample index */
     for (subindex = 0; subindex < 8; subindex++) {
         /* Load in one sample from each subband and clear inactive subbands */
@@ -905,8 +908,6 @@ static void qmf_32_subbands(DCAContext * s, int chans,
             uint32_t v = AV_RN32A(&samples_in[i][subindex]) ^ ((i-1)&2)<<30;
             AV_WN32A(&s->raXin[i], v);
         }
-        for (; i < 32; i++)
-            s->raXin[i] = 0.0;
 
         s->synth.synth_filter_float(&s->imdct,
                               s->subband_fir_hist[chans], &s->hist_index[chans],

