commit a3e215cdc964fdecf9c5642c2f84ff963e35170a
Author: Dustin Brody <libav@parsoma.net>
Date:   Fri Aug 12 12:05:46 2011 -0400

    svq3: propagate codec memory allocation failure in context init
    
    Signed-off-by: Anton Khirnov <anton@khirnov.net>

diff --git a/libavcodec/svq3.c b/libavcodec/svq3.c
index f6f9fc17fe..3cd95ba594 100644
--- a/libavcodec/svq3.c
+++ b/libavcodec/svq3.c
@@ -924,7 +924,10 @@ static av_cold int svq3_decode_init(AVCodecContext *avctx)
 
         h->b_stride = 4*s->mb_width;
 
-        ff_h264_alloc_tables(h);
+        if (ff_h264_alloc_tables(h) < 0) {
+            av_log(avctx, AV_LOG_ERROR, "svq3 memory allocation failed\n");
+            return AVERROR(ENOMEM);
+        }
     }
 
     return 0;

