commit 65377cb3040638a9e0ac083a0bdbf90a3516d9ae
Author: ewt <devnull@localhost>
Date:   Mon Jan 8 19:17:43 1996 +0000

    saves pre and post install and uninstall scripts from old style packages
    
    CVS patchset: 167
    CVS date: 1996/01/08 19:17:43

diff --git a/lib/package.c b/lib/package.c
index e0852efb8..d99d434f3 100644
--- a/lib/package.c
+++ b/lib/package.c
@@ -92,6 +92,15 @@ static int readOldHeader(int fd, Header * hdr, int * isSource) {
     addEntry(dbentry, RPMTAG_COPYRIGHT, STRING_TYPE, spec.copyright, 1); 
     addEntry(dbentry, RPMTAG_GROUP, STRING_TYPE, oldheader.group, 1);
 
+    if (spec.prein) 
+	addEntry(dbentry, RPMTAG_PREIN, STRING_TYPE, spec.prein, 1);
+    if (spec.preun) 
+	addEntry(dbentry, RPMTAG_PREUN, STRING_TYPE, spec.preun, 1);
+    if (spec.postin) 
+	addEntry(dbentry, RPMTAG_POSTIN, STRING_TYPE, spec.postin, 1);
+    if (spec.postun) 
+	addEntry(dbentry, RPMTAG_POSTUN, STRING_TYPE, spec.postun, 1);
+
     *hdr = dbentry;
 
     if (spec.fileCount) {

