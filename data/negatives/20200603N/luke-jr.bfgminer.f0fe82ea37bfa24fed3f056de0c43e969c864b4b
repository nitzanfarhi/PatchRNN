commit f0fe82ea37bfa24fed3f056de0c43e969c864b4b
Author: Con Kolivas <kernel@kolivas.org>
Date:   Thu Jul 28 10:49:36 2011 +1000

    Some Intel HD graphics support the opencl commands but return errors since they don't support opencl. Don't fail with them, just provide a warning and disable GPU mining.

diff --git a/main.c b/main.c
index f34bbf2e..8e563047 100644
--- a/main.c
+++ b/main.c
@@ -3677,8 +3677,10 @@ int main (int argc, char *argv[])
 	for (i = 0; i < 16; i++)
 		gpu_devices[i] = false;
 	nDevs = clDevicesNum();
-	if (nDevs < 0)
-		quit(1, "clDevicesNum returned error");
+	if (nDevs < 0) {
+		applog(LOG_ERR, "clDevicesNum returned error, none usable");
+		nDevs = 0;
+	}
 #endif
 	if (nDevs)
 		opt_n_threads = 0;

