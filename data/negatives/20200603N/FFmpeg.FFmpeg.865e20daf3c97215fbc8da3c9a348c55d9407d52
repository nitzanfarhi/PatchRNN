commit 865e20daf3c97215fbc8da3c9a348c55d9407d52
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Thu Apr 11 18:30:19 2013 +0200

    avfilter/f_select: use AVFrame metadata accessor function
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libavfilter/f_select.c b/libavfilter/f_select.c
index b34196dee3..786b5e1686 100644
--- a/libavfilter/f_select.c
+++ b/libavfilter/f_select.c
@@ -278,7 +278,7 @@ static int select_frame(AVFilterContext *ctx, AVFrame *frame)
             select->var_values[VAR_SCENE] = get_scene_score(ctx, frame);
             // TODO: document metadata
             snprintf(buf, sizeof(buf), "%f", select->var_values[VAR_SCENE]);
-            av_dict_set(&frame->metadata, "lavfi.scene_score", buf, 0);
+            av_dict_set(avpriv_frame_get_metadatap(frame), "lavfi.scene_score", buf, 0);
         }
 #endif
         break;

