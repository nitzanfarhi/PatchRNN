commit f136ffb7f39aefac26bfdc064d9653f42d751106
Author: David Reid <dreid@apache.org>
Date:   Fri Oct 22 11:25:41 1999 +0000

    This brings BeOS back up to date with the recent changes.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/httpd/httpd/trunk@84020 13f79535-47bb-0310-9956-ffa450edef68

diff --git a/os/beos/beosd.c b/os/beos/beosd.c
index 9078e43098..90ad98b3b5 100644
--- a/os/beos/beosd.c
+++ b/os/beos/beosd.c
@@ -131,7 +131,7 @@ static int set_group_privs(void)
 	    uid_t uid = atoi(&beosd_config.user_name[1]);
 
 	    if ((ent = getpwuid(uid)) == NULL) {
-		ap_log_error(APLOG_MARK, APLOG_ALERT, NULL,
+		ap_log_error(APLOG_MARK, APLOG_ALERT, errno, NULL,
 			 "getpwuid: couldn't determine user name from uid %u, "
 			 "you probably need to modify the User directive",
 			 (unsigned)uid);
@@ -144,7 +144,7 @@ static int set_group_privs(void)
 	    name = beosd_config.user_name;
 
 	if (setgid(beosd_config.group_id) == -1) {
-	    ap_log_error(APLOG_MARK, APLOG_ALERT, NULL,
+	    ap_log_error(APLOG_MARK, APLOG_ALERT, errno, NULL,
 			"setgid: unable to set group id to Group %u",
 			(unsigned)beosd_config.group_id);
 	    return -1;
@@ -153,7 +153,7 @@ static int set_group_privs(void)
 	/* Reset `groups' attributes. */
 
 	if (initgroups(name, beosd_config.group_id) == -1) {
-	    ap_log_error(APLOG_MARK, APLOG_ALERT, NULL,
+	    ap_log_error(APLOG_MARK, APLOG_ALERT, errno, NULL,
 			"initgroups: unable to set groups for User %s "
 			"and Group %u", name, (unsigned)beosd_config.group_id);
 	    return -1;
@@ -172,7 +172,7 @@ int beosd_setup_child(void)
     /* Only try to switch if we're running as root */
     if (!geteuid() && (
 	setuid(beosd_config.user_id) == -1)) {
-	ap_log_error(APLOG_MARK, APLOG_ALERT, NULL,
+	ap_log_error(APLOG_MARK, APLOG_ALERT, errno, NULL,
 		    "setuid: unable to change uid");
 	return -1;
     }

