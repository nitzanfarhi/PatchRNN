commit fef22cb414387a1b8f57cbbca310fdb3895ab4da
Author: Inha Song <ideal.song@samsung.com>
Date:   Thu Jan 8 10:04:33 2015 +0900

    mfd: wm8994: Set mfd id-base for regulator devs creation to avoid conflicts
    
    After commit: 6e3f62f0793e ("mfd: core: Fix platform-device id generation")
    We must set the id base when register a duplicate name of mfd_cell.
    If not, duplicate filename error was reported.
    
    - sysfs: cannot create duplicate filename '/devices/.../wm8994-ldo'
    
    Signed-off-by: Inha Song <ideal.song@samsung.com>
    Acked-by: Charles Keepax <ckeepax@opensource.wolfsonmicro.com>
    Signed-off-by: Lee Jones <lee.jones@linaro.org>

diff --git a/drivers/mfd/wm8994-core.c b/drivers/mfd/wm8994-core.c
index 6ca9d25cc3f0..53ae5af5d6e4 100644
--- a/drivers/mfd/wm8994-core.c
+++ b/drivers/mfd/wm8994-core.c
@@ -36,12 +36,12 @@
 static const struct mfd_cell wm8994_regulator_devs[] = {
 	{
 		.name = "wm8994-ldo",
-		.id = 1,
+		.id = 0,
 		.pm_runtime_no_callbacks = true,
 	},
 	{
 		.name = "wm8994-ldo",
-		.id = 2,
+		.id = 1,
 		.pm_runtime_no_callbacks = true,
 	},
 };
@@ -344,7 +344,7 @@ static int wm8994_device_init(struct wm8994 *wm8994, int irq)
 	dev_set_drvdata(wm8994->dev, wm8994);
 
 	/* Add the on-chip regulators first for bootstrapping */
-	ret = mfd_add_devices(wm8994->dev, -1,
+	ret = mfd_add_devices(wm8994->dev, 0,
 			      wm8994_regulator_devs,
 			      ARRAY_SIZE(wm8994_regulator_devs),
 			      NULL, 0, NULL);

