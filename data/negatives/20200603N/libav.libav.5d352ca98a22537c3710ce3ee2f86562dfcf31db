commit 5d352ca98a22537c3710ce3ee2f86562dfcf31db
Author: Steve L'Homme <slhomme@divxcorp.com>
Date:   Sat Nov 11 00:49:39 2006 +0000

    Add A_AAC codec identifier support in matroska.
    Patch by Steve Lhomme % slhomme A divxcorp P com %
    Original thread:
    Date: Fri, 10 Nov 2006 15:22:33 +0100
    Subject: [Ffmpeg-devel] [PATCH] Handle "A_AAC" in matroska codec IDs
    
    Originally committed as revision 6964 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavformat/matroska.c b/libavformat/matroska.c
index 9de257c35..2329e75ff 100644
--- a/libavformat/matroska.c
+++ b/libavformat/matroska.c
@@ -222,7 +222,7 @@ static CodecTags codec_tags[]={
     {"A_AC3"            , CODEC_ID_AC3},
     {"A_DTS"            , CODEC_ID_DTS},
     {"A_VORBIS"         , CODEC_ID_VORBIS},
-    {"A_AAC/"           , CODEC_ID_AAC},
+    {"A_AAC"            , CODEC_ID_AAC},
     {"A_WAVPACK4"       , CODEC_ID_WAVPACK},
     {NULL               , CODEC_ID_NONE}
 /* TODO: AC3-9/10 (?), Real, Musepack, Quicktime */
@@ -2245,7 +2245,7 @@ matroska_read_header (AVFormatContext    *s,
 
             }
 
-            if (codec_id==CODEC_ID_AAC) {
+            else if (codec_id == CODEC_ID_AAC && !track->codec_priv_size) {
                 MatroskaAudioTrack *audiotrack = (MatroskaAudioTrack *) track;
                 int profile = matroska_aac_profile(track->codec_id);
                 int sri = matroska_aac_sri(audiotrack->internal_samplerate);

