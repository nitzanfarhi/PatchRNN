commit b68a7679f92aa175889c092053972cca88289934
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue Dec 8 12:34:08 2009 +0000

    Raise threshold of h263 probe by 1 to avoid misdetection.
    Fixes issue 1588.
    
    Originally committed as revision 20765 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavformat/raw.c b/libavformat/raw.c
index a0ebb6a3e9..83cc131b97 100644
--- a/libavformat/raw.c
+++ b/libavformat/raw.c
@@ -473,7 +473,8 @@ static int h263_probe(AVProbeData *p)
         }
     }
 //av_log(NULL, AV_LOG_ERROR, "h263_probe: psc:%d invalid:%d res_change:%d\n", valid_psc, invalid_psc, res_change);
-    if(valid_psc > 2*invalid_psc + 2*res_change + 2){
+//h263_probe: psc:3 invalid:0 res_change:0 (1588/recent_ffmpeg_parses_mpg_incorrectly.mpg)
+    if(valid_psc > 2*invalid_psc + 2*res_change + 3){
         return 50;
     }else if(valid_psc > 2*invalid_psc)
         return 25;

