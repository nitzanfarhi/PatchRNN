commit bedd6f4df9d2b5600bed5e31052bc49f8b18382f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Mar 26 13:09:53 2016 +0100

    usrloc: if no location record loaded from db, then no attrs to look up

diff --git a/modules/usrloc/udomain.c b/modules/usrloc/udomain.c
index d57f212ca..58fc9a31d 100644
--- a/modules/usrloc/udomain.c
+++ b/modules/usrloc/udomain.c
@@ -697,6 +697,8 @@ urecord_t* db_load_urecord(db1_con_t* _c, udomain_t* _d, str *_aor)
 		goto done;
 	}
 
+	if(r==0) goto done;
+
 	for (c = r->contacts; c != NULL; c = c->next) {
 		vals[0].val.str_val.s = c->ruid.s;
 		vals[0].val.str_val.len = c->ruid.len;

