commit 9d4f242a5322cd055201b8f7d127db77870b5b2e
Author: Yu Watanabe <watanabe.yu+github@gmail.com>
Date:   Thu Nov 30 20:34:58 2017 +0900

    core/dbus-execute: actually set PassEnvironment= (#7510)
    
    Follow-up for #7444.

diff --git a/src/core/dbus-execute.c b/src/core/dbus-execute.c
index 14fb46ec5..197c1c320 100644
--- a/src/core/dbus-execute.c
+++ b/src/core/dbus-execute.c
@@ -2274,6 +2274,10 @@ int bus_exec_context_set_transient_property(
                         } else {
                                 _cleanup_free_ char *joined = NULL;
 
+                                r = strv_extend_strv(&c->pass_environment, l, true);
+                                if (r < 0)
+                                        return r;
+
                                 /* We write just the new settings out to file, with unresolved specifiers. */
                                 joined = unit_concat_strv(l, UNIT_ESCAPE_SPECIFIERS);
                                 if (!joined)

