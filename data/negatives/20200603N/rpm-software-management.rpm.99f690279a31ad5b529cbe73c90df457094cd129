commit 99f690279a31ad5b529cbe73c90df457094cd129
Author: ewt <devnull@localhost>
Date:   Sun Sep 1 16:54:43 1996 +0000

    added :fflags format
    
    CVS patchset: 1013
    CVS date: 1996/09/01 16:54:43

diff --git a/query.c b/query.c
index 6a524fbd2..e6a001af6 100644
--- a/query.c
+++ b/query.c
@@ -270,6 +270,15 @@ static char * handleFormat(Header h, char * chptr, int * cntptr,
 	    tstruct = localtime(&dateint);
 	    strftime(buf, sizeof(buf) - 1, "%c", tstruct);
 	    printf(format, buf);
+	} else if (!strcmp(how, "fflags")) {
+	    strcat(format, "s");
+	    buf[0] = '\0';
+	    anint = *(((int_32 *) p) + arrayNum);
+	    if (anint & RPMFILE_DOC)
+		strcat(buf, "d");
+	    if (anint & RPMFILE_CONFIG)
+		strcat(buf, "c");
+	    printf(format, buf);
 	} else if (!strcmp(how, "perms") || !strcmp(how, "permissions")) {
 	    strcat(format, "s");
 	    printf(format, permsString(*(((int_32 *) p) + arrayNum)));

