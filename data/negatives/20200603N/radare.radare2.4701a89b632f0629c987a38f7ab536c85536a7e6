commit 4701a89b632f0629c987a38f7ab536c85536a7e6
Author: alvarofe <alvaro.felipe91@gmail.com>
Date:   Fri Aug 25 15:24:38 2017 +0200

    Bring -w- to malloc temporary

diff --git a/libr/core/file.c b/libr/core/file.c
index 2ad4c31d8..1ac39082a 100644
--- a/libr/core/file.c
+++ b/libr/core/file.c
@@ -774,6 +774,9 @@ R_API RCoreFile *r_core_file_open(RCore *r, const char *file, int flags, ut64 lo
 	if (!flags) {
 		flags = R_IO_READ;
 	}
+	if (strstr (file, "malloc://")) {
+		flags = R_IO_READ | R_IO_WRITE;
+	}
 	r->io->bits = r->assembler->bits; // TODO: we need an api for this
 	fd = r_io_open_nomap (r->io, file, flags, 0644);
 	if (!fd && openmany > 2) {

