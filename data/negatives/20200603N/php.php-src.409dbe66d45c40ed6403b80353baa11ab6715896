commit 409dbe66d45c40ed6403b80353baa11ab6715896
Author: Pierre Joye <pajoye@php.net>
Date:   Wed Sep 2 20:02:17 2009 +0000

    - be sure to get all crt dbg errors in stderr

diff --git a/sapi/cli/php_cli.c b/sapi/cli/php_cli.c
index 43da12d6c3..4867c91b1a 100644
--- a/sapi/cli/php_cli.c
+++ b/sapi/cli/php_cli.c
@@ -677,10 +677,12 @@ int main(int argc, char *argv[])
 #if defined(PHP_WIN32) && defined(_DEBUG) && defined(PHP_WIN32_DEBUG_HEAP)
 	{
 		int tmp_flag;
-		
+		_CrtSetReportMode(_CRT_WARN, _CRTDBG_MODE_FILE);
+		_CrtSetReportFile(_CRT_WARN, _CRTDBG_FILE_STDERR);
 		_CrtSetReportMode(_CRT_ERROR, _CRTDBG_MODE_FILE);
 		_CrtSetReportFile(_CRT_ERROR, _CRTDBG_FILE_STDERR);
-
+		_CrtSetReportMode(_CRT_ASSERT, _CRTDBG_MODE_FILE);
+		_CrtSetReportFile(_CRT_ASSERT, _CRTDBG_FILE_STDERR);
 		tmp_flag = _CrtSetDbgFlag(_CRTDBG_REPORT_FLAG);
 		tmp_flag |= _CRTDBG_DELAY_FREE_MEM_DF;
 		tmp_flag |= _CRTDBG_LEAK_CHECK_DF;

