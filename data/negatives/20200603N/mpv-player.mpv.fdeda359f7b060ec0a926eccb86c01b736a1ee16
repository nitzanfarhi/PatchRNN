commit fdeda359f7b060ec0a926eccb86c01b736a1ee16
Author: wm4 <wm4@nowhere>
Date:   Fri Mar 28 23:13:41 2014 +0100

    mp_image: add missing field to mp_image_params_equals()
    
    This is pretty obscure, so it didn't matter much. It still breaks
    switching output levels at runtime, because the video output is not
    reinitialized with the new params.

diff --git a/video/mp_image.c b/video/mp_image.c
index 67d7168bf1..49e02e6e6e 100644
--- a/video/mp_image.c
+++ b/video/mp_image.c
@@ -439,6 +439,7 @@ bool mp_image_params_equals(const struct mp_image_params *p1,
            p1->d_w == p2->d_w && p1->d_h == p2->d_h &&
            p1->colorspace == p2->colorspace &&
            p1->colorlevels == p2->colorlevels &&
+           p1->outputlevels == p2->outputlevels &&
            p1->chroma_location == p2->chroma_location;
 }
 

