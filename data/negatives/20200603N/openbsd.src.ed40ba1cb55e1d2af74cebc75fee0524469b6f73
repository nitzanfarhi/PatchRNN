commit ed40ba1cb55e1d2af74cebc75fee0524469b6f73
Author: itojun <itojun@openbsd.org>
Date:   Fri Oct 18 00:27:41 2002 +0000

    correct prefixlen handling (-prefixlen 32 will make it a host route)

diff --git a/sbin/route/route.c b/sbin/route/route.c
index eedaa2dd383..1f0ca5a9141 100644
--- a/sbin/route/route.c
+++ b/sbin/route/route.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: route.c,v 1.51 2002/10/17 20:38:03 jason Exp $	*/
+/*	$OpenBSD: route.c,v 1.52 2002/10/18 00:27:41 itojun Exp $	*/
 /*	$NetBSD: route.c,v 1.16 1996/04/15 18:27:05 cgd Exp $	*/
 
 /*
@@ -44,7 +44,7 @@ static char copyright[] =
 #if 0
 static char sccsid[] = "@(#)route.c	8.3 (Berkeley) 3/19/94";
 #else
-static char rcsid[] = "$OpenBSD: route.c,v 1.51 2002/10/17 20:38:03 jason Exp $";
+static char rcsid[] = "$OpenBSD: route.c,v 1.52 2002/10/18 00:27:41 itojun Exp $";
 #endif
 #endif /* not lint */
 
@@ -737,7 +737,7 @@ newroute(argc, argv)
 			case K_PREFIXLEN:
 				if (!--argc)
 					usage(1+*argv);
-				prefixlen(*++argv);
+				ishost = prefixlen(*++argv);
 				break;
 			case K_MTU:
 			case K_HOPCOUNT:
@@ -1182,7 +1182,7 @@ prefixlen(s)
 		break;
 #endif
 	}
-	return(len);
+	return (len == max);
 }
 
 int

