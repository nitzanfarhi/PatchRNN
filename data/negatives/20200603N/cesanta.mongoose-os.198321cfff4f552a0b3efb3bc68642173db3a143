commit 198321cfff4f552a0b3efb3bc68642173db3a143
Author: Deomid Ryabkov <rojer@cesanta.com>
Date:   Thu Mar 3 15:04:30 2016 +0200

    Log an error when SPIFFS_mount fails
    
        PUBLISHED_FROM=25197bf40013368888758bba5ba16b5b63ed659a

diff --git a/smartjs/platforms/esp8266/user/esp_fs.c b/smartjs/platforms/esp8266/user/esp_fs.c
index c65f1425..1cce3a7f 100644
--- a/smartjs/platforms/esp8266/user/esp_fs.c
+++ b/smartjs/platforms/esp8266/user/esp_fs.c
@@ -251,6 +251,7 @@ int fs_mount(spiffs *spf, uint32_t addr, uint32_t size, uint8_t *workbuf,
   cfg.hal_erase_f = esp_spiffs_erase;
 
   if (SPIFFS_mount(spf, &cfg, workbuf, fds, fds_size, 0, 0, 0) != SPIFFS_OK) {
+    LOG(LL_ERROR, ("SPIFFS_mount failed: %d", SPIFFS_errno(spf)));
     return SPIFFS_errno(spf);
   }
 

