commit ee7aa6ce41e08c68f72b5ca8f14fb61286dc2418
Author: Axel Lin <axel.lin@gmail.com>
Date:   Tue Apr 20 21:59:51 2010 -0700

    Input: kbtab - fix incorrect size parameter in usb_buffer_free
    
    The size allocated by usb_buffer_alloc() is 8, however the size passed
    to usb_buffer_free() is 10.
    
    Signed-off-by: Axel Lin <axel.lin@gmail.com>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

diff --git a/drivers/input/tablet/kbtab.c b/drivers/input/tablet/kbtab.c
index 6682b17bf844..76b5d526cde9 100644
--- a/drivers/input/tablet/kbtab.c
+++ b/drivers/input/tablet/kbtab.c
@@ -182,7 +182,7 @@ static int kbtab_probe(struct usb_interface *intf, const struct usb_device_id *i
 	return 0;
 
  fail3:	usb_free_urb(kbtab->irq);
- fail2:	usb_buffer_free(dev, 10, kbtab->data, kbtab->data_dma);
+ fail2:	usb_buffer_free(dev, 8, kbtab->data, kbtab->data_dma);
  fail1:	input_free_device(input_dev);
 	kfree(kbtab);
 	return error;
@@ -197,7 +197,7 @@ static void kbtab_disconnect(struct usb_interface *intf)
 		usb_kill_urb(kbtab->irq);
 		input_unregister_device(kbtab->dev);
 		usb_free_urb(kbtab->irq);
-		usb_buffer_free(interface_to_usbdev(intf), 10, kbtab->data, kbtab->data_dma);
+		usb_buffer_free(interface_to_usbdev(intf), 8, kbtab->data, kbtab->data_dma);
 		kfree(kbtab);
 	}
 }

