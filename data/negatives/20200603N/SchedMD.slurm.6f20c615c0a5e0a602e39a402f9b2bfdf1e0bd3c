commit 6f20c615c0a5e0a602e39a402f9b2bfdf1e0bd3c
Author: Moe Jette <jette1@llnl.gov>
Date:   Thu Jul 14 17:45:59 2005 +0000

    Fix checkpoint completion counting, need one reply per node plus one from poe.

diff --git a/src/plugins/checkpoint/aix/checkpoint_aix.c b/src/plugins/checkpoint/aix/checkpoint_aix.c
index 2f0c7944a3..0e7cc85694 100644
--- a/src/plugins/checkpoint/aix/checkpoint_aix.c
+++ b/src/plugins/checkpoint/aix/checkpoint_aix.c
@@ -256,7 +256,9 @@ extern int slurm_ckpt_comp ( struct step_record * step_ptr, time_t event_time,
 		check_ptr->error_msg = xstrdup(error_msg);
 	}
 
-	if (++check_ptr->reply_cnt == check_ptr->node_cnt) {
+	/* We need a reply from each compute node, 
+	 * plus POE itself */
+	if (check_ptr->reply_cnt++ == check_ptr->node_cnt) {
 		info("Checkpoint complete for job %u.%u",
 			step_ptr->job_ptr->job_id, step_ptr->step_id);
 		check_ptr->time_stamp = time(NULL);

