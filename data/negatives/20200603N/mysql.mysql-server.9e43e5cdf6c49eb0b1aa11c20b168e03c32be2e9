commit 9e43e5cdf6c49eb0b1aa11c20b168e03c32be2e9
Author: Magnus Bl√•udd <magnus.blaudd@oracle.com>
Date:   Wed Mar 11 16:37:10 2015 +0100

    Bug#20032381 KILLED_STATE SAVE IN NDBCLUSTER_BINLOG RETRY AT SHUTDOWN DOESN'T NEED TO BE VOLA
    
     - remove volatile specifier from local stack variables
     - add const specifier to local stack variable which is never
       modified
     - rename said variable from "killed" to "save_killed"

diff --git a/sql/ha_ndbcluster_binlog.cc b/sql/ha_ndbcluster_binlog.cc
index 9dafd69e4af..215a1d336f7 100644
--- a/sql/ha_ndbcluster_binlog.cc
+++ b/sql/ha_ndbcluster_binlog.cc
@@ -6973,14 +6973,14 @@ restart_cluster_failure:
               {
                 DBUG_PRINT("error", ("Failed to write to ndb_binlog_index at shutdown, retrying"));
                 mysql_mutex_lock(&thd->LOCK_thd_data);
-                volatile THD::killed_state killed= thd->killed;
+                const THD::killed_state save_killed= thd->killed;
                 /* We are cleaning up, allow for flushing last epoch */
                 thd->killed= THD::NOT_KILLED;
                 /* also clear error from last failing write */
                 thd->clear_error();
                 ndb_binlog_index_table__write_rows(thd, rows);
                 /* Restore kill flag */
-                thd->killed= killed;
+                thd->killed= save_killed;
                 mysql_mutex_unlock(&thd->LOCK_thd_data);
               }
             }

