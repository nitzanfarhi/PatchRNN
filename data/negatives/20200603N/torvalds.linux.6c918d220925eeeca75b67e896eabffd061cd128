commit 6c918d220925eeeca75b67e896eabffd061cd128
Author: Mark Brown <broonie@linaro.org>
Date:   Thu Jul 18 16:06:33 2013 +0100

    regulator: core: Ensure selector is mapped
    
    Clearly the testing only covered the bottom range.
    
    Signed-off-by: Mark Brown <broonie@linaro.org>

diff --git a/drivers/regulator/core.c b/drivers/regulator/core.c
index fd3f6e003729..42ae134797e0 100644
--- a/drivers/regulator/core.c
+++ b/drivers/regulator/core.c
@@ -2446,6 +2446,8 @@ int regulator_map_voltage_linear_range(struct regulator_dev *rdev,
 				return ret;
 		}
 
+		ret += range->min_sel;
+
 		break;
 	}
 

