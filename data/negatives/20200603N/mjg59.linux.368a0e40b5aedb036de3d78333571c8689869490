commit 368a0e40b5aedb036de3d78333571c8689869490
Author: Wanpeng Li <wanpeng.li@linux.intel.com>
Date:   Thu Mar 19 13:23:48 2015 +0800

    f2fs: enable fast symlink by utilizing inline data
    
    Fast symlink can utilize inline data flow to avoid using any
    i_addr region, since we need to handle many cases such as
    truncation, roll-forward recovery, and fsck/dump tools.
    
    Signed-off-by: Wanpeng Li <wanpeng.li@linux.intel.com>
    Signed-off-by: Jaegeuk Kim <jaegeuk@kernel.org>

diff --git a/fs/f2fs/inline.c b/fs/f2fs/inline.c
index d3e0599ffab7..375d2c797f4c 100644
--- a/fs/f2fs/inline.c
+++ b/fs/f2fs/inline.c
@@ -21,7 +21,7 @@ bool f2fs_may_inline(struct inode *inode)
 	if (f2fs_is_atomic_file(inode))
 		return false;
 
-	if (!S_ISREG(inode->i_mode))
+	if (!S_ISREG(inode->i_mode) && !S_ISLNK(inode->i_mode))
 		return false;
 
 	if (i_size_read(inode) > MAX_INLINE_DATA)

