commit e8e255f7191fb6491dd1d96cfbbe19981f6eb3dd
Author: Paul E. McKenney <paulmck@linux.vnet.ibm.com>
Date:   Thu May 14 16:55:45 2015 -0700

    rcutorture: Bounds-check rcutorture.shuffle_interval
    
    Specifying a negative rcutorture.shuffle_interval value will cause a
    negative value to be used as a sleep time.  This commit therefore
    refuses to start shuffling unless the rcutorture.shuffle_interval
    value is greater than zero.
    
    Signed-off-by: Paul E. McKenney <paulmck@linux.vnet.ibm.com>

diff --git a/kernel/rcu/rcutorture.c b/kernel/rcu/rcutorture.c
index 2cbe569ac5dd..1cead7806ca6 100644
--- a/kernel/rcu/rcutorture.c
+++ b/kernel/rcu/rcutorture.c
@@ -1821,7 +1821,7 @@ rcu_torture_init(void)
 		if (firsterr)
 			goto unwind;
 	}
-	if (test_no_idle_hz) {
+	if (test_no_idle_hz && shuffle_interval > 0) {
 		firsterr = torture_shuffle_init(shuffle_interval * HZ);
 		if (firsterr)
 			goto unwind;

