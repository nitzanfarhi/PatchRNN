commit d174a024007dd543fd066cffd8eb727806a62da6
Author: Adam Ward <adam.ward.opensource@diasemi.com>
Date:   Thu Apr 16 12:45:32 2015 -0700

    drivers/rtc/rtc-da9052.c: register ability of alarm to wake device from suspend
    
    Signed-off-by: Adam Ward <adam.ward.opensource@diasemi.com>
    Tested-by: Adam Ward <adam.ward.opensource@diasemi.com>
    Cc: Alessandro Zummo <a.zummo@towertech.it>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

diff --git a/drivers/rtc/rtc-da9052.c b/drivers/rtc/rtc-da9052.c
index acc3e5a1f61a..1ba4371cbc2d 100644
--- a/drivers/rtc/rtc-da9052.c
+++ b/drivers/rtc/rtc-da9052.c
@@ -309,6 +309,8 @@ static int da9052_rtc_probe(struct platform_device *pdev)
 		return ret;
 	}
 
+	device_init_wakeup(&pdev->dev, true);
+
 	rtc->rtc = devm_rtc_device_register(&pdev->dev, pdev->name,
 				       &da9052_rtc_ops, THIS_MODULE);
 	return PTR_ERR_OR_ZERO(rtc->rtc);

