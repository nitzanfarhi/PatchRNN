commit b5ed163c87f0ef017058154820d710fb3780d8ec
Author: Jeffrey Walton <noloader@gmail.com>
Date:   Mon Jul 13 20:37:34 2015 -0400

    Cleared UBSan warnings reported by Jonathan Wakely. Cleared many issues reported in GitHub Issue 4 (its a rollup of -fsanitize=undefined)

diff --git a/misc.h b/misc.h
index 9b25ee50..357da079 100644
--- a/misc.h
+++ b/misc.h
@@ -632,13 +632,13 @@ template <class T> inline T rotrVariable(T x, unsigned int y)
 template <class T> inline T rotlMod(T x, unsigned int y)
 {
 	y %= sizeof(T)*8;
-	return T((x<<y) | (x>>(sizeof(T)*8-y)));
+	return T((x<<y) | (x>>((sizeof(T)*8-y) % (sizeof(T)*8))));
 }
 
 template <class T> inline T rotrMod(T x, unsigned int y)
 {
 	y %= sizeof(T)*8;
-	return T((x>>y) | (x<<(sizeof(T)*8-y)));
+	return T((x>>y) | (x<<((sizeof(T)*8-y) % (sizeof(T)*8))));
 }
 
 #ifdef _MSC_VER

