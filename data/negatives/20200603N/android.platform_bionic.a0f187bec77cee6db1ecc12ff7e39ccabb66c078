commit a0f187bec77cee6db1ecc12ff7e39ccabb66c078
Author: Dmitriy Ivanov <dimitry@google.com>
Date:   Mon Oct 5 12:06:40 2015 -0700

    Fix linker tests
    
    Change-Id: I4794f2d9dcc5ceb419e1bf9151607a650eb801d9

diff --git a/linker/tests/linker_memory_allocator_test.cpp b/linker/tests/linker_memory_allocator_test.cpp
index f002a0d50..defd4f3a8 100644
--- a/linker/tests/linker_memory_allocator_test.cpp
+++ b/linker/tests/linker_memory_allocator_test.cpp
@@ -53,7 +53,7 @@ TEST(linker_memory, test_alloc_0) {
   LinkerMemoryAllocator allocator;
   void* ptr = allocator.alloc(0);
   ASSERT_TRUE(ptr != nullptr);
-  free(ptr);
+  allocator.free(ptr);
 }
 
 TEST(linker_memory, test_free_nullptr) {
@@ -110,7 +110,7 @@ TEST(linker_memory, test_realloc) {
 
   ASSERT_TRUE(memcmp(reallocated_ptr, model, 4000) == 0);
 
-  ASSERT_EQ(nullptr, realloc(reallocated_ptr, 0));
+  ASSERT_EQ(nullptr, allocator.realloc(reallocated_ptr, 0));
 }
 
 TEST(linker_memory, test_small_smoke) {

