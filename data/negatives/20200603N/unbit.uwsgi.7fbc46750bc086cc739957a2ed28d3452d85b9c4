commit 7fbc46750bc086cc739957a2ed28d3452d85b9c4
Author: Unbit <info@unbit.it>
Date:   Thu Sep 11 08:20:36 2014 +0200

    attempt to fix #713

diff --git a/core/legion.c b/core/legion.c
index a45e9f6f..997bf0b5 100644
--- a/core/legion.c
+++ b/core/legion.c
@@ -1213,7 +1213,8 @@ next:
 	}
 
 	// this must be called only by the master !!!
-	if (uwsgi.mywid > 0) return;
+	if (!uwsgi.workers) return;
+	if (uwsgi.workers[0].pid != getpid()) return;
 	uwsgi_legion_announce_death();
 }
 

