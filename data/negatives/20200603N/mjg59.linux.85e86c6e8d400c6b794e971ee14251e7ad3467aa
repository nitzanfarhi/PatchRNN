commit 85e86c6e8d400c6b794e971ee14251e7ad3467aa
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Thu Jul 25 09:40:34 2013 -0300

    [media] soc_camera: fix compiler warning
    
    media_build/v4l/soc_camera.c: In function 'soc_camera_host_register':
    media_build/v4l/soc_camera.c:1513:10: warning: 'sasd' may be used uninitialized in this function [-Wmaybe-uninitialized]
      snprintf(clk_name, sizeof(clk_name), "%d-%04x",
              ^
    media_build/v4l/soc_camera.c:1464:34: note: 'sasd' was declared here
      struct soc_camera_async_subdev *sasd;
                                      ^
    By changing the type of 'i' to unsigned and changing a condition we finally
    convince the compiler that sasd is really initialized.
    
    Signed-off-by: Hans Verkuil <hans.verkuil@cisco.com>
    Signed-off-by: Guennadi Liakhovetski <g.liakhovetski@gmx.de>
    Signed-off-by: Mauro Carvalho Chehab <m.chehab@samsung.com>

diff --git a/drivers/media/platform/soc_camera/soc_camera.c b/drivers/media/platform/soc_camera/soc_camera.c
index 4b42572253e0..dc1b26cf245c 100644
--- a/drivers/media/platform/soc_camera/soc_camera.c
+++ b/drivers/media/platform/soc_camera/soc_camera.c
@@ -1466,7 +1466,8 @@ static int scan_async_group(struct soc_camera_host *ici,
 	struct soc_camera_device *icd;
 	struct soc_camera_desc sdesc = {.host_desc.bus_id = ici->nr,};
 	char clk_name[V4L2_SUBDEV_NAME_SIZE];
-	int ret, i;
+	unsigned int i;
+	int ret;
 
 	/* First look for a sensor */
 	for (i = 0; i < size; i++) {
@@ -1475,7 +1476,7 @@ static int scan_async_group(struct soc_camera_host *ici,
 			break;
 	}
 
-	if (i == size || asd[i]->match_type != V4L2_ASYNC_MATCH_I2C) {
+	if (i >= size || asd[i]->match_type != V4L2_ASYNC_MATCH_I2C) {
 		/* All useless */
 		dev_err(ici->v4l2_dev.dev, "No I2C data source found!\n");
 		return -ENODEV;

