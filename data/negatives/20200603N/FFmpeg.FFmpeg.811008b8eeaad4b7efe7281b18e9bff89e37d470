commit 811008b8eeaad4b7efe7281b18e9bff89e37d470
Author: John Adlum <john.adlum@nospam>
Date:   Wed Jul 1 16:41:26 2015 +0200

    avformat/asfdec_f: Assert that packet positions match in asf_read_pts()
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libavformat/asfdec_f.c b/libavformat/asfdec_f.c
index 554989e068..6dbd2b9aff 100644
--- a/libavformat/asfdec_f.c
+++ b/libavformat/asfdec_f.c
@@ -1513,6 +1513,7 @@ static int64_t asf_read_pts(AVFormatContext *s, int stream_index,
 
 //            assert((asf_st->packet_pos - s->data_offset) % s->packet_size == 0);
             pos = asf_st->packet_pos;
+            av_assert1(pkt->pos == asf_st->packet_pos);
 
             av_add_index_entry(s->streams[i], pos, pts, pkt->size,
                                pos - start_pos[i] + 1, AVINDEX_KEYFRAME);

