commit d3e9880f48134c8eb122baf5a4407fa23d3e6ce5
Author: Timo Sirainen <cras@irssi.org>
Date:   Fri Dec 8 15:47:18 2000 +0000

    bugfix
    
    
    git-svn-id: http://svn.irssi.org/repos/irssi/trunk@979 dbcabf3a-b0e7-0310-adc4-f8d773084564

diff --git a/src/core/net-nonblock.c b/src/core/net-nonblock.c
index 73260381..f029b14d 100644
--- a/src/core/net-nonblock.c
+++ b/src/core/net-nonblock.c
@@ -47,7 +47,7 @@ static int g_io_channel_write_block(GIOChannel *channel, void *data, int len)
 		err = g_io_channel_write(channel, (char *) data + sent,
 					 len-sent, &ret);
                 sent += ret;
-	} while (ret < len && !is_fatal_error(err));
+	} while (sent < len && !is_fatal_error(err));
 
 	return err != 0 ? -1 : 0;
 }

