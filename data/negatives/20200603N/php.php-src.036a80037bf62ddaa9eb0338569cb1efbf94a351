commit 036a80037bf62ddaa9eb0338569cb1efbf94a351
Author: Anatol Belski <ab@php.net>
Date:   Sun Feb 18 15:26:33 2018 +0100

    Avoid multiple wcslen calls

diff --git a/win32/ioutil.h b/win32/ioutil.h
index 5e25333936..8676fd5ac4 100644
--- a/win32/ioutil.h
+++ b/win32/ioutil.h
@@ -155,7 +155,8 @@ typedef enum {
 	(len) > 1 && !PHP_WIN32_IOUTIL_IS_SLASHW(pathw[(len)-2]) && L'.' != pathw[(len)-2] && L'.' == pathw[(len)-1]))
 
 #define PHP_WIN32_IOUTIL_CHECK_PATH_W(pathw, ret, dealloc) do { \
-		if (!PHP_WIN32_IOUTIL_PATH_IS_OK_W(pathw, wcslen(pathw))) { \
+		size_t _len = wcslen(pathw); \
+		if (!PHP_WIN32_IOUTIL_PATH_IS_OK_W(pathw, _len)) { \
 			if (dealloc) { \
 				free((void *)pathw); \
 			} \

