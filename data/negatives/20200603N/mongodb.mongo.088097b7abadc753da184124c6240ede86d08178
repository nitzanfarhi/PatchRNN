commit 088097b7abadc753da184124c6240ede86d08178
Author: Billy Donahue <billy.donahue@mongodb.com>
Date:   Tue May 15 13:11:17 2018 -0400

    SERVER-34345 remove new EXPORT_SERVER_PARAMETER....WITH_VALIDATOR
    
        fixes df4b551101995817b71a47ec85d58190d069540a

diff --git a/src/mongo/db/repl/bgsync.cpp b/src/mongo/db/repl/bgsync.cpp
index 9530d8e27c..3fe778d990 100644
--- a/src/mongo/db/repl/bgsync.cpp
+++ b/src/mongo/db/repl/bgsync.cpp
@@ -81,11 +81,8 @@ MONGO_EXPORT_STARTUP_SERVER_PARAMETER(bgSyncOplogFetcherBatchSize, int, defaultB
 // The batchSize to use for the find/getMore queries called by the rollback common point resolver.
 // A batchSize of 0 means that the 'find' and 'getMore' commands will be given no batchSize.
 constexpr int defaultRollbackBatchSize = 0;
-MONGO_EXPORT_SERVER_PARAMETER_WITH_VALIDATOR(
-    rollbackRemoteOplogQueryBatchSize,
-    int,
-    defaultRollbackBatchSize,
-    [](const auto& potentialNewValue) {
+MONGO_EXPORT_SERVER_PARAMETER(rollbackRemoteOplogQueryBatchSize, int, defaultRollbackBatchSize)
+    ->withValidator([](const auto& potentialNewValue) {
         if (potentialNewValue < 0) {
             return Status(ErrorCodes::BadValue,
                           "rollbackRemoteOplogQueryBatchSize cannot be negative.");

