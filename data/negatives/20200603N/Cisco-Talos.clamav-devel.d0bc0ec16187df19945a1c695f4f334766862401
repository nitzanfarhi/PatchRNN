commit d0bc0ec16187df19945a1c695f4f334766862401
Author: Tomasz Kojm <tkojm@clamav.net>
Date:   Wed Apr 6 22:17:26 2005 +0000

    update
    
    
    git-svn: trunk@1456

diff --git a/clamav-devel/clamd/scanner.c b/clamav-devel/clamd/scanner.c
index 467aaeccb..61a34cb7c 100644
--- a/clamav-devel/clamd/scanner.c
+++ b/clamav-devel/clamd/scanner.c
@@ -443,7 +443,7 @@ int scanstream(int odesc, unsigned long int *scanned, const struct cl_node *root
 	if(maxsize && (size + btread >= maxsize)) {
 	    btread = (maxsize - size); /* only read up to max */
 
-	    if(!btread) {
+	    if(btread <= 0) {
 		logg("^ScanStream: Size limit reached ( max: %d)\n", maxsize);
 	    	break; /* Scan what we have */
 	    }

