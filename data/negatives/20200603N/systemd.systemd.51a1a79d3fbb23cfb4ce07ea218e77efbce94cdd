commit 51a1a79d3fbb23cfb4ce07ea218e77efbce94cdd
Author: Lennart Poettering <lennart@poettering.net>
Date:   Sat Apr 10 05:05:05 2010 +0200

    service: don't necessarily add ordering links for non-sysv services

diff --git a/service.c b/service.c
index c914ecace..e5a9658bc 100644
--- a/service.c
+++ b/service.c
@@ -157,7 +157,10 @@ static int sysv_chkconfig_order(Service *s) {
                 if (t->sysv_start_priority < 0)
                         continue;
 
-                if (s->sysv_has_lsb && t->sysv_has_lsb)
+                /* If both units have modern headers we don't care
+                 * about the priorities */
+                if ((!s->sysv_path || s->sysv_has_lsb) &&
+                    (!t->sysv_path || t->sysv_has_lsb))
                         continue;
 
                 if (t->sysv_start_priority < s->sysv_start_priority)

