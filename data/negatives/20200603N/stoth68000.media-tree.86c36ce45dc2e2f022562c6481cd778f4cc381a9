commit 86c36ce45dc2e2f022562c6481cd778f4cc381a9
Author: Brian Haley <brian.haley@hp.com>
Date:   Wed Oct 7 13:58:01 2009 -0700

    IPv6: use ipv6_addr_copy() in ip6_route_redirect()
    
    Change ip6_route_redirect() to use ipv6_addr_copy().
    
    Signed-off-by: Brian Haley <brian.haley@hp.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/net/ipv6/route.c b/net/ipv6/route.c
index d6fe7646a8ff..df9432a46ffc 100644
--- a/net/ipv6/route.c
+++ b/net/ipv6/route.c
@@ -1471,9 +1471,10 @@ static struct rt6_info *ip6_route_redirect(struct in6_addr *dest,
 				},
 			},
 		},
-		.gateway = *gateway,
 	};
 
+	ipv6_addr_copy(&rdfl.gateway, gateway);
+
 	if (rt6_need_strict(dest))
 		flags |= RT6_LOOKUP_F_IFACE;
 

