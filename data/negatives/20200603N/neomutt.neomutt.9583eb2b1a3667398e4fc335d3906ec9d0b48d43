commit 9583eb2b1a3667398e4fc335d3906ec9d0b48d43
Author: Thomas Roessler <roessler@does-not-exist.org>
Date:   Wed Oct 10 23:37:06 2001 +0000

    Fix #560.

diff --git a/mh.c b/mh.c
index df17522e0..b65aa8311 100644
--- a/mh.c
+++ b/mh.c
@@ -792,8 +792,14 @@ int maildir_open_new_message (MESSAGE *msg, CONTEXT *dest, HEADER *hdr)
   char suffix[16];
   char subdir[16];
 
+  short deleted = hdr->deleted;
+  hdr->deleted = 0;
+
   maildir_flags (suffix, sizeof (suffix), hdr);
-		 
+
+  hdr->deleted = deleted;
+
+  
   if (hdr && (hdr->read || hdr->old))
     strfcpy (subdir, "cur", sizeof (subdir));
   else

