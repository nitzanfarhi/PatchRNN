commit 02b0e43089c3542622d0f18e37537cd4763d7e42
Author: unknown <serg@serg.mylan>
Date:   Tue Nov 23 22:57:04 2004 +0100

    ha_myisammrg was missing index_type() method bug#6756
    
    
    sql/ha_myisammrg.cc:
      ha_myisammrg was missing index_type() method
    sql/ha_myisammrg.h:
      ha_myisammrg was missing index_type() method

diff --git a/sql/ha_myisammrg.cc b/sql/ha_myisammrg.cc
index 2574892b1fe..744128faf69 100644
--- a/sql/ha_myisammrg.cc
+++ b/sql/ha_myisammrg.cc
@@ -35,6 +35,17 @@
 const char **ha_myisammrg::bas_ext() const
 { static const char *ext[]= { ".MRG", NullS }; return ext; }
 
+const char *ha_myisammrg::index_type(uint key_number)
+{
+  return ((table->key_info[key_number].flags & HA_FULLTEXT) ? 
+	  "FULLTEXT" :
+	  (table->key_info[key_number].flags & HA_SPATIAL) ?
+	  "SPATIAL" :
+	  (table->key_info[key_number].algorithm == HA_KEY_ALG_RTREE) ?
+	  "RTREE" :
+	  "BTREE");
+}
+
 
 int ha_myisammrg::open(const char *name, int mode, uint test_if_locked)
 {
diff --git a/sql/ha_myisammrg.h b/sql/ha_myisammrg.h
index 264c580220c..6058c32c805 100644
--- a/sql/ha_myisammrg.h
+++ b/sql/ha_myisammrg.h
@@ -32,6 +32,7 @@ class ha_myisammrg: public handler
   ~ha_myisammrg() {}
   const char *table_type() const { return "MRG_MyISAM"; }
   const char **bas_ext() const;
+  const char *index_type(uint key_number);
   ulong table_flags() const
   {
     return (HA_REC_NOT_IN_SEQ | HA_AUTO_PART_KEY | HA_READ_RND_SAME |

