commit dd2c886fee072fe894975d57bd5796cb44cce9ad
Author: jeanlf <jeanlf@users.sourceforge.net>
Date:   Wed Mar 11 14:04:40 2015 +0100

    Set sample_depends_on flag in trex when all samples are sync

diff --git a/src/isomedia/movie_fragments.c b/src/isomedia/movie_fragments.c
index d3ce66f23..2ac5b7a6b 100644
--- a/src/isomedia/movie_fragments.c
+++ b/src/isomedia/movie_fragments.c
@@ -219,6 +219,10 @@ GF_Err gf_isom_change_track_fragment_defaults(GF_ISOFile *movie, u32 TrackID,
 	trex->def_sample_duration = DefaultSampleDuration;
 	trex->def_sample_size = DefaultSampleSize;
 	trex->def_sample_flags = GF_ISOM_FORMAT_FRAG_FLAGS(DefaultSamplePadding, DefaultSampleIsSync, DefaultDegradationPriority);
+	//if sample is sync by default, set sample_depends_on flags to 2 (does not depend on other samples)
+	if (DefaultSampleIsSync) {
+		trex->def_sample_flags |= (2<<24);
+	}
 
 	return GF_OK;
 }

