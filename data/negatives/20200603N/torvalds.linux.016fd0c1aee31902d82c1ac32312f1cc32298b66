commit 016fd0c1aee31902d82c1ac32312f1cc32298b66
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Jul 20 12:41:07 2012 +0100

    drm/i915: Clear the pending_gpu_fenced_access flag at the start of execbuffer
    
    Otherwise once we use the buffer with a BLT command on gen2/3, we will
    always regard future command submissions as continuing the fenced
    access. However, now that we flush/invalidate between every batch we can
    drop this pessimism.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

diff --git a/drivers/gpu/drm/i915/i915_gem_execbuffer.c b/drivers/gpu/drm/i915/i915_gem_execbuffer.c
index 6c810798de92..55a94c1a1f59 100644
--- a/drivers/gpu/drm/i915/i915_gem_execbuffer.c
+++ b/drivers/gpu/drm/i915/i915_gem_execbuffer.c
@@ -413,6 +413,7 @@ i915_gem_execbuffer_reserve(struct intel_ring_buffer *ring,
 
 		obj->base.pending_read_domains = 0;
 		obj->base.pending_write_domain = 0;
+		obj->pending_fenced_gpu_access = false;
 	}
 	list_splice(&ordered_objects, objects);
 

