commit b327b3627bb428eb7d98f25224532425a673d89e
Author: Javier Martinez Canillas <javier.martinez@collabora.co.uk>
Date:   Wed Apr 17 22:34:12 2013 +0200

    ARM: OMAP2+: only WARN if a GPMC child probe function fail
    
    If any of the GPMC child nodes fails, this shouldn't make the
    whole gpmc_probe_dt() function to fail. It is better to just
    WARN and allow other devices probe function to succeed.
    
    Signed-off-by: Javier Martinez Canillas <javier.martinez@collabora.co.uk>
    Signed-off-by: Jon Hunter <jon-hunter@ti.com>

diff --git a/arch/arm/mach-omap2/gpmc.c b/arch/arm/mach-omap2/gpmc.c
index 6166847a3244..6c4da1254f53 100644
--- a/arch/arm/mach-omap2/gpmc.c
+++ b/arch/arm/mach-omap2/gpmc.c
@@ -1533,10 +1533,9 @@ static int gpmc_probe_dt(struct platform_device *pdev)
 			 of_node_cmp(child->name, "nor") == 0)
 			ret = gpmc_probe_generic_child(pdev, child);
 
-		if (ret < 0) {
+		if (WARN(ret < 0, "%s: probing gpmc child %s failed\n",
+			 __func__, child->full_name))
 			of_node_put(child);
-			return ret;
-		}
 	}
 
 	return 0;

