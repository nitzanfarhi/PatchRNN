commit 9a899a35b0d6b28b31cb04e042a349ef2fe18557
Author: Heiner Kallweit <hkallweit1@gmail.com>
Date:   Tue Apr 17 23:21:01 2018 +0200

    r8169: switch to napi_schedule_irqoff
    
    napi_schedule() is called from hard irq context, so we can switch to
    napi_schedule_irqoff() and avoid some overhead.
    
    Signed-off-by: Heiner Kallweit <hkallweit1@gmail.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/drivers/net/ethernet/realtek/r8169.c b/drivers/net/ethernet/realtek/r8169.c
index cc88e8ee45c7..34447a2e3763 100644
--- a/drivers/net/ethernet/realtek/r8169.c
+++ b/drivers/net/ethernet/realtek/r8169.c
@@ -7473,7 +7473,7 @@ static irqreturn_t rtl8169_interrupt(int irq, void *dev_instance)
 			handled = 1;
 
 			rtl_irq_disable(tp);
-			napi_schedule(&tp->napi);
+			napi_schedule_irqoff(&tp->napi);
 		}
 	}
 	return IRQ_RETVAL(handled);

