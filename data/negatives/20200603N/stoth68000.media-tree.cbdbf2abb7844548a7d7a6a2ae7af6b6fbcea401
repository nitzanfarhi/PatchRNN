commit cbdbf2abb7844548a7d7a6a2ae7af6b6fbcea401
Author: James Hogan <james.hogan@imgtec.com>
Date:   Fri Nov 23 12:08:15 2012 +0000

    linux/kernel.h: define SYMBOL_PREFIX
    
    Define SYMBOL_PREFIX to be the same as CONFIG_SYMBOL_PREFIX if set by
    the architecture, or "" otherwise. This avoids the need for ugly #ifdefs
    whenever symbols are referenced in asm blocks.
    
    Signed-off-by: James Hogan <james.hogan@imgtec.com>
    Cc: Andrew Morton <akpm@linux-foundation.org>
    Cc: Joe Perches <joe@perches.com>
    Cc: Paul Gortmaker <paul.gortmaker@windriver.com>
    Cc: Jean Delvare <khali@linux-fr.org>
    Cc: Ralf Baechle <ralf@linux-mips.org>
    Cc: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>

diff --git a/include/linux/kernel.h b/include/linux/kernel.h
index a123b13b70fd..7d8dfc7392f1 100644
--- a/include/linux/kernel.h
+++ b/include/linux/kernel.h
@@ -701,6 +701,13 @@ static inline void ftrace_dump(enum ftrace_dump_mode oops_dump_mode) { }
 #define COMPACTION_BUILD 0
 #endif
 
+/* This helps us to avoid #ifdef CONFIG_SYMBOL_PREFIX */
+#ifdef CONFIG_SYMBOL_PREFIX
+#define SYMBOL_PREFIX CONFIG_SYMBOL_PREFIX
+#else
+#define SYMBOL_PREFIX ""
+#endif
+
 /* Rebuild everything on CONFIG_FTRACE_MCOUNT_RECORD */
 #ifdef CONFIG_FTRACE_MCOUNT_RECORD
 # define REBUILD_DUE_TO_FTRACE_MCOUNT_RECORD

