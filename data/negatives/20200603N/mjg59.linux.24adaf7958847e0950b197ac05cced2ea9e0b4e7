commit 24adaf7958847e0950b197ac05cced2ea9e0b4e7
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Mon Oct 14 17:49:00 2013 +0100

    iio:ti_am335x: Remove redundant call to iio_sw_buffer_preenable()
    
    The equivalent of iio_sw_buffer_preenable() is now done in the IIO buffer
    core, so there is no need to do this from the driver anymore.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>
    Cc: Zubair Lutfullah <zubair.lutfullah@gmail.com>
    Signed-off-by: Jonathan Cameron <jic23@kernel.org>

diff --git a/drivers/iio/adc/ti_am335x_adc.c b/drivers/iio/adc/ti_am335x_adc.c
index 8fb5429e39ae..ef54d8a588d2 100644
--- a/drivers/iio/adc/ti_am335x_adc.c
+++ b/drivers/iio/adc/ti_am335x_adc.c
@@ -166,7 +166,7 @@ static int tiadc_buffer_preenable(struct iio_dev *indio_dev)
 	for (i = 0; i < fifo1count; i++)
 		read = tiadc_readl(adc_dev, REG_FIFO1);
 
-	return iio_sw_buffer_preenable(indio_dev);
+	return 0;
 }
 
 static int tiadc_buffer_postenable(struct iio_dev *indio_dev)

