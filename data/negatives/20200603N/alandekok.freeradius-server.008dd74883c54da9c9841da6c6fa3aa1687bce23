commit 008dd74883c54da9c9841da6c6fa3aa1687bce23
Author: aland <aland>
Date:   Fri Jun 20 06:15:09 2008 +0000

            Status-Server packets go to the head of the queue

diff --git a/src/main/event.c b/src/main/event.c
index 29d735358..9d35cd692 100644
--- a/src/main/event.c
+++ b/src/main/event.c
@@ -2073,6 +2073,11 @@ int received_request(rad_listen_t *listener,
 	request->number = request_num_counter++;
 	request->priority = listener->type;
 
+	/*
+	 *	Status-Server packets go to the head of the queue.
+	 */
+	if (request->packet->code == PW_STATUS_SERVER) request->priority = 0;
+
 	/*
 	 *	Set virtual server identity
 	 */

