commit 194f4a6df2a92c3d0bc65a85facfbc2433b25d06
Author: Flavio Leitner <fbl@redhat.com>
Date:   Tue Jun 11 23:09:29 2013 +0200

    net: make all team port device link events urgent
    
    Since team functionality relies heavily on userspace daemon, we need to
    deliver event to userspace via Netlink as quick as possible. So make all
    team port device link events urgent.
    
    Signed-off-by: Flavio Leitner <fbl@redhat.com>
    Signed-off-by: Jiri Pirko <jiri@resnulli.us>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/net/core/link_watch.c b/net/core/link_watch.c
index 8f82a5cc3851..9c3a839322ba 100644
--- a/net/core/link_watch.c
+++ b/net/core/link_watch.c
@@ -92,6 +92,9 @@ static bool linkwatch_urgent_event(struct net_device *dev)
 	if (dev->ifindex != dev->iflink)
 		return true;
 
+	if (dev->priv_flags & IFF_TEAM_PORT)
+		return true;
+
 	return netif_carrier_ok(dev) &&	qdisc_tx_changing(dev);
 }
 

