commit 5d0526eade515d29769c46bc522055fa17cc536e
Author: Mark Brown <broonie@opensource.wolfsonmicro.com>
Date:   Tue May 8 17:45:31 2012 +0100

    regulator: wm8994: Use main I2C device as struct device
    
    This makes logging a bit clearer as it gives the actual bus location and
    makes things like board hookup a bit smoother.
    
    Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>

diff --git a/drivers/regulator/wm8994-regulator.c b/drivers/regulator/wm8994-regulator.c
index 1f7f43cfc2d1..f2912f1528cc 100644
--- a/drivers/regulator/wm8994-regulator.c
+++ b/drivers/regulator/wm8994-regulator.c
@@ -233,7 +233,7 @@ static __devinit int wm8994_ldo_probe(struct platform_device *pdev)
 	} else
 		ldo->is_enabled = true;
 
-	config.dev = &pdev->dev;
+	config.dev = wm8994->dev;
 	config.init_data = pdata->ldo[id].init_data;
 	config.driver_data = ldo;
 

