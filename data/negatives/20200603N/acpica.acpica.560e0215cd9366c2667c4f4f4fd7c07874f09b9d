commit 560e0215cd9366c2667c4f4f4fd7c07874f09b9d
Author: rmoore1 <rmoore1>
Date:   Tue Jun 6 22:14:50 2006 +0000

    Fix fault if package length too long to be encoded (BZ 432)

diff --git a/source/compiler/aslcodegen.c b/source/compiler/aslcodegen.c
index cb4f0ac09..e537585ce 100644
--- a/source/compiler/aslcodegen.c
+++ b/source/compiler/aslcodegen.c
@@ -2,7 +2,7 @@
 /******************************************************************************
  *
  * Module Name: aslcodegen - AML code generation
- *              $Revision: 1.60 $
+ *              $Revision: 1.61 $
  *
  *****************************************************************************/
 
@@ -396,7 +396,7 @@ CgWriteAmlOpcode (
 
             CgLocalWriteAmlData (Op, &PkgLen.LenBytes[0], 1);
         }
-        else
+        else if (Op->Asl.AmlPkgLenBytes != 0)
         {
             /*
              * Encode the "bytes to follow" in the first byte, top two bits.

