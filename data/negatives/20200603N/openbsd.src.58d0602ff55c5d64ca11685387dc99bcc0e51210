commit 58d0602ff55c5d64ca11685387dc99bcc0e51210
Author: aaron <aaron@openbsd.org>
Date:   Mon Oct 4 09:38:19 1999 +0000

    Minor calculation tweaks.

diff --git a/sys/arch/i386/isa/pcvt/pcvt_kbd.c b/sys/arch/i386/isa/pcvt/pcvt_kbd.c
index b93c95c90db..3ea26471faa 100644
--- a/sys/arch/i386/isa/pcvt/pcvt_kbd.c
+++ b/sys/arch/i386/isa/pcvt/pcvt_kbd.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: pcvt_kbd.c,v 1.24 1999/09/27 01:50:19 aaron Exp $	*/
+/*	$OpenBSD: pcvt_kbd.c,v 1.25 1999/10/04 09:38:19 aaron Exp $	*/
 
 /*
  * Copyright (c) 1992, 1995 Hellmuth Michaelis and Joerg Wunsch.
@@ -1486,11 +1486,11 @@ regular:
 
 	if ((key == 85) && shift_down && kbd_lastkey != 85)
 	{
-		if (vsp->scr_offset > (vsp->screen_rows - 1))
+		if (vsp->scr_offset > vsp->row)
 		{
 			if (!vsp->scrolling)
 			{
-				vsp->scrolling += vsp->screen_rows - 2;
+				vsp->scrolling += vsp->row - 1;
 				if (vsp->Scrollback)
 				{
 					scrollback_save_screen();
@@ -1534,7 +1534,7 @@ scroll_reset:
 			if (vsp->scrolling < 0)
 				vsp->scrolling = 0;
 
-			if (vsp->scrolling <= vsp->screen_rows)
+			if (vsp->scrolling <= vsp->row)
 			{
 				vsp->scrolling = 0;
 				scrollback_restore_screen();

