commit d8106d2e24d54497233ca9cd97fa9bec807de458
Author: Ingo Molnar <mingo@elte.hu>
Date:   Sat Jan 31 03:06:17 2009 +0100

    x86, vm86: clean up invalid_vm86_irq()
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

diff --git a/arch/x86/include/asm/irq_vectors.h b/arch/x86/include/asm/irq_vectors.h
index 41e2450e13bd..b07278c55e9e 100644
--- a/arch/x86/include/asm/irq_vectors.h
+++ b/arch/x86/include/asm/irq_vectors.h
@@ -124,7 +124,13 @@
 
 #define	FIRST_VM86_IRQ			   3
 #define LAST_VM86_IRQ			  15
-#define invalid_vm86_irq(irq)		((irq) < 3 || (irq) > 15)
+
+#ifndef __ASSEMBLY__
+static inline int invalid_vm86_irq(int irq)
+{
+	return irq < 3 || irq > 15;
+}
+#endif
 
 /*
  * Size the maximum number of interrupts.

