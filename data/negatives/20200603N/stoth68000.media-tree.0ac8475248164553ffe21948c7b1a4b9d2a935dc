commit 0ac8475248164553ffe21948c7b1a4b9d2a935dc
Author: David S. Miller <davem@davemloft.net>
Date:   Mon Mar 20 19:18:23 2006 -0800

    [XFRM]: Make sure xfrm_replay_timer_handler() is declared early enough.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/net/xfrm/xfrm_state.c b/net/xfrm/xfrm_state.c
index 8df547d7d61c..cd1d5e11ee74 100644
--- a/net/xfrm/xfrm_state.c
+++ b/net/xfrm/xfrm_state.c
@@ -179,6 +179,8 @@ static void xfrm_timer_handler(unsigned long data)
 	xfrm_state_put(x);
 }
 
+static void xfrm_replay_timer_handler(unsigned long data);
+
 struct xfrm_state *xfrm_state_alloc(void)
 {
 	struct xfrm_state *x;
@@ -815,11 +817,9 @@ void xfrm_replay_notify(struct xfrm_state *x, int event)
 	c.data.aevent = event;
 	km_state_notify(x, &c);
 
-resched:
 	if (x->replay_maxage &&
 	    !mod_timer(&x->rtimer, jiffies + x->replay_maxage))
 		xfrm_state_hold(x);
-
 }
 
 static void xfrm_replay_timer_handler(unsigned long data)

