commit 1a3b595a281a44be4074fe33b317a0a4854b4197
Author: Jens Axboe <axboe@fb.com>
Date:   Mon Nov 17 10:40:48 2014 -0700

    blk-mq: export blk_mq_free_request()
    
    Drivers that know they are blk-mq should just use this function
    instead of calling through blk_put_request().
    
    Signed-off-by: Jens Axboe <axboe@fb.com>

diff --git a/block/blk-mq.c b/block/blk-mq.c
index 06ab0683a1f1..fdf12152946e 100644
--- a/block/blk-mq.c
+++ b/block/blk-mq.c
@@ -280,6 +280,7 @@ void blk_mq_free_request(struct request *rq)
 	hctx = q->mq_ops->map_queue(q, ctx->cpu);
 	__blk_mq_free_request(hctx, ctx, rq);
 }
+EXPORT_SYMBOL_GPL(blk_mq_free_request);
 
 inline void __blk_mq_end_request(struct request *rq, int error)
 {

