commit 0f7988d4f006e06c02c012c86099612dfcc10729
Author: John Spray <john.spray@redhat.com>
Date:   Thu Mar 23 09:31:41 2017 -0400

    mds: pretty json from `tell` commands
    
    The overhead of the whitespace is trivial and
    makes the output somewhat human readable.  Previously
    I was always taking `damage ls` into a file and
    parsing it out with python.
    
    Signed-off-by: John Spray <john.spray@redhat.com>

diff --git a/src/mds/MDSRank.cc b/src/mds/MDSRank.cc
index eb538f9c84..d1cb909b75 100644
--- a/src/mds/MDSRank.cc
+++ b/src/mds/MDSRank.cc
@@ -2571,7 +2571,7 @@ bool MDSRankDispatcher::handle_command(
       return true;
     }
 
-    Formatter *f = new JSONFormatter();
+    Formatter *f = new JSONFormatter(true);
     dump_sessions(filter, f);
     f->flush(*ds);
     delete f;
@@ -2591,7 +2591,7 @@ bool MDSRankDispatcher::handle_command(
     *need_reply = false;
     return true;
   } else if (prefix == "damage ls") {
-    Formatter *f = new JSONFormatter();
+    Formatter *f = new JSONFormatter(true);
     damage_table.dump(f);
     f->flush(*ds);
     delete f;

