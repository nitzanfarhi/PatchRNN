commit 317cb4a245964de374a543e93672d02791edf8fb
Author: Dave Beckett <dave@dajobe.org>
Date:   Sun May 7 20:17:30 2006 +0000

    (raptor_rdfxml_comment_handler): Do nothing when a comment is given
    outside an xml_element context.

diff --git a/src/raptor_rdfxml.c b/src/raptor_rdfxml.c
index 4d28c847..6cb015c6 100644
--- a/src/raptor_rdfxml.c
+++ b/src/raptor_rdfxml.c
@@ -1033,7 +1033,7 @@ raptor_rdfxml_comment_handler(void *user_data, raptor_xml_element* xml_element,
   raptor_rdfxml_parser* rdf_xml_parser;
   raptor_rdfxml_element* element;
 
-  if(rdf_parser->failed)
+  if(rdf_parser->failed || !xml_element)
     return;
 
   rdf_xml_parser=(raptor_rdfxml_parser*)rdf_parser->context;

