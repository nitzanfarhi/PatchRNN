commit 7662ff46b7b3678162ce125903115e4ab0607a2d
Author: John Fastabend <john.r.fastabend@intel.com>
Date:   Fri Oct 15 09:27:38 2010 -0700

    ixgbe: DCB: remove DCB check config
    
    Remove a DCB check config from DCB configuration we
    continue to configure DCB even if it fails so don't
    even bother to check.  Plus user space (lldpad) checks
    this before programming the hw anyways.
    
    Worse case is we program some values into the hw that
    don't make total sense resulting in incorrect bandwidth
    allocation.
    
    Signed-off-by: John Fastabend <john.r.fastabend@intel.com>
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/drivers/net/ixgbe/ixgbe_main.c b/drivers/net/ixgbe/ixgbe_main.c
index 95dbf60c8169..790a0dae1247 100644
--- a/drivers/net/ixgbe/ixgbe_main.c
+++ b/drivers/net/ixgbe/ixgbe_main.c
@@ -3374,7 +3374,6 @@ static void ixgbe_configure_dcb(struct ixgbe_adapter *adapter)
 	if (hw->mac.type == ixgbe_mac_82598EB)
 		netif_set_gso_max_size(adapter->netdev, 32768);
 
-	ixgbe_dcb_check_config(&adapter->dcb_cfg);
 	ixgbe_dcb_calculate_tc_credits(&adapter->dcb_cfg, DCB_TX_CONFIG);
 	ixgbe_dcb_calculate_tc_credits(&adapter->dcb_cfg, DCB_RX_CONFIG);
 

