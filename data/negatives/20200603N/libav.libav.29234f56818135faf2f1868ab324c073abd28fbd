commit 29234f56818135faf2f1868ab324c073abd28fbd
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue Nov 11 13:27:00 2014 +0100

    vp7: fix checking vp7_feature_value_size()
    
    CC: libav-stable@libav.org
    Bug-Id: CID 1197061

diff --git a/libavcodec/vp8.c b/libavcodec/vp8.c
index 0d2cab31f..f437feec3 100644
--- a/libavcodec/vp8.c
+++ b/libavcodec/vp8.c
@@ -529,7 +529,7 @@ static int vp7_decode_frame_header(VP8Context *s, const uint8_t *buf, int buf_si
                  s->feature_index_prob[i][j] =
                      vp8_rac_get(c) ? vp8_rac_get_uint(c, 8) : 255;
 
-             if (vp7_feature_value_size[i])
+             if (vp7_feature_value_size[s->profile][i])
                  for (j = 0; j < 4; j++)
                      s->feature_value[i][j] =
                          vp8_rac_get(c) ? vp8_rac_get_uint(c, vp7_feature_value_size[s->profile][i]) : 0;

