commit 6596d91c8264a8a0705736003c129a4422e91564
Author: Konrad Borowski <x.fix@o2.pl>
Date:   Sat May 10 17:13:08 2014 +0200

    Fix prompt under Windows.
    
    The fix is obviously a hack caused by that NOT_A_WCHAR
    doesn't fit in wchar_t. Better fix would be nice.

diff --git a/common.cpp b/common.cpp
index ac0181d3..f02626d3 100644
--- a/common.cpp
+++ b/common.cpp
@@ -1619,8 +1619,9 @@ static bool unescape_string_internal(const wchar_t * const input, const size_t i
             }
         }
 
+        wchar_t not_a_wchar = NOT_A_WCHAR;
         /* Now maybe append the char */
-        if (to_append != NOT_A_WCHAR)
+        if (to_append != not_a_wchar)
         {
             result.push_back(to_append);
         }

