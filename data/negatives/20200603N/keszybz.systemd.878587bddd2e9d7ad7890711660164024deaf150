commit 878587bddd2e9d7ad7890711660164024deaf150
Author: Lennart Poettering <lennart@poettering.net>
Date:   Thu Sep 22 04:05:40 2011 +0200

    selinux: reopen log when loading the SELinux policy fails

diff --git a/src/selinux-setup.c b/src/selinux-setup.c
index 2abd99e6a..a7e1fa400 100644
--- a/src/selinux-setup.c
+++ b/src/selinux-setup.c
@@ -98,11 +98,13 @@ int selinux_setup(bool *loaded_policy) {
                *loaded_policy = true;
 
        } else {
+               log_open();
+
                if (enforce > 0) {
-                       log_error("Failed to load SELinux policy.");
+                       log_error("Failed to load SELinux policy. Freezing.");
                        return -EIO;
                } else
-                       log_debug("Unable to load SELinux policy.");
+                       log_debug("Unable to load SELinux policy. Ignoring.");
        }
 #endif
 

