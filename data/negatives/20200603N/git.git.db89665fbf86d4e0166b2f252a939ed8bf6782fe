commit db89665fbf86d4e0166b2f252a939ed8bf6782fe
Author: Junio C Hamano <junkio@cox.net>
Date:   Mon Apr 17 12:42:36 2006 -0700

    rev-list --header: output format fix
    
    Initial fix prepared by Johannes, but I did it slightly differently.
    
    Signed-off-by: Junio C Hamano <junkio@cox.net>

diff --git a/rev-list.c b/rev-list.c
index 000f27a8f..d3c0dd90e 100644
--- a/rev-list.c
+++ b/rev-list.c
@@ -326,6 +326,9 @@ int main(int argc, const char **argv)
 		else
 			revs.header_prefix = "commit ";
 	}
+	else if (revs.verbose_header)
+		/* Only --header was specified */
+		revs.commit_format = CMIT_FMT_RAW;
 
 	list = revs.commits;
 

