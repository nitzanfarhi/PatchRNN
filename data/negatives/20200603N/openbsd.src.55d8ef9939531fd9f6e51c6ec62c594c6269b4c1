commit 55d8ef9939531fd9f6e51c6ec62c594c6269b4c1
Author: downsj <downsj@openbsd.org>
Date:   Mon Jan 13 18:03:53 1997 +0000

    fix DIO-II mappings, NetBSD PR#3097.

diff --git a/sys/arch/hp300/dev/dio.c b/sys/arch/hp300/dev/dio.c
index ee64e36c33f..4662dc685f9 100644
--- a/sys/arch/hp300/dev/dio.c
+++ b/sys/arch/hp300/dev/dio.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: dio.c,v 1.1 1997/01/12 15:12:25 downsj Exp $	*/
+/*	$OpenBSD: dio.c,v 1.2 1997/01/13 18:03:53 downsj Exp $	*/
 /*	$NetBSD: dio.c,v 1.1 1996/12/17 08:41:02 thorpej Exp $	*/
 
 /*-
@@ -207,7 +207,7 @@ dio_scodetopa(scode)
 	else if (DIO_ISDIO(scode))
 		rval = DIO_BASE + (scode * DIO_DEVSIZE);
 	else if (DIO_ISDIOII(scode))
-		rval = DIOII_BASE + (scode * DIOII_DEVSIZE);
+		rval = DIOII_BASE + ((scode - 132) * DIOII_DEVSIZE);
 	else
 		rval = 0;
 
diff --git a/sys/arch/hp300/hp300/autoconf.c b/sys/arch/hp300/hp300/autoconf.c
index dadf64fb4ef..992565e76c5 100644
--- a/sys/arch/hp300/hp300/autoconf.c
+++ b/sys/arch/hp300/hp300/autoconf.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: autoconf.c,v 1.7 1997/01/12 15:13:10 downsj Exp $	*/
+/*	$OpenBSD: autoconf.c,v 1.8 1997/01/13 18:03:55 downsj Exp $	*/
 /*	$NetBSD: autoconf.c,v 1.29 1996/12/17 08:41:19 thorpej Exp $	*/
 
 /*
@@ -1892,7 +1892,7 @@ find_devs()
 		/*
 		 * Invalid select codes
 		 */
-		if ((sc >= 32 && sc < 132) || sc > 187)	/* XXX */
+		if (sc >= 32 && sc < 132)
 			continue;
 
 		if (sc == -1) {

