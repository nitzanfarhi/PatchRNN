commit d585dfe840c93ea800afc124333b6ac04722d359
Author: Ben Dooks <ben-fbdev@fluff.org>
Date:   Fri May 23 13:04:56 2008 -0700

    S3C2410: add error print if we cannot add attribute
    
    Fix the following warning by checking the result of device_create_file and
    printing an error but not removing the device (loss of debug registers is
    not fatal).
    
    drivers/video/s3c2410fb.c:905: warning: ignoring return value of 'device_create_file', declared with attribute warn_unused_result
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Cc: Arnaud Patard <arnaud.patard@rtp-net.org>
    Acked-by: Krzysztof Helt <krzysztof.h1@wp.pl>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

diff --git a/drivers/video/s3c2410fb.c b/drivers/video/s3c2410fb.c
index 2219ae56a0e6..5fea847acd1c 100644
--- a/drivers/video/s3c2410fb.c
+++ b/drivers/video/s3c2410fb.c
@@ -972,7 +972,10 @@ static int __init s3c24xxfb_probe(struct platform_device *pdev,
 	}
 
 	/* create device files */
-	device_create_file(&pdev->dev, &dev_attr_debug);
+	ret = device_create_file(&pdev->dev, &dev_attr_debug);
+	if (ret) {
+		printk(KERN_ERR "failed to add debug attribute\n");
+	}
 
 	printk(KERN_INFO "fb%d: %s frame buffer device\n",
 		fbinfo->node, fbinfo->fix.id);

