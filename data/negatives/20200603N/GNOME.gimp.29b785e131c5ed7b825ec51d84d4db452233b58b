commit 29b785e131c5ed7b825ec51d84d4db452233b58b
Author: Sven Neumann <neo@src.gnome.org>
Date:   Sun Aug 16 13:12:57 1998 +0000

    Hey, I couldn't hold on me...
    A two-byte fix to really display the cursor position when inside an active
    drawable.
    
    
    --Sven

diff --git a/app/core/gimpprojection.c b/app/core/gimpprojection.c
index a778158305..acfa9ee882 100644
--- a/app/core/gimpprojection.c
+++ b/app/core/gimpprojection.c
@@ -694,18 +694,18 @@ gdisplay_update_cursor (GDisplay *gdisp, int x, int y)
     {
       if (t_x < 0 ||
 	  t_y < 0 ||
-	  t_x > active_drawable->width ||
-	  t_y > active_drawable->height)
+	  t_x >= active_drawable->width ||
+	  t_y >= active_drawable->height)
 	{
-	  gtk_label_set(GTK_LABEL (gdisp->cursor_label), "");
+	  gtk_label_set (GTK_LABEL (gdisp->cursor_label), "");
 	} 
       else 
 	{
-	  g_snprintf(buffer, CURSOR_STR_LENGTH, " %d, %d ", t_x, t_y);
-	  gtk_label_set(GTK_LABEL (gdisp->cursor_label), buffer);
+	  g_snprintf (buffer, CURSOR_STR_LENGTH, " %d, %d ", t_x, t_y);
+	  gtk_label_set (GTK_LABEL (gdisp->cursor_label), buffer);
 	}
     }
-  
+
   gdisp->have_cursor = new_cursor;
   gdisp->cursor_x = x;
   gdisp->cursor_y = y;
diff --git a/app/display/gimpdisplay.c b/app/display/gimpdisplay.c
index a778158305..acfa9ee882 100644
--- a/app/display/gimpdisplay.c
+++ b/app/display/gimpdisplay.c
@@ -694,18 +694,18 @@ gdisplay_update_cursor (GDisplay *gdisp, int x, int y)
     {
       if (t_x < 0 ||
 	  t_y < 0 ||
-	  t_x > active_drawable->width ||
-	  t_y > active_drawable->height)
+	  t_x >= active_drawable->width ||
+	  t_y >= active_drawable->height)
 	{
-	  gtk_label_set(GTK_LABEL (gdisp->cursor_label), "");
+	  gtk_label_set (GTK_LABEL (gdisp->cursor_label), "");
 	} 
       else 
 	{
-	  g_snprintf(buffer, CURSOR_STR_LENGTH, " %d, %d ", t_x, t_y);
-	  gtk_label_set(GTK_LABEL (gdisp->cursor_label), buffer);
+	  g_snprintf (buffer, CURSOR_STR_LENGTH, " %d, %d ", t_x, t_y);
+	  gtk_label_set (GTK_LABEL (gdisp->cursor_label), buffer);
 	}
     }
-  
+
   gdisp->have_cursor = new_cursor;
   gdisp->cursor_x = x;
   gdisp->cursor_y = y;
diff --git a/app/gdisplay.c b/app/gdisplay.c
index a778158305..acfa9ee882 100644
--- a/app/gdisplay.c
+++ b/app/gdisplay.c
@@ -694,18 +694,18 @@ gdisplay_update_cursor (GDisplay *gdisp, int x, int y)
     {
       if (t_x < 0 ||
 	  t_y < 0 ||
-	  t_x > active_drawable->width ||
-	  t_y > active_drawable->height)
+	  t_x >= active_drawable->width ||
+	  t_y >= active_drawable->height)
 	{
-	  gtk_label_set(GTK_LABEL (gdisp->cursor_label), "");
+	  gtk_label_set (GTK_LABEL (gdisp->cursor_label), "");
 	} 
       else 
 	{
-	  g_snprintf(buffer, CURSOR_STR_LENGTH, " %d, %d ", t_x, t_y);
-	  gtk_label_set(GTK_LABEL (gdisp->cursor_label), buffer);
+	  g_snprintf (buffer, CURSOR_STR_LENGTH, " %d, %d ", t_x, t_y);
+	  gtk_label_set (GTK_LABEL (gdisp->cursor_label), buffer);
 	}
     }
-  
+
   gdisp->have_cursor = new_cursor;
   gdisp->cursor_x = x;
   gdisp->cursor_y = y;

