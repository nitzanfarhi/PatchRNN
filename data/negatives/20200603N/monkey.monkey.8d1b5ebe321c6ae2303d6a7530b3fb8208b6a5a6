commit 8d1b5ebe321c6ae2303d6a7530b3fb8208b6a5a6
Author: Eduardo Silva <edsiper@gmail.com>
Date:   Mon Apr 23 23:08:01 2012 -0600

    Duda: SQLite: fix return value on sql_dump()
    
    Signed-off-by: Eduardo Silva <edsiper@gmail.com>

diff --git a/plugins/duda/packages/sqlite/sqlite.c b/plugins/duda/packages/sqlite/sqlite.c
index be1f11d1..35a9d7d7 100644
--- a/plugins/duda/packages/sqlite/sqlite.c
+++ b/plugins/duda/packages/sqlite/sqlite.c
@@ -56,6 +56,7 @@ int sql_dump(sqlite3 *db, const char *query, sqlite3_stmt **handle)
     ret = sqlite3_prepare(db, query, -1, handle, NULL);
     if (ret != SQLITE_OK || !handle) {
         printf("Error: sql_dump()=%d %s\n", ret, sqlite3_errmsg(db));
+        return -1;
     }
 
     return ret;

