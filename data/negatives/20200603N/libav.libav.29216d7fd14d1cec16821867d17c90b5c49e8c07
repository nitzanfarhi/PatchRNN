commit 29216d7fd14d1cec16821867d17c90b5c49e8c07
Author: James Almer <jamrial@gmail.com>
Date:   Fri May 22 00:32:17 2015 -0300

    tls: fix compilation when both gnutls and openssl are enabled
    
    Signed-off-by: Martin Storsj√∂ <martin@martin.st>

diff --git a/libavformat/tls.c b/libavformat/tls.c
index 7ce981735..00fe876a4 100644
--- a/libavformat/tls.c
+++ b/libavformat/tls.c
@@ -213,7 +213,7 @@ static int tls_open(URLContext *h, const char *uri, int flags, AVDictionary **op
     struct addrinfo hints = { 0 }, *ai = NULL;
     const char *proxy_path;
     int use_proxy;
-#if CONFIG_OPENSSL
+#if CONFIG_OPENSSL && !CONFIG_GNUTLS
     BIO *bio;
 #endif
 

