commit ac062160acb631e1ac0f35296b268ead7a9fe960
Author: jeanlf <jeanlf@users.sourceforge.net>
Date:   Fri Sep 16 16:53:57 2016 +0200

    Fixed track visual size in lhvc split

diff --git a/src/media_tools/isom_tools.c b/src/media_tools/isom_tools.c
index 68bd9e049..a4bf57451 100644
--- a/src/media_tools/isom_tools.c
+++ b/src/media_tools/isom_tools.c
@@ -2000,6 +2000,7 @@ static GF_Err gf_isom_adjust_visual_info(GF_ISOFile *file, u32 track) {
 	HEVCState hevc;
 
 	lhvccfg = gf_isom_lhvc_config_get(file, track, 1);
+	if (!lhvccfg) lhvccfg = gf_isom_hevc_config_get(file, track, 1);
 	if (!lhvccfg) return GF_OK;
 
 	for (i = 0; i < gf_list_count(lhvccfg->param_array); i++) {
@@ -2244,7 +2245,8 @@ GF_Err gf_media_split_lhvc(GF_ISOFile *file, u32 track, Bool splitAll, Bool use_
 	//update lhvc config
 	e = gf_isom_lhvc_config_update(file, track, 1, NULL, GF_ISOM_LEHVC_WITH_BASE);
 	if (e) goto exit;
-
+	gf_isom_adjust_visual_info(file, track);
+	
 	nal_alloc_size = 10000;
 	nal_data = gf_malloc(sizeof(char) * nal_alloc_size);
 	//parse all samples

