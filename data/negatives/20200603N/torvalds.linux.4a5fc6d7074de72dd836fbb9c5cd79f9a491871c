commit 4a5fc6d7074de72dd836fbb9c5cd79f9a491871c
Author: Chun-Yeow Yeoh <yeohchunyeow@gmail.com>
Date:   Fri Jan 25 12:47:50 2013 +0800

    rt2x00: allow AP and mesh mode to operate simultaneously
    
    Allow AP and Mesh mode to operate concurrently using
    single radio. Verify this using fonera 2.0n featuring
    RT3052 chipset and also TP-LINK TL-WN727N featuring
    RT5370 chipset.
    
    Signed-off-by: Chun-Yeow Yeoh <yeohchunyeow@gmail.com>
    Acked-by: Helmut Schaa <helmut.schaa@googlemal.com>
    Acked-by: Gertjan van Wingerde <gwingerde@gmail.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

diff --git a/drivers/net/wireless/rt2x00/rt2x00dev.c b/drivers/net/wireless/rt2x00/rt2x00dev.c
index 92a0aa5d7b08..1031db66474a 100644
--- a/drivers/net/wireless/rt2x00/rt2x00dev.c
+++ b/drivers/net/wireless/rt2x00/rt2x00dev.c
@@ -1236,7 +1236,8 @@ static inline void rt2x00lib_set_if_combinations(struct rt2x00_dev *rt2x00dev)
 	 */
 	if_limit = &rt2x00dev->if_limits_ap;
 	if_limit->max = rt2x00dev->ops->max_ap_intf;
-	if_limit->types = BIT(NL80211_IFTYPE_AP);
+	if_limit->types = BIT(NL80211_IFTYPE_AP) |
+			BIT(NL80211_IFTYPE_MESH_POINT);
 
 	/*
 	 * Build up AP interface combinations structure.

