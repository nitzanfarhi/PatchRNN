commit 1b211e5ef3f6ba9ed39a1cdf68adce4610b013f7
Author: Greg Farnum <gregf@hq.newdream.net>
Date:   Thu Mar 4 17:16:48 2010 -0800

    mon: fix bad return test!
    
    cephx_build_service_ticket_blob returns a bool, so it's not ever
    going to return <0 -- or if it somehow does that'll be true (good, not false!

diff --git a/src/mon/Monitor.cc b/src/mon/Monitor.cc
index 79009a591e..e20048749e 100644
--- a/src/mon/Monitor.cc
+++ b/src/mon/Monitor.cc
@@ -997,8 +997,7 @@ bool Monitor::ms_get_authorizer(int dest_type, AuthAuthorizer **authorizer, bool
   }
 
   CephXTicketBlob blob;
-  ret = cephx_build_service_ticket_blob(info, blob);
-  if (ret < 0)
+  if (!cephx_build_service_ticket_blob(info, blob))
     return false;
   bufferlist ticket_data;
   ::encode(blob, ticket_data);

