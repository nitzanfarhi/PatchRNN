commit a07578f3f2a5ad5cd5dcc5de5ee173254f191435
Author: Robert Nagy <ronag89@gmail.com>
Date:   Sun Apr 15 15:46:37 2012 +0200

    vf_yadif: fix missing error handling for avfilter_poll_frame()

diff --git a/libavfilter/vf_yadif.c b/libavfilter/vf_yadif.c
index 12b37836f..790dda5a0 100644
--- a/libavfilter/vf_yadif.c
+++ b/libavfilter/vf_yadif.c
@@ -316,11 +316,15 @@ static int poll_frame(AVFilterLink *link)
         return 1;
 
     val = avfilter_poll_frame(link->src->inputs[0]);
+    if (val <= 0)
+        return val;
 
     if (val==1 && !yadif->next) { //FIXME change API to not requre this red tape
         if ((ret = avfilter_request_frame(link->src->inputs[0])) < 0)
             return ret;
         val = avfilter_poll_frame(link->src->inputs[0]);
+        if (val <= 0)
+            return val;
     }
     assert(yadif->next || !val);
 

