commit 0c7da8f760543cfed808f230e5beeec78a1de7c7
Author: craig.p.drummond <craig.p.drummond@b1e49159-3266-923f-9c3e-04f16369770a>
Date:   Wed Jun 12 20:00:00 2013 +0000

    Remveo stream widgets if not compiled for HTTP support

diff --git a/gui/serverplaybacksettings.cpp b/gui/serverplaybacksettings.cpp
index 2fb1fc1d..278239c8 100644
--- a/gui/serverplaybacksettings.cpp
+++ b/gui/serverplaybacksettings.cpp
@@ -30,6 +30,11 @@
 #include "messagebox.h"
 #include <QListWidget>
 
+#define REMOVE(w) \
+    w->setVisible(false); \
+    w->deleteLater(); \
+    w=0;
+
 ServerPlaybackSettings::ServerPlaybackSettings(QWidget *p)
     : QWidget(p)
 {
@@ -53,9 +58,9 @@ ServerPlaybackSettings::ServerPlaybackSettings(QWidget *p)
     messageIcon->setMaximumSize(iconSize, iconSize);
     mpdConnectionStateChanged(MPDConnection::self()->isConnected());
     #ifndef ENABLE_HTTP_STREAM_PLAYBACK
-    streamUrl->setVisible(false);
-    streamUrlLabel->setVisible(false);
-    streamUrlInfoLabel->setVisible(false);
+    REMOVE(streamUrl)
+    REMOVE(streamUrlLabel)
+    REMOVE(streamUrlInfoLabel)
     #endif
 };
 

