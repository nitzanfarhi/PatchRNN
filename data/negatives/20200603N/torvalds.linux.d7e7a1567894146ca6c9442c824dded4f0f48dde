commit d7e7a1567894146ca6c9442c824dded4f0f48dde
Author: Oliver Endriss <o.endriss@gmx.de>
Date:   Thu Sep 14 00:43:22 2006 -0300

    V4L/DVB (4631): Av7110: remove V4L2_CAP_VBI_CAPTURE flag
    
    Implement fix suggested by Michael Hunold for a bug reported
    by Philipp Matthias Hahn: Starting "kdetv" on a Siemens DVB-C 1.x
    produced an oops because kdetv opened "/dev/vbi0".
    Remove the V4L2_CAP_VBI_CAPTURE flag because it does not work with
    this type of hardware anyway.
    
    Signed-off-by: Oliver Endriss <o.endriss@gmx.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

diff --git a/drivers/media/dvb/ttpci/av7110_v4l.c b/drivers/media/dvb/ttpci/av7110_v4l.c
index 52b500a38c86..10cfe3131e72 100644
--- a/drivers/media/dvb/ttpci/av7110_v4l.c
+++ b/drivers/media/dvb/ttpci/av7110_v4l.c
@@ -921,7 +921,7 @@ static struct saa7146_ext_vv av7110_vv_data_st = {
 static struct saa7146_ext_vv av7110_vv_data_c = {
 	.inputs		= 1,
 	.audios		= 1,
-	.capabilities	= V4L2_CAP_TUNER | V4L2_CAP_VBI_CAPTURE | V4L2_CAP_SLICED_VBI_OUTPUT,
+	.capabilities	= V4L2_CAP_TUNER | V4L2_CAP_SLICED_VBI_OUTPUT,
 	.flags		= SAA7146_USE_PORT_B_FOR_VBI,
 
 	.stds		= &standard[0],

