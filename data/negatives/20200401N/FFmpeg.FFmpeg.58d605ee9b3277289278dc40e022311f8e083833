commit 58d605ee9b3277289278dc40e022311f8e083833
Author: Andreas Cadhalpun <andreas.cadhalpun@googlemail.com>
Date:   Wed Apr 22 16:03:41 2015 +0200

    alsdec: only adapt order for positive max_order
    
    For max_order = 0 the clipping range is invalid. (amin = 2, amax = 1)
    
    Signed-off-by: Andreas Cadhalpun <Andreas.Cadhalpun@googlemail.com>
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libavcodec/alsdec.c b/libavcodec/alsdec.c
index e34cf6ef7c..75be55cc1e 100644
--- a/libavcodec/alsdec.c
+++ b/libavcodec/alsdec.c
@@ -682,7 +682,7 @@ static int read_var_block_data(ALSDecContext *ctx, ALSBlockData *bd)
 
 
     if (!sconf->rlslms) {
-        if (sconf->adapt_order) {
+        if (sconf->adapt_order && sconf->max_order) {
             int opt_order_length = av_ceil_log2(av_clip((bd->block_length >> 3) - 1,
                                                 2, sconf->max_order + 1));
             *bd->opt_order       = get_bits(gb, opt_order_length);

