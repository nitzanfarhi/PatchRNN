commit d164b6ee1f1375502f5ae354a6ea5c3bf388478f
Author: Andrew Hanushevsky <abh@slac.stanford.edu>
Date:   Wed Jun 15 23:03:58 2005 +0000

    Make "redirect" backward compatible but print warning that it won't be always that way.

diff --git a/src/XrdOfs/XrdOfsConfig.cc b/src/XrdOfs/XrdOfsConfig.cc
index c714ef8b..222fbc77 100644
--- a/src/XrdOfs/XrdOfsConfig.cc
+++ b/src/XrdOfs/XrdOfsConfig.cc
@@ -496,11 +496,15 @@ int XrdOfs::xred(XrdOucStream &Config, XrdOucError &Eroute)
     if (!ropt) ropt = XrdOfsREDIRRMT;
        else if (val) val = Config.GetWord();
 
-    if (val && !strcmp("if", val))
-       if ((rc = XrdOucUtils::doIf(&Eroute, Config, "redirect directive",
+    if (val)
+       {if (strcmp("if", val)) 
+           {Config.RetToken();
+            Eroute.Emsg("Config", "Warning! Implied 'if' on redirect is now deprecated.");
+           }
+        if ((rc = XrdOucUtils::doIf(&Eroute, Config, "redirect directive",
                                    getenv("XRDHOST"), getenv("XRDNAME"))) <= 0)
-          return (rc < 0);
-
+           return (rc < 0);
+       }
     Options |= ropt;
     return 0;
 }

