commit 5990d26f80f989853d26f5b3ed39057d1e4fc857
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Aug 21 20:12:53 2010 +0000

    If a FCI features tag 84h, then the file is a DF
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4639 c6295689-39f2-0310-b995-f0e70906c6a9

diff --git a/src/libopensc/iso7816.c b/src/libopensc/iso7816.c
index e0e621ba..6d439641 100644
--- a/src/libopensc/iso7816.c
+++ b/src/libopensc/iso7816.c
@@ -366,6 +366,8 @@ static int iso7816_process_fci(sc_card_t *card, sc_file_t *file,
 		sc_hex_dump(ctx, SC_LOG_DEBUG_NORMAL,
 			file->name, file->namelen, tbuf, sizeof(tbuf));
 		sc_debug(ctx, SC_LOG_DEBUG_NORMAL, "  File name: %s\n", tbuf);
+		if (!file->type)
+			file->type = SC_FILE_TYPE_DF;
 	}
 	tag = sc_asn1_find_tag(ctx, p, len, 0x85, &taglen);
 	if (tag != NULL && taglen) {

