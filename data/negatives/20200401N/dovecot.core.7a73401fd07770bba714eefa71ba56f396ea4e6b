commit 7a73401fd07770bba714eefa71ba56f396ea4e6b
Author: Timo Sirainen <timo.sirainen@dovecot.fi>
Date:   Fri Nov 25 00:17:45 2016 +0200

    lib-index: Compiler warning fix

diff --git a/src/lib-index/mail-transaction-log.c b/src/lib-index/mail-transaction-log.c
index 484900bc5..39c19523c 100644
--- a/src/lib-index/mail-transaction-log.c
+++ b/src/lib-index/mail-transaction-log.c
@@ -51,7 +51,7 @@ static void mail_transaction_log_2_unlink_old(struct mail_transaction_log *log)
 		return;
 	}
 
-	if (st.st_mtime + log->index->log_rotate_log2_stale_secs <= ioloop_time &&
+	if (ioloop_time - st.st_mtime >= (time_t)log->index->log_rotate_log2_stale_secs &&
 	    !log->index->readonly)
 		i_unlink_if_exists(log->filepath2);
 }

