commit dbdc46c97a32c53d41a19908aa365e7d81025c3e
Author: wm4 <wm4@nowhere>
Date:   Tue Jun 16 23:07:46 2015 +0200

    player: do not exit when a seek gets queued
    
    Seems logical.
    
    Note that if playback otherwise ends while playback is active and a seek
    is still queued, we still exit. Otherwise you couldn't end playback by
    seeking past the end of the file (which is classic MPlayer and mpv
    behavior).

diff --git a/player/playloop.c b/player/playloop.c
index 4f42b17e97..03be7df80a 100644
--- a/player/playloop.c
+++ b/player/playloop.c
@@ -303,6 +303,10 @@ void queue_seek(struct MPContext *mpctx, enum seek_type type, double amount,
                 enum seek_precision exact, bool immediate)
 {
     struct seek_params *seek = &mpctx->seek;
+
+    if (mpctx->stop_play == AT_END_OF_FILE)
+        mpctx->stop_play = KEEP_PLAYING;
+
     switch (type) {
     case MPSEEK_RELATIVE:
         seek->immediate |= immediate;

