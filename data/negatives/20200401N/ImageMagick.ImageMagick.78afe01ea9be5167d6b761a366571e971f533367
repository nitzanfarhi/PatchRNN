commit 78afe01ea9be5167d6b761a366571e971f533367
Author: cristy <urban-warrior@git.imagemagick.org>
Date:   Fri Aug 3 23:46:41 2012 +0000

diff --git a/MagickCore/geometry.c b/MagickCore/geometry.c
index 2f8d9c535..cb87ac15d 100644
--- a/MagickCore/geometry.c
+++ b/MagickCore/geometry.c
@@ -1447,7 +1447,8 @@ MagickExport MagickStatusType ParsePageGeometry(const Image *image,
     }
   flags=ParseMetaGeometry(geometry,&region_info->x,&region_info->y,
     &region_info->width,&region_info->height);
-  if (((flags & PercentValue) != 0) || ((flags & SeparatorValue) == 0))
+  if ((((flags & WidthValue) != 0) || ((flags & HeightValue) != 0)) &&
+      (((flags & PercentValue) != 0) || ((flags & SeparatorValue) == 0)))
     {
       if ((flags & WidthValue) == 0)
         region_info->width=region_info->height;

