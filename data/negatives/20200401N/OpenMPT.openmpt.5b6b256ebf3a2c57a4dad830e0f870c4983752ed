commit 5b6b256ebf3a2c57a4dad830e0f870c4983752ed
Author: Johannes Schultz <saga-games@users.sourceforge.net>
Date:   Sat Mar 9 22:44:19 2013 +0000

    [Imp] Mod Playback: Tremolo is also affected by this first tick idiosyncrasy...
    
    git-svn-id: https://source.openmpt.org/svn/openmpt/trunk/OpenMPT@1556 56274372-70c3-4bfc-bfc3-4c3a0b034d27

diff --git a/soundlib/Sndmix.cpp b/soundlib/Sndmix.cpp
index 2f5923261..49f5c19b2 100644
--- a/soundlib/Sndmix.cpp
+++ b/soundlib/Sndmix.cpp
@@ -1006,6 +1006,13 @@ void CSoundFile::ProcessTremolo(ModChannel *pChn, int &vol)
 {
 	if (pChn->dwFlags[CHN_TREMOLO])
 	{
+		if(m_SongFlags.test_all(SONG_FIRSTTICK | SONG_PT1XMODE))
+		{
+			// ProTracker doesn't apply tremolo nor advance on the first tick.
+			// Test case: VibratoReset.mod
+			return;
+		}
+
 		UINT trempos = pChn->nTremoloPos;
 		// IT compatibility: Why would you not want to execute tremolo at volume 0?
 		if(vol > 0 || IsCompatibleMode(TRK_IMPULSETRACKER))

