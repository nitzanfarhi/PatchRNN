commit 529bdd94f4a2c6329f33623b8a70b51f3e60289f
Author: Karel Zak <kzak@redhat.com>
Date:   Mon Jul 16 14:41:28 2007 +0200

    login-utils: remove unwanted newlines from wall
    
    Prevent wall from adding an empty newline to every new line.
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

diff --git a/login-utils/wall.c b/login-utils/wall.c
index 2797f4651..c9893d7e4 100644
--- a/login-utils/wall.c
+++ b/login-utils/wall.c
@@ -221,7 +221,8 @@ makemsg(fname)
 				putc('\n', fp);
 				cnt = 0;
 			}
-			carefulputc(ch, fp);
+			if (ch != '\n')
+				carefulputc(ch, fp);
 		}
 	}
 	fprintf(fp, "%79s\r\n", " ");

