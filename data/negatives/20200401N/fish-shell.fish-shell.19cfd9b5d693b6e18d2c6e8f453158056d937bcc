commit 19cfd9b5d693b6e18d2c6e8f453158056d937bcc
Author: ridiculousfish <corydoras@ridiculousfish.com>
Date:   Thu Feb 9 01:54:46 2012 -0800

    Fix for pager regression

diff --git a/fish_pager.cpp b/fish_pager.cpp
index 3881a708..06273e75 100644
--- a/fish_pager.cpp
+++ b/fish_pager.cpp
@@ -943,7 +943,7 @@ static std::vector<comp_t *> mangle_completions( wcstring_list_t &lst, const wch
 			
 			if( (c == COMPLETE_ITEM_SEP) || (c==COMPLETE_SEP) || !c)
 			{
-                wcstring start2 = wcstring(start, end - start);
+                wcstring start2 = wcstring(next, start, end - start);
                 wcstring str = escape_string(start2, ESCAPE_ALL | ESCAPE_NO_QUOTED);
 				comp->comp_width += my_wcswidth( str.c_str() );
 				comp->comp.push_back(str);

