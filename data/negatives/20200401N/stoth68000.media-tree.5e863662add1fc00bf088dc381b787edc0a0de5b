commit 5e863662add1fc00bf088dc381b787edc0a0de5b
Author: Johan Rudholm <johan.rudholm@axis.com>
Date:   Fri May 23 16:15:03 2014 +0200

    mmc: sd: warn if card stays busy during init
    
    The initialization of some SD-cards fails because the card never
    leaves the busy state. Aid trouble shooting by indicating this in the
    kernel log.
    
    Signed-off-by: Johan Rudholm <johanru@axis.com>
    Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>

diff --git a/drivers/mmc/core/sd_ops.c b/drivers/mmc/core/sd_ops.c
index 274ef00b4463..48d0c93ba25a 100644
--- a/drivers/mmc/core/sd_ops.c
+++ b/drivers/mmc/core/sd_ops.c
@@ -184,6 +184,9 @@ int mmc_send_app_op_cond(struct mmc_host *host, u32 ocr, u32 *rocr)
 		mmc_delay(10);
 	}
 
+	if (!i)
+		pr_err("%s: card never left busy state\n", mmc_hostname(host));
+
 	if (rocr && !mmc_host_is_spi(host))
 		*rocr = cmd.resp[0];
 

