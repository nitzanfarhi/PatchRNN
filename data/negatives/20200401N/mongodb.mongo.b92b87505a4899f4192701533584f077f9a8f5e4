commit b92b87505a4899f4192701533584f077f9a8f5e4
Author: Brandon Diamond <brandon@10gen.com>
Date:   Tue Oct 25 16:00:04 2011 -0400

    SERVER-4132: shell prompt now includes repset name

diff --git a/shell/dbshell.cpp b/shell/dbshell.cpp
index e420e233c6..a1768e433f 100644
--- a/shell/dbshell.cpp
+++ b/shell/dbshell.cpp
@@ -549,9 +549,12 @@ string sayReplSetMemberState() {
             if( latestConn->runCommand("admin", BSON( "replSetGetStatus" << 1 << "forShell" << 1 ) , info ) ) {
                 stringstream ss;
                 ss << info["set"].String() << ':';
+                
                 int s = info["myState"].Int();
                 MemberState ms(s);
-                return ms.toString();
+                ss << ms.toString();
+
+                return ss.str();
             }
             else {
                 string s = info.getStringField("info");

