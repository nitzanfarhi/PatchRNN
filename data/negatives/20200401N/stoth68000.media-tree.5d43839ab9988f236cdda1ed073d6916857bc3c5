commit 5d43839ab9988f236cdda1ed073d6916857bc3c5
Author: Kristoffer Ericson <kristoffer.ericson@gmail.com>
Date:   Tue Oct 21 19:47:22 2008 +0100

    [ARM] 5315/1: Fix section mismatch warning (sa1111)
    
    This patch fixes the section mismatch warning from
    sa1111.o at buildtime.
    
      CC      arch/arm/common/sa1111.o
      LD      arch/arm/common/built-in.o
      LD      vmlinux.o
      MODPOST vmlinux.o
    WARNING: vmlinux.o(.text+0x87f4): Section mismatch in reference from the function sa1111_probe() to the function .devinit.text:sa1110_mb_enable()
    The function sa1111_probe() references
    the function __devinit sa1110_mb_enable().
    This is often because sa1111_probe lacks a __devinit
    annotation or the annotation of sa1110_mb_enable is wrong.
    
    Signed-off-by: Kristoffer Ericson <kristoffer.ericson@gmail.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

diff --git a/arch/arm/common/sa1111.c b/arch/arm/common/sa1111.c
index 6094c34d9bae..47ccec95f3e8 100644
--- a/arch/arm/common/sa1111.c
+++ b/arch/arm/common/sa1111.c
@@ -939,7 +939,7 @@ static int sa1111_resume(struct platform_device *dev)
 #define sa1111_resume  NULL
 #endif
 
-static int sa1111_probe(struct platform_device *pdev)
+static int __devinit sa1111_probe(struct platform_device *pdev)
 {
 	struct resource *mem;
 	int irq;

