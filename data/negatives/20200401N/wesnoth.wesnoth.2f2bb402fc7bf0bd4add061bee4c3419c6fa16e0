commit 2f2bb402fc7bf0bd4add061bee4c3419c6fa16e0
Author: Dave White <davewx7@gmail.com>
Date:   Tue Oct 21 21:47:55 2003 +0000

    fixed bug with cycling through enemy units

diff --git a/src/playturn.cpp b/src/playturn.cpp
index f1a07fd2df..4180e97d66 100644
--- a/src/playturn.cpp
+++ b/src/playturn.cpp
@@ -895,7 +895,8 @@ bool turn_slice(game_data& gameinfo, game_state& state_of_game,
 		unit_map::const_iterator it = units.find(next_unit);
 		if(it != units.end()) {
 			for(++it; it != units.end(); ++it) {
-				if(unit_can_move(it->first,units,map,teams)) {
+				if(it->second.side() == team_num &&
+				   unit_can_move(it->first,units,map,teams)) {
 					break;
 				}
 			}
@@ -903,7 +904,8 @@ bool turn_slice(game_data& gameinfo, game_state& state_of_game,
 
 		if(it == units.end()) {
 			for(it = units.begin(); it != units.end(); ++it) {
-				if(unit_can_move(it->first,units,map,teams)) {
+				if(it->second.side() == team_num &&
+				   unit_can_move(it->first,units,map,teams)) {
 					break;
 				}
 			}

