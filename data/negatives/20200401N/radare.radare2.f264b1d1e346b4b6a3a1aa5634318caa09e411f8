commit f264b1d1e346b4b6a3a1aa5634318caa09e411f8
Author: pancake <pancake@nopcode.org>
Date:   Wed Dec 16 15:30:13 2015 +0100

    Fix pdf on folded function issue

diff --git a/libr/core/disasm.c b/libr/core/disasm.c
index bdf82deab..544632fa3 100644
--- a/libr/core/disasm.c
+++ b/libr/core/disasm.c
@@ -2337,7 +2337,6 @@ R_API int r_core_print_disasm(RPrint *p, RCore *core, ut64 addr, ut8 *buf, int l
 		core->anal->cur->reset_counter (core->anal, addr);
 	}
 
-
 	handle_reflines_init (core->anal, ds);
 	core->inc = 0;
 	/* reset jmp table if not asked to keep it */
@@ -2406,6 +2405,9 @@ toro:
 				inc = 0; //delta;
 				idx = 0;
 				of = f;
+				if (len == l) {
+					break;
+				}
 				continue;
 			} else {
 				ds->lines--;

