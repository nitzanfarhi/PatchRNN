commit 608aa112aa7d94a1720c909747dcd0b61c079453
Author: Timo Sirainen <tss@iki.fi>
Date:   Thu Jun 12 13:16:08 2008 +0300

    Quota: If quota root has unwanted parameters, log an error and die.
    
    --HG--
    branch : HEAD

diff --git a/src/plugins/quota/quota.c b/src/plugins/quota/quota.c
index 2470ba007..dcebdce3b 100644
--- a/src/plugins/quota/quota.c
+++ b/src/plugins/quota/quota.c
@@ -142,6 +142,13 @@ struct quota_root *quota_root_init(struct quota *quota, const char *root_def)
 			quota_root_deinit(&root);
 			return NULL;
 		}
+	} else if (args != NULL) {
+		while (*args == ' ') args++;
+		if (*args != '\0') {
+			i_fatal("Quota root %s: backend %s "
+				"doesn't take any parameters (used: %s)",
+				root->name, backend_name, args);
+		}
 	}
 	return root;
 }

