commit abfe6784c58679eef1585b3cb20f04dce13babdd
Author: Vasil Dimov <vasil.dimov@oracle.com>
Date:   Mon May 25 16:45:58 2015 +0300

    Skip too big index ids
    
    The mtr test innodb.file_format_upgrade_16k triggers an assertion due to
    reading a page (space_id=23, page_no=0) with page_type == FIL_PAGE_INDEX
    and having btr_page_get_index_id(frame) == 0xFFFFFFFF0000FFFF (the value
    is a non-deterministic garbage).
    
    WL#7170 InnoDB buffer estimates for tables and indexes

diff --git a/storage/innobase/include/buf0stats.h b/storage/innobase/include/buf0stats.h
index db2dbed961e..f82148705c8 100644
--- a/storage/innobase/include/buf0stats.h
+++ b/storage/innobase/include/buf0stats.h
@@ -129,7 +129,8 @@ private:
 		const bool	is_temp
 			= id.m_space_id == srv_tmp_space.space_id();
 
-		return(is_ibuf || is_temp);
+		return(is_ibuf || is_temp
+		       || (id.m_index_id & 0xFFFFFFFF00000000ULL) != 0);
 	}
 
 	/** (key, value) storage. */

