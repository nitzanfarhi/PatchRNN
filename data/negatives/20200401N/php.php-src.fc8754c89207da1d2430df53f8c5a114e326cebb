commit fc8754c89207da1d2430df53f8c5a114e326cebb
Author: Marcus Boerger <helly@php.net>
Date:   Sat Jan 27 21:24:28 2007 +0000

    - Dropped one line by accident

diff --git a/ext/phar/phar.c b/ext/phar/phar.c
index 4663d289fc..53d9d23951 100644
--- a/ext/phar/phar.c
+++ b/ext/phar/phar.c
@@ -295,6 +295,7 @@ static int phar_get_entry_data(phar_entry_data **ret, char *fname, int fname_len
 			if (entry->fp) {
 				/* make a copy */
 				if (for_trunc) {
+					php_stream_truncate_set_size(entry->fp, 0);
 					entry->is_modified = 1;
 					phar->is_modified = 1;
 					/* reset file size */

