commit 6599c523527c4679148acf62635f9846e133a898
Author: Sebastien Helleu <flashcode@flashtux.org>
Date:   Mon May 29 22:42:07 2006 +0000

    Fixed /perl command output when no keyboard handler is defined

diff --git a/src/plugins/scripts/perl/weechat-perl.c b/src/plugins/scripts/perl/weechat-perl.c
index d8cb85e14..0b717b9ec 100644
--- a/src/plugins/scripts/perl/weechat-perl.c
+++ b/src/plugins/scripts/perl/weechat-perl.c
@@ -1679,6 +1679,8 @@ weechat_perl_cmd (t_weechat_plugin *plugin,
                                           ptr_handler->handler_args);
                 }
             }
+            if (!handler_found)
+                plugin->print_server (plugin, "  (none)");
             break;
         case 1:
             if (plugin->ascii_strcasecmp (plugin, argv[0], "autoload") == 0)
diff --git a/weechat/src/plugins/scripts/perl/weechat-perl.c b/weechat/src/plugins/scripts/perl/weechat-perl.c
index d8cb85e14..0b717b9ec 100644
--- a/weechat/src/plugins/scripts/perl/weechat-perl.c
+++ b/weechat/src/plugins/scripts/perl/weechat-perl.c
@@ -1679,6 +1679,8 @@ weechat_perl_cmd (t_weechat_plugin *plugin,
                                           ptr_handler->handler_args);
                 }
             }
+            if (!handler_found)
+                plugin->print_server (plugin, "  (none)");
             break;
         case 1:
             if (plugin->ascii_strcasecmp (plugin, argv[0], "autoload") == 0)

