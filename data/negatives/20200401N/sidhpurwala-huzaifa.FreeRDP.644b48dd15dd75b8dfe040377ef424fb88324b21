commit 644b48dd15dd75b8dfe040377ef424fb88324b21
Author: C-o-r-E <can.of.tuna@gmail.com>
Date:   Sat Jul 28 20:14:47 2012 -0400

    libfreerdp-core: added debug output

diff --git a/libfreerdp-core/timezone.c b/libfreerdp-core/timezone.c
index b09d5197..4291064d 100644
--- a/libfreerdp-core/timezone.c
+++ b/libfreerdp-core/timezone.c
@@ -133,7 +133,10 @@ void rdp_write_client_time_zone(STREAM* s, rdpSettings* settings)
 
 	/* UTC = LocalTime + Bias <-> Bias = UTC - LocalTime */
 
+	printf("std=%u\nday=%u\n",clientTimeZone->standardBias, clientTimeZone->daylightBias);
+
 	bias = 1440 - clientTimeZone->bias;
+	printf("send bias %u\n", bias);
 	stream_write_uint32(s, bias); /* Bias */
 
 	/* standardName (64 bytes) */
@@ -148,7 +151,7 @@ void rdp_write_client_time_zone(STREAM* s, rdpSettings* settings)
 		bias2c = (uint32) sbias;
 	else
 		bias2c = ~((uint32) sbias) + 1;
-
+	printf("send bias2c %08X\n", bias2c);
 	stream_write_uint32(s, bias2c); /* StandardBias */
 
 	/* daylightName (64 bytes) */
@@ -163,7 +166,7 @@ void rdp_write_client_time_zone(STREAM* s, rdpSettings* settings)
 		bias2c = (uint32) sbias;
 	else
 		bias2c = ~((uint32) sbias) + 1;
-
+	printf("send bias2c %08X\n", bias2c);
 	stream_write_uint32(s, bias2c); /* DaylightBias */
 
 	xfree(standardName);
diff --git a/libfreerdp-locale/timezone.c b/libfreerdp-locale/timezone.c
index 93732bfd..e557a3dd 100644
--- a/libfreerdp-locale/timezone.c
+++ b/libfreerdp-locale/timezone.c
@@ -1681,6 +1681,7 @@ void freerdp_time_zone_detect(TIME_ZONE_INFO* clientTimeZone)
 
 	if (tz!= NULL)
 	{
+		printf("%u, %s, %s\n", tz->Bias,tz->StandardName ,tz->DaylightName);
 		clientTimeZone->bias = tz->Bias;
 		sprintf(clientTimeZone->standardName, "%s", tz->StandardName);
 		sprintf(clientTimeZone->daylightName, "%s", tz->DaylightName);

