commit 8e90772dfb93767aa1b76a93da636f5d2ce06f06
Author: Dridi Boukelmoune <dridi.boukelmoune@gmail.com>
Date:   Tue Feb 23 16:22:34 2016 +0100

    Allow ACLs to be used outside of transactions

diff --git a/bin/varnishd/cache/cache_vrt.c b/bin/varnishd/cache/cache_vrt.c
index 50a723288..2bb697c51 100644
--- a/bin/varnishd/cache/cache_vrt.c
+++ b/bin/varnishd/cache/cache_vrt.c
@@ -67,7 +67,11 @@ VRT_acl_log(VRT_CTX, const char *msg)
 {
 
 	CHECK_OBJ_NOTNULL(ctx, VRT_CTX_MAGIC);
-	VSLb(ctx->vsl, SLT_VCL_acl, "%s", msg);
+	AN(msg);
+	if (ctx->vsl != NULL)
+		VSLb(ctx->vsl, SLT_VCL_acl, "%s", msg);
+	else
+		VSL(SLT_VCL_acl, 0, "%s", msg);
 }
 
 /*--------------------------------------------------------------------*/

