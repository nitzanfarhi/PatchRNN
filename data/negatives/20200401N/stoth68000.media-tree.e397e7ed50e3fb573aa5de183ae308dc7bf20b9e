commit e397e7ed50e3fb573aa5de183ae308dc7bf20b9e
Author: Antonio Ospite <ospite@studenti.unina.it>
Date:   Thu Aug 6 16:08:52 2009 -0700

    regulator: register pcap earlier
    
    Register pcap-regulator earlier so it can be used with cpufreq
    
    Signed-off-by: Daniel Ribeiro <drwyrm@gmail.com>
    Acked-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>

diff --git a/drivers/regulator/pcap-regulator.c b/drivers/regulator/pcap-regulator.c
index fdb90940ef0f..137b455ecb44 100644
--- a/drivers/regulator/pcap-regulator.c
+++ b/drivers/regulator/pcap-regulator.c
@@ -310,7 +310,7 @@ static void __exit pcap_regulator_exit(void)
 	platform_driver_unregister(&pcap_regulator_driver);
 }
 
-module_init(pcap_regulator_init);
+subsys_initcall(pcap_regulator_init);
 module_exit(pcap_regulator_exit);
 
 MODULE_AUTHOR("Daniel Ribeiro <drwyrm@gmail.com>");

