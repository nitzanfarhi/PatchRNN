commit 059314e8f39ca4bb369898d8ed1ab61a3e1d796e
Author: roberto@maverick64 <roberto@maverick64>
Date:   Sat Jan 8 09:47:26 2011 +0100

    fixed uwsgi_rawlog

diff --git a/uwsgi.h b/uwsgi.h
index 1ec859eb..627c6c65 100644
--- a/uwsgi.h
+++ b/uwsgi.h
@@ -8,7 +8,7 @@
 
 #define uwsgi_error(x)  uwsgi_log("%s: %s [%s line %d]\n", x, strerror(errno), __FILE__, __LINE__);
 #define uwsgi_debug(x, ...) uwsgi_log("[uWSGI DEBUG] " x, __VA_ARGS__);
-#define uwsgi_rawlog(x) write(2, x, strlen(x))
+#define uwsgi_rawlog(x) if (write(2, x, strlen(x)) != strlen(x)) uwsgi_error("write()")
 
 #define wsgi_req_time ((wsgi_req->end_of_request.tv_sec * 1000000 + wsgi_req->end_of_request.tv_usec) - (wsgi_req->start_of_request.tv_sec * 1000000 + wsgi_req->start_of_request.tv_usec))/1000
 

