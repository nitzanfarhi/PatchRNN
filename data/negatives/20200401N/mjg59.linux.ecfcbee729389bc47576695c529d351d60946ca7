commit ecfcbee729389bc47576695c529d351d60946ca7
Author: Roel Kluin <roel.kluin@gmail.com>
Date:   Wed Dec 9 12:34:16 2009 -0800

    hvc_console: fix test on unsigned in hvc_console_print()
    
    vtermnos[] is unsigned, so this test was wrong.
    
    Signed-off-by: Roel Kluin <roel.kluin@gmail.com>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Hendrik Brueckner <brueckner@linux.vnet.ibm.com>
    Cc: Christian Borntraeger <borntraeger@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/drivers/char/hvc_console.c b/drivers/char/hvc_console.c
index 4c3b59be286a..465185fc0f52 100644
--- a/drivers/char/hvc_console.c
+++ b/drivers/char/hvc_console.c
@@ -146,7 +146,7 @@ static void hvc_console_print(struct console *co, const char *b,
 		return;
 
 	/* This console adapter was removed so it is not usable. */
-	if (vtermnos[index] < 0)
+	if (vtermnos[index] == -1)
 		return;
 
 	while (count > 0 || i > 0) {

