commit 73348ab0e271bf2e12b9707a8b27028c052e3ec0
Author: Anders Brander <anders@brander.dk>
Date:   Tue May 23 21:59:17 2006 +0000

    Added some errorchecking in rs_set_warmth_auto().

diff --git a/src/rawstudio.c b/src/rawstudio.c
index d67305d4..50205e43 100644
--- a/src/rawstudio.c
+++ b/src/rawstudio.c
@@ -1217,6 +1217,8 @@ rs_set_warmth_auto(RS_BLOB *rs)
 	gdouble dsum[8], dmax;
 	gfloat tint, warmth;
 
+	if(unlikely(!rs->in_use)) return;
+
 	for (row=0; row < rs->input->h-7; row += 8)
 		for (col=0; col < rs->input->w-7; col += 8)
 		{

