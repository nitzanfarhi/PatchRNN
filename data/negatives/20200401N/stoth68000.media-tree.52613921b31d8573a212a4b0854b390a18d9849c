commit 52613921b31d8573a212a4b0854b390a18d9849c
Author: Ville Syrj채l채 <ville.syrjala@linux.intel.com>
Date:   Mon Jun 29 20:28:35 2015 +0300

    Revert "drm/i915: Allocate context objects from stolen"
    
    Stolen gets trashed during hibernation, so storing contexts there
    is not a very good idea. On my IVB machines this leads to a totally
    dead GPU on resume. A reboot is required to resurrect it. So let's
    not store contexts where they will get trampled.
    
    This reverts commit 149c86e74fe44dcbac5e9f8d145c5fbc5dc21261.
    
    Cc: Chris Wilson <chris@chris-wilson.co.uk>
    Signed-off-by: Ville Syrj채l채 <ville.syrjala@linux.intel.com>
    Acked-by: Chris Wilson <chris@chris-wilson.co.uk>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

diff --git a/drivers/gpu/drm/i915/i915_gem_context.c b/drivers/gpu/drm/i915/i915_gem_context.c
index 8867818b1401..d65cbe6afb92 100644
--- a/drivers/gpu/drm/i915/i915_gem_context.c
+++ b/drivers/gpu/drm/i915/i915_gem_context.c
@@ -157,9 +157,7 @@ i915_gem_alloc_context_obj(struct drm_device *dev, size_t size)
 	struct drm_i915_gem_object *obj;
 	int ret;
 
-	obj = i915_gem_object_create_stolen(dev, size);
-	if (obj == NULL)
-		obj = i915_gem_alloc_object(dev, size);
+	obj = i915_gem_alloc_object(dev, size);
 	if (obj == NULL)
 		return ERR_PTR(-ENOMEM);
 

