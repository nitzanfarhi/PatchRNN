commit 8231abfe55bbb06bda4caa55096900da84801f1a
Author: Alexey Sokolov <alexey@asokolov.org>
Date:   Fri Jun 1 09:39:17 2012 +0700

    Check for all module types on startup.
    
    Instead of only global ones.

diff --git a/src/main.cpp b/src/main.cpp
index 359b34b2..f8189b1c 100644
--- a/src/main.cpp
+++ b/src/main.cpp
@@ -207,9 +207,13 @@ int main(int argc, char** argv) {
 
 	{
 		set<CModInfo> ssGlobalMods;
+		set<CModInfo> ssUserMods;
+		set<CModInfo> ssNetworkMods;
 		CUtils::PrintAction("Checking for list of available modules");
 		pZNC->GetModules().GetAvailableMods(ssGlobalMods, CModInfo::GlobalModule);
-		if (ssGlobalMods.empty()) {
+		pZNC->GetModules().GetAvailableMods(ssUserMods, CModInfo::UserModule);
+		pZNC->GetModules().GetAvailableMods(ssNetworkMods, CModInfo::NetworkModule);
+		if (ssGlobalMods.empty() && ssUserMods.empty() && ssNetworkMods.empty()) {
 			CUtils::PrintStatus(false, "");
 			CUtils::PrintError("No modules found. Perhaps you didn't install ZNC properly?");
 			CUtils::PrintError("Read http://wiki.znc.in/Installation for instructions.");

