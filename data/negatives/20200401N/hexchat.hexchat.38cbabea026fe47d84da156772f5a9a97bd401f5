commit 38cbabea026fe47d84da156772f5a9a97bd401f5
Author: TingPing <tingping@tingping.se>
Date:   Sat Jan 18 21:48:41 2014 -0500

    Revert GtkObject removal until Gtk3

diff --git a/src/fe-gtk/xtext.c b/src/fe-gtk/xtext.c
index 579ba9b5..da5a18aa 100644
--- a/src/fe-gtk/xtext.c
+++ b/src/fe-gtk/xtext.c
@@ -518,7 +518,7 @@ gtk_xtext_new (GdkColor palette[], int separator)
 }
 
 static void
-gtk_xtext_destroy (GObject * object)
+gtk_xtext_destroy (GtkObject * object)
 {
 	GtkXText *xtext = GTK_XTEXT (object);
 
@@ -2155,7 +2155,7 @@ gtk_xtext_scroll (GtkWidget *widget, GdkEventScroll *event)
 static void
 gtk_xtext_class_init (GtkXTextClass * class)
 {
-	GObjectClass *object_class;
+	GtkObjectClass *object_class;
 	GtkWidgetClass *widget_class;
 	GtkXTextClass *xtext_class;
 
@@ -2163,7 +2163,7 @@ gtk_xtext_class_init (GtkXTextClass * class)
 	widget_class = (GtkWidgetClass *) class;
 	xtext_class = (GtkXTextClass *) class;
 
-	parent_class = g_type_class_peek (g_object_get_type ());
+	parent_class = g_type_class_peek (gtk_widget_get_type ());
 
 	xtext_signals[WORD_CLICK] =
 		g_signal_new ("word_click",
@@ -2174,7 +2174,7 @@ gtk_xtext_class_init (GtkXTextClass * class)
 							gtk_marshal_VOID__POINTER_POINTER,
 							G_TYPE_NONE,
 							2, G_TYPE_POINTER, G_TYPE_POINTER);
-	object_class->dispose = gtk_xtext_destroy;
+	object_class->destroy = gtk_xtext_destroy;
 
 	widget_class->realize = gtk_xtext_realize;
 	widget_class->unrealize = gtk_xtext_unrealize;

