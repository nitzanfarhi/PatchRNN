commit 9b2dd8a43e413a13db707587893ff8b39940f047
Author: Fabio M. Di Nitto <fdinitto@redhat.com>
Date:   Mon Apr 20 07:08:42 2009 +0000

    readd early log level check for performance reasons.
    
    
    
    git-svn-id: http://svn.fedorahosted.org/svn/corosync/trunk@2093 fd59a12c-fef9-0310-b244-a6a79926bd2f

diff --git a/exec/logsys.c b/exec/logsys.c
index b3a9533e..f052b1c8 100644
--- a/exec/logsys.c
+++ b/exec/logsys.c
@@ -1077,6 +1077,11 @@ void _logsys_log_printf (
 		subsysid = LOGSYS_MAX_SUBSYS_COUNT;
 	}
 
+	if ((level > logsys_loggers[subsysid].syslog_priority) &&
+	    (level > logsys_loggers[subsysid].logfile_priority)) {
+		return;
+	}
+
 	va_start (ap, format);
 	len = vsprintf (logsys_print_buffer, format, ap);
 	va_end (ap);

