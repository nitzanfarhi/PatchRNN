commit 39ee453ec3b2620452d90b701c440311848c5d49
Author: Bogdan-Andrei Iancu <bogdan@voice-system.ro>
Date:   Mon Oct 18 12:40:37 2004 +0000

    - fixup in search_next function

diff --git a/usr_avp.c b/usr_avp.c
index eda218a28..00f4ec460 100644
--- a/usr_avp.c
+++ b/usr_avp.c
@@ -260,11 +260,11 @@ struct usr_avp *search_first_avp( unsigned short name_type,
 
 struct usr_avp *search_next_avp( struct usr_avp *avp,  int_str *val )
 {
-	if (avp==0 || (avp=avp->next)==0)
+	if (avp==0 || avp->next==0)
 		return 0;
 
 	if (avp->flags&AVP_NAME_STR)
-		avp = internal_search_name_avp( avp, avp->id, get_avp_name(avp));
+		avp = internal_search_name_avp( avp->next, avp->id, get_avp_name(avp));
 	else
 		avp = internal_search_ID_avp( avp, avp->id );
 

