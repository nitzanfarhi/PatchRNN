commit 9ce5ea020fcc3a79ac1f1a008e177391b703c7c7
Author: Antony Dovgal <tony2001@php.net>
Date:   Tue Jul 29 10:42:59 2008 +0000

    MFH: fix copy/paste error (patch by Mikko)

diff --git a/ext/curl/interface.c b/ext/curl/interface.c
index e5e5d122ec..d68f85bf43 100644
--- a/ext/curl/interface.c
+++ b/ext/curl/interface.c
@@ -1421,7 +1421,7 @@ static int _php_curl_setopt(php_curl *ch, long option, zval **zvalue, zval *retu
 		case CURLOPT_READFUNCTION:
 			if (ch->handlers->read->func_name) {
 				zval_ptr_dtor(&ch->handlers->read->func_name);
-				ch->handlers->write->fci_cache = empty_fcall_info_cache;
+				ch->handlers->read->fci_cache = empty_fcall_info_cache;
 			}
 			zval_add_ref(zvalue);
 			ch->handlers->read->func_name = *zvalue;
@@ -1430,7 +1430,7 @@ static int _php_curl_setopt(php_curl *ch, long option, zval **zvalue, zval *retu
 		case CURLOPT_HEADERFUNCTION:
 			if (ch->handlers->write_header->func_name) {
 				zval_ptr_dtor(&ch->handlers->write_header->func_name);
-				ch->handlers->write->fci_cache = empty_fcall_info_cache;
+				ch->handlers->write_header->fci_cache = empty_fcall_info_cache;
 			}
 			zval_add_ref(zvalue);
 			ch->handlers->write_header->func_name = *zvalue;

