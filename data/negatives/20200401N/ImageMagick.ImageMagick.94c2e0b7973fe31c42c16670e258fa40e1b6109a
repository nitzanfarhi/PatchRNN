commit 94c2e0b7973fe31c42c16670e258fa40e1b6109a
Author: dirk <dirk@git.imagemagick.org>
Date:   Sun May 29 08:15:20 2016 +0200

    Added check for invalid number of frames.

diff --git a/coders/mat.c b/coders/mat.c
index 462bd530e..7987dd0e8 100644
--- a/coders/mat.c
+++ b/coders/mat.c
@@ -939,7 +939,9 @@ MATLAB_KO: ThrowReaderException(CorruptImageError,"ImproperImageHeader");
       case 16: z2=z = ReadBlobXXXLong(image2);  /* 4D matrix animation */
          if(z!=3 && z!=1)
             ThrowReaderException(CoderError, "MultidimensionalMatricesAreNotSupported");
-           Frames = ReadBlobXXXLong(image2);
+         Frames = ReadBlobXXXLong(image2);
+         if (Frames == 0)
+           ThrowReaderException(CorruptImageError,"ImproperImageHeader");
          break;
       default: ThrowReaderException(CoderError, "MultidimensionalMatricesAreNotSupported");
     }

