commit 47f44671c0dc92e2b77ff3dd843f742d12510477
Author: Brian Niebuhr <bniebuhr@efjohnson.com>
Date:   Mon Aug 23 16:34:13 2010 +0530

    spi: davinci: remove unnecessary completion variable initialization
    
    The completion variable 'done' is unnecessarly initialized by
    the function davinci_spi_bufs_dma() where as it is not used
    for DMA transfers at all.
    
    Remove the unnecessary initialization.
    
    Signed-off-by: Brian Niebuhr <bniebuhr@efjohnson.com>
    Tested-By: Michael Williamson <michael.williamson@criticallink.com>
    Signed-off-by: Sekhar Nori <nsekhar@ti.com>

diff --git a/drivers/spi/davinci_spi.c b/drivers/spi/davinci_spi.c
index a60a65c690de..54d06f409b65 100644
--- a/drivers/spi/davinci_spi.c
+++ b/drivers/spi/davinci_spi.c
@@ -750,8 +750,6 @@ static int davinci_spi_bufs_dma(struct spi_device *spi, struct spi_transfer *t)
 
 	data1_reg_val = ioread32(davinci_spi->base + SPIDAT1);
 
-	INIT_COMPLETION(davinci_spi->done);
-
 	init_completion(&davinci_spi_dma->dma_rx_completion);
 	init_completion(&davinci_spi_dma->dma_tx_completion);
 

