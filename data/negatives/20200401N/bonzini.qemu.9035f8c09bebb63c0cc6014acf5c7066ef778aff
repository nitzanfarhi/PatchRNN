commit 9035f8c09bebb63c0cc6014acf5c7066ef778aff
Author: Alex Williamson <alex.williamson@redhat.com>
Date:   Mon Jun 30 09:50:33 2014 -0600

    vfio-pci: Fix MSI/X debug code
    
    Use the correct MSI message function for debug info.
    
    Signed-off-by: Alex Williamson <alex.williamson@redhat.com>

diff --git a/hw/misc/vfio.c b/hw/misc/vfio.c
index 7b279c4f05..4975ccf22c 100644
--- a/hw/misc/vfio.c
+++ b/hw/misc/vfio.c
@@ -642,9 +642,9 @@ static void vfio_msi_interrupt(void *opaque)
     MSIMessage msg;
 
     if (vdev->interrupt == VFIO_INT_MSIX) {
-        msg = msi_get_message(&vdev->pdev, nr);
-    } else if (vdev->interrupt == VFIO_INT_MSI) {
         msg = msix_get_message(&vdev->pdev, nr);
+    } else if (vdev->interrupt == VFIO_INT_MSI) {
+        msg = msi_get_message(&vdev->pdev, nr);
     } else {
         abort();
     }

