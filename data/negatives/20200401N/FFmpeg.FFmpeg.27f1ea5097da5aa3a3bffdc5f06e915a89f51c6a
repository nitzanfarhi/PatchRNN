commit 27f1ea5097da5aa3a3bffdc5f06e915a89f51c6a
Author: Matthieu Bouron <matthieu.bouron@stupeflix.com>
Date:   Wed Jan 27 21:59:14 2016 +0100

    lavc/mjpegdec: use ptrdiff_t instead of ssize_t
    
    Fixes build on msvc.

diff --git a/libavcodec/mjpegdec.c b/libavcodec/mjpegdec.c
index 0aedc9dae7..69c9cf3626 100644
--- a/libavcodec/mjpegdec.c
+++ b/libavcodec/mjpegdec.c
@@ -1925,7 +1925,7 @@ int ff_mjpeg_find_marker(MJpegDecodeContext *s,
         uint8_t *dst = s->buffer;
 
         #define copy_data_segment(skip) do {       \
-            ssize_t length = (ptr - src) - (skip); \
+            ptrdiff_t length = (ptr - src) - (skip);  \
             if (length > 0) {                         \
                 memcpy(dst, src, length);             \
                 dst += length;                        \
@@ -1941,7 +1941,7 @@ int ff_mjpeg_find_marker(MJpegDecodeContext *s,
                 uint8_t x = *(ptr++);
 
                 if (x == 0xff) {
-                    ssize_t skip = 0;
+                    ptrdiff_t skip = 0;
                     while (ptr < buf_end && x == 0xff) {
                         x = *(ptr++);
                         skip++;

