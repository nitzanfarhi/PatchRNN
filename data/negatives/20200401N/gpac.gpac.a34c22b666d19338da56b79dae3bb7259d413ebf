commit a34c22b666d19338da56b79dae3bb7259d413ebf
Author: Jean Le Feuvre <jeanlf@users.sourceforge.net>
Date:   Fri Aug 1 11:33:56 2014 +0000

    Fixed time wraping bug in InitialTSOffset of dash context
    
    git-svn-id: http://svn.code.sf.net/p/gpac/code/trunk/gpac@5334 63c20433-aa62-49bd-875c-5a186b69a8fb

diff --git a/src/media_tools/dash_segmenter.c b/src/media_tools/dash_segmenter.c
index 9d61f8518..dfe446648 100644
--- a/src/media_tools/dash_segmenter.c
+++ b/src/media_tools/dash_segmenter.c
@@ -451,8 +451,8 @@ typedef struct
 	u64 FragmentLength;
 	u32 OriginalTrack;
 	u32 finalSampleDescriptionIndex;
-	u32 TimeScale, MediaType, DefaultDuration, InitialTSOffset;
-	u64 last_sample_cts, next_sample_dts;
+	u32 TimeScale, MediaType, DefaultDuration;
+	u64 last_sample_cts, next_sample_dts, InitialTSOffset;
 	Bool all_sample_raps, splitable;
 	u32 split_sample_dts_shift;
 	s32 media_time_to_pres_time_shift;
@@ -926,7 +926,7 @@ static GF_Err gf_media_isom_segment_file(GF_ISOFile *input, const char *output_f
 			char *opt, sKey[100];
 			sprintf(sKey, "TKID_%d_NextDecodingTime", tf->TrackID);
 			opt = (char *)gf_cfg_get_key(dash_cfg->dash_ctx, RepSecName, sKey);
-			if (opt) tf->InitialTSOffset = atoi(opt);
+			if (opt) sscanf(opt, LLU, & tf->InitialTSOffset);
 
 			/*store presentationTimeOffset on the first rep*/
 			if (store_dash_params)

