commit f43b9230084ef50afa25ab614fd6354863026b24
Author: calvin <>
Date:   Tue Feb 3 00:35:56 2009 +0000

    branches/zip: fix a compiler error and a warning
    
    Both are minor changes:
    1) Compiler error introduced in r4072: double ';' at the end.
    2) Warning introduced in r3613: \mem\mem0pool.c(481) :
    warning C4098: 'mem_area_free' : 'void' function returning a value
    
    Approved by: Sunny (IM)

diff --git a/buf/buf0buf.c b/buf/buf0buf.c
index d0ce68b9a70..e8e881a6e37 100644
--- a/buf/buf0buf.c
+++ b/buf/buf0buf.c
@@ -1016,7 +1016,7 @@ buf_pool_drop_hash_index(void)
 	ut_ad(!btr_search_enabled);
 
 	do {
-		buf_chunk_t*	chunks	= buf_pool->chunks;;
+		buf_chunk_t*	chunks	= buf_pool->chunks;
 		buf_chunk_t*	chunk	= chunks + buf_pool->n_chunks;
 
 		released_search_latch = FALSE;
diff --git a/mem/mem0pool.c b/mem/mem0pool.c
index 4f26ec560bf..ea8f748fcc9 100644
--- a/mem/mem0pool.c
+++ b/mem/mem0pool.c
@@ -478,7 +478,9 @@ mem_area_free(
 	ulint		n;
 
 	if (srv_use_sys_malloc) {
-		return(free(ptr));
+		ut_free(ptr);
+
+		return;
 	}
 
 	/* It may be that the area was really allocated from the OS with

