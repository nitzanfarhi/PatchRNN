commit 62827156b2a40bfcc4151f6fafa00ece82635d86
Author: Greg Farnum <gregf@hq.newdream.net>
Date:   Thu Jun 24 11:37:29 2010 -0700

    mds: add IFLOCK to wait bits to prevent collisions with lock branch

diff --git a/src/mds/SimpleLock.h b/src/mds/SimpleLock.h
index 67ceabcf6c..417e2c5d28 100644
--- a/src/mds/SimpleLock.h
+++ b/src/mds/SimpleLock.h
@@ -233,6 +233,7 @@ public:
     case CEPH_LOCK_IXATTR:   return 8 + 6*SimpleLock::WAIT_BITS;
     case CEPH_LOCK_ISNAP:    return 8 + 7*SimpleLock::WAIT_BITS;
     case CEPH_LOCK_INEST:    return 8 + 8*SimpleLock::WAIT_BITS;
+    case CEPH_LOCK_IFLOCK:   return 8 + 9*SimpleLock::WAIT_BITS;
     default:
       assert(0);
     }

