commit 2d7fd4cc33d5b2b61fda4315d261bd72625eb252
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Wed Jan 7 17:26:39 2015 +0100

    ffmpeg_opt: Use av_realloc_array()
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/ffmpeg_opt.c b/ffmpeg_opt.c
index ac93eb50f6..7594b34578 100644
--- a/ffmpeg_opt.c
+++ b/ffmpeg_opt.c
@@ -1383,8 +1383,8 @@ static OutputStream *new_video_stream(OptionsContext *o, AVFormatContext *oc, in
             }
             /* FIXME realloc failure */
             video_enc->rc_override =
-                av_realloc(video_enc->rc_override,
-                           sizeof(RcOverride) * (i + 1));
+                av_realloc_array(video_enc->rc_override,
+                                 i + 1, sizeof(RcOverride));
             video_enc->rc_override[i].start_frame = start;
             video_enc->rc_override[i].end_frame   = end;
             if (q > 0) {

