commit 42bf1ae17bad7fafc4ee8e7b6a3052da6decb9f7
Author: Franck Bui <fbui@suse.com>
Date:   Wed Nov 2 10:50:20 2016 +0100

    core: prevent the cylon when confirmation_spawn=yes (#2194)
    
    When booting with systemd.confirm_spawn=true, the eye of cylon
    animation kicks in pretty quickly so user doesn't have any chance to
    answer the questions which services to start before the confirmation
    message is screwed by the cylon.
    
    This basically breaks the confirm_spawn functionality completely.
    
    This patch prevents the cylon animation to kick in when
    confirmation_spawn=yes.
    
    Fixes: #2194

diff --git a/src/core/manager.c b/src/core/manager.c
index 52174eac0..d9f772d16 100644
--- a/src/core/manager.c
+++ b/src/core/manager.c
@@ -111,6 +111,12 @@ static void manager_watch_jobs_in_progress(Manager *m) {
 
         assert(m);
 
+        /* We do not want to show the cylon animation if the user
+         * needs to confirm service executions otherwise confirmation
+         * messages will be screwed by the cylon animation. */
+        if (m->confirm_spawn)
+                return;
+
         if (m->jobs_in_progress_event_source)
                 return;
 

