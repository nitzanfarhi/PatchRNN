commit e80ec3ae52df761ac4b9dc256ab833570f161ca3
Author: Christian Persch <chpe@src.gnome.org>
Date:   Fri Aug 24 10:57:47 2018 +0200

    libdocument: Open temp files with O_CLOEXEC

diff --git a/libdocument/ev-file-helpers.c b/libdocument/ev-file-helpers.c
index 59d7b1ec..c9de2f83 100644
--- a/libdocument/ev-file-helpers.c
+++ b/libdocument/ev-file-helpers.c
@@ -24,6 +24,7 @@
 #include <unistd.h>
 #include <string.h>
 #include <errno.h>
+#include <fcntl.h>
 
 #include <glib.h>
 #include <glib/gstdio.h>
@@ -138,7 +139,7 @@ ev_mkstemp (const char  *tmpl,
               return -1;
 
         name = g_build_filename (tmp, tmpl, NULL);
-        fd = g_mkstemp (name);
+        fd = g_mkstemp_full (name, O_CLOEXEC, 0600);
 
         if (fd == -1) {
 		int errsv = errno;

