commit 20d96964b51844d4f3bea0249f62db7073c13c30
Author: Chee Nouk Phoon <cnphoon@altera.com>
Date:   Fri Apr 24 02:32:07 2015 -0500

    net: eth: altera: Resolve false errors from MSGDMA to TSE
    
    This patch resolves false errors from MSGDMA in TX mSGDMA MM to ST
    mode, and is a continuation of the patch recently submitted by Andrea
    Oetken. The MSGDMA had a logic bug that masked detection of this issue
    prior to Quartus 14.1/Build 164. When the MSGDMA logic bug was addressed
    in Quartus 14.1/Build 164, the driver problem was exposed.
    
    The problem is corrected by making sure MSGDMA_DESC_CTL_TR_ERR_IRQ is not
    set for any of the transmit DMA descriptors, and only used for receive
    descriptors.
    
    Fixes: 71cd26e altera tse: Error-Bit on tx-avalon-stream always set.
    
    Signed-off-by: Chee Nouk Phoon <cnphoon@altera.com>
    Signed-off-by: Vince Bridgers <vbridger@opensource.altera.com>a
    Cc: Andreas Oetken <ennoerlangen@gmail.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/drivers/net/ethernet/altera/altera_msgdmahw.h b/drivers/net/ethernet/altera/altera_msgdmahw.h
index eba070f16782..89cd11d86642 100644
--- a/drivers/net/ethernet/altera/altera_msgdmahw.h
+++ b/drivers/net/ethernet/altera/altera_msgdmahw.h
@@ -58,15 +58,12 @@ struct msgdma_extended_desc {
 /* Tx buffer control flags
  */
 #define MSGDMA_DESC_CTL_TX_FIRST	(MSGDMA_DESC_CTL_GEN_SOP |	\
-					 MSGDMA_DESC_CTL_TR_ERR_IRQ |	\
 					 MSGDMA_DESC_CTL_GO)
 
-#define MSGDMA_DESC_CTL_TX_MIDDLE	(MSGDMA_DESC_CTL_TR_ERR_IRQ |	\
-					 MSGDMA_DESC_CTL_GO)
+#define MSGDMA_DESC_CTL_TX_MIDDLE	(MSGDMA_DESC_CTL_GO)
 
 #define MSGDMA_DESC_CTL_TX_LAST		(MSGDMA_DESC_CTL_GEN_EOP |	\
 					 MSGDMA_DESC_CTL_TR_COMP_IRQ |	\
-					 MSGDMA_DESC_CTL_TR_ERR_IRQ |	\
 					 MSGDMA_DESC_CTL_GO)
 
 #define MSGDMA_DESC_CTL_TX_SINGLE	(MSGDMA_DESC_CTL_GEN_SOP |	\

