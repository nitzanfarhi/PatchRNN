commit 8afc61c5fc4c741357c793ee4999a26a14cba796
Author: Matthew Soffen <matt@soffen.com>
Date:   Thu Mar 17 16:25:05 2005 +0000

    Fixing to NOT have inline variable declaration.
    
    CVS patchset: 5421
    CVS date: 2005/03/17 16:25:05
    
    Mercurial revision: 55bbca5fa41550dacc4dee184db87a0ee6ff25a8

diff --git a/crm/crmd/join_dc.c b/crm/crmd/join_dc.c
index a5c385788..1a5c095f0 100644
--- a/crm/crmd/join_dc.c
+++ b/crm/crmd/join_dc.c
@@ -539,6 +539,7 @@ void
 join_send_offer(gpointer key, gpointer value, gpointer user_data)
 {
 	const char *join_to = NULL;
+	void *a_node = NULL;
 	const oc_node_t *member = (const oc_node_t*)value;
 
 	if(member != NULL) {
@@ -558,7 +559,7 @@ join_send_offer(gpointer key, gpointer value, gpointer user_data)
 
 		send_msg_via_ha(fsa_cluster_conn, offer);
 
-		void *a_node = g_hash_table_lookup(join_requests, join_to);
+		a_node = g_hash_table_lookup(join_requests, join_to);
 		if(a_node == NULL) {
 			g_hash_table_insert(join_offers, crm_strdup(join_to),
 					    crm_strdup(CRMD_JOINSTATE_PENDING));

