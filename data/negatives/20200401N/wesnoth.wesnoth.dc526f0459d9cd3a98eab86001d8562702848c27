commit dc526f0459d9cd3a98eab86001d8562702848c27
Author: fendrin <fabianmueller5@gmx.de>
Date:   Fri Jun 6 16:27:19 2014 +0200

    Disable playlist and schedule menues for pure maps.
    
    Conflicts:
            src/hotkey/hotkey_command.cpp

diff --git a/src/editor/editor_controller.cpp b/src/editor/editor_controller.cpp
index d18ff07723..de992d06e9 100644
--- a/src/editor/editor_controller.cpp
+++ b/src/editor/editor_controller.cpp
@@ -354,8 +354,10 @@ bool editor_controller::can_execute_command(const hotkey::hotkey_command& cmd, i
 				std::string dummy;
 				return context_manager_->modified_maps(dummy) > 1;
 			}
-		case HOTKEY_EDITOR_MAP_SWITCH:
 		case HOTKEY_EDITOR_PLAYLIST:
+		case HOTKEY_EDITOR_SCHEDULE:
+			return !context_manager_->get_map_context().is_pure_map();
+		case HOTKEY_EDITOR_MAP_SWITCH:
 		case HOTKEY_EDITOR_MAP_CLOSE:
 			return true;
 		case HOTKEY_EDITOR_MAP_REVERT:
diff --git a/src/hotkey/hotkey_command.cpp b/src/hotkey/hotkey_command.cpp
index 608da4c64b..e7564e0f28 100644
--- a/src/hotkey/hotkey_command.cpp
+++ b/src/hotkey/hotkey_command.cpp
@@ -126,6 +126,7 @@ hotkey::hotkey_command_temp hotkey_list_[] = {
 	// These are not really hotkey items but menu entries to get expanded.
 	// They need to have their own hotkey to control their active state.
 	{ hotkey::HOTKEY_EDITOR_PLAYLIST, "editor-playlist", N_("Switch Time of Day"), true, scope_editor, "" },
+	{ hotkey::HOTKEY_EDITOR_SCHEDULE, "menu-editor-schedule", "", true, hotkey::SCOPE_EDITOR, "" },
 	{ hotkey::HOTKEY_EDITOR_MAP_SWITCH, "editor-switch-map", N_("Switch Map"), true, scope_editor, "" },
 	{ hotkey::HOTKEY_EDITOR_LOCAL_TIME, "menu-editor-local-time", N_("Assign Local Time"), true, scope_editor, "" },
 
diff --git a/src/hotkey/hotkey_command.hpp b/src/hotkey/hotkey_command.hpp
index 7adcce6cf4..3e2c46015b 100644
--- a/src/hotkey/hotkey_command.hpp
+++ b/src/hotkey/hotkey_command.hpp
@@ -109,6 +109,7 @@ enum HOTKEY_COMMAND {
 	HOTKEY_EDITOR_PALETTE_GROUPS, HOTKEY_EDITOR_PALETTE_UPSCROLL, HOTKEY_EDITOR_PALETTE_DOWNSCROLL,
 
 	HOTKEY_EDITOR_PLAYLIST,
+	HOTKEY_EDITOR_SCHEDULE,
 	HOTKEY_EDITOR_LOCAL_TIME,
 	HOTKEY_EDITOR_UNIT_FACING,
 

