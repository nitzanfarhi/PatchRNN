commit 9d05dd2e1ef814a714214004f927ce82c9890fa6
Author: Zbigniew JÄ™drzejewski-Szmek <zbyszek@in.waw.pl>
Date:   Fri Nov 28 01:50:05 2014 -0500

    mount: simplify mount_needs_network check

diff --git a/src/core/mount.c b/src/core/mount.c
index 5f2de64eb..bccf6c5bf 100644
--- a/src/core/mount.c
+++ b/src/core/mount.c
@@ -1441,17 +1441,13 @@ static int mount_add_one(
                         }
                 }
 
-                if (m->running_as == SYSTEMD_SYSTEM) {
-                        const char* target;
-
-                        target = mount_needs_network(options, fstype) ?  SPECIAL_REMOTE_FS_TARGET : NULL;
+                if (m->running_as == SYSTEMD_SYSTEM &&
+                    mount_needs_network(options, fstype)) {
                         /* _netdev option may have shown up late, or on a
                          * remount. Add remote-fs dependencies, even though
-                         * local-fs ones may already be there */
-                        if (target) {
-                                unit_add_dependency_by_name(u, UNIT_BEFORE, target, NULL, true);
-                                load_extras = true;
-                        }
+                         * local-fs ones may already be there. */
+                        unit_add_dependency_by_name(u, UNIT_BEFORE, SPECIAL_REMOTE_FS_TARGET, NULL, true);
+                        load_extras = true;
                 }
 
                 if (u->load_state == UNIT_NOT_FOUND) {

