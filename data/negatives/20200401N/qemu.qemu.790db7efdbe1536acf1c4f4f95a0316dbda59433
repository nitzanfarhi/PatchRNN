commit 790db7efdbe1536acf1c4f4f95a0316dbda59433
Author: Bruce Rogers <brogers@suse.com>
Date:   Thu Jun 29 15:11:50 2017 +0200

    9pfs: local: remove: use correct path component
    
    Commit a0e640a8 introduced a path processing error.
    Pass fstatat the dirpath based path component instead
    of the entire path.
    
    Signed-off-by: Bruce Rogers <brogers@suse.com>
    Signed-off-by: Greg Kurz <groug@kaod.org>

diff --git a/hw/9pfs/9p-local.c b/hw/9pfs/9p-local.c
index 1e78b7c9e9..83952eff0a 100644
--- a/hw/9pfs/9p-local.c
+++ b/hw/9pfs/9p-local.c
@@ -1100,7 +1100,7 @@ static int local_remove(FsContext *ctx, const char *path)
         goto out;
     }
 
-    if (fstatat(dirfd, path, &stbuf, AT_SYMLINK_NOFOLLOW) < 0) {
+    if (fstatat(dirfd, name, &stbuf, AT_SYMLINK_NOFOLLOW) < 0) {
         goto err_out;
     }
 

