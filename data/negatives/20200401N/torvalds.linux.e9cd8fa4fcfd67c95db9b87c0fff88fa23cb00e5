commit e9cd8fa4fcfd67c95db9b87c0fff88fa23cb00e5
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Thu Mar 10 12:54:16 2016 +0100

    sched/migration: Move calc_load_migrate() into CPU_DYING
    
    It really does not matter when we fold the load for the outgoing cpu. It's
    almost dead anyway, so there is no harm if we fail to fold the few
    microseconds which are required for going fully away.
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Acked-by: Peter Zijlstra <peterz@infradead.org>
    Cc: rt@linutronix.de
    Link: http://lkml.kernel.org/r/20160310120025.328739226@linutronix.de
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

diff --git a/kernel/sched/core.c b/kernel/sched/core.c
index bafc308e6d45..688e8a83208c 100644
--- a/kernel/sched/core.c
+++ b/kernel/sched/core.c
@@ -5447,9 +5447,6 @@ migration_call(struct notifier_block *nfb, unsigned long action, void *hcpu)
 		migrate_tasks(rq);
 		BUG_ON(rq->nr_running != 1); /* the migration thread */
 		raw_spin_unlock_irqrestore(&rq->lock, flags);
-		break;
-
-	case CPU_DEAD:
 		calc_load_migrate(rq);
 		break;
 #endif

