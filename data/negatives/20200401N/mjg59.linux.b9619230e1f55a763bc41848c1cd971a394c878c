commit b9619230e1f55a763bc41848c1cd971a394c878c
Author: Ondrej Zary <linux@rainbow-software.org>
Date:   Tue Aug 3 23:57:05 2010 +0200

    ALSA: als4000: enable burst mode
    
    Enable burst mode to prevent dropouts during high PCI bus usage.
    The card is useless in X without this because of dropouts when anything moves
    on the screen (at least with PCI VGA card). Enabling this is also recommended
    by the datasheet (page 48).
    
    Signed-off-by: Ondrej Zary <linux@rainbow-software.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

diff --git a/sound/pci/als4000.c b/sound/pci/als4000.c
index 6cf1de8042e8..036a9ba8e1a5 100644
--- a/sound/pci/als4000.c
+++ b/sound/pci/als4000.c
@@ -763,9 +763,9 @@ static void snd_als4000_configure(struct snd_sb *chip)
 	/* SPECS_PAGE: 39 */
 	for (i = ALS4K_GCR91_DMA0_ADDR; i <= ALS4K_GCR96_DMA3_MODE_COUNT; ++i)
 		snd_als4k_gcr_write(chip, i, 0);
-	
+	/* enable burst mode to prevent dropouts during high PCI bus usage */
 	snd_als4k_gcr_write(chip, ALS4K_GCR99_DMA_EMULATION_CTRL,
-		snd_als4k_gcr_read(chip, ALS4K_GCR99_DMA_EMULATION_CTRL));
+		snd_als4k_gcr_read(chip, ALS4K_GCR99_DMA_EMULATION_CTRL) | 0x04);
 	spin_unlock_irq(&chip->reg_lock);
 }
 

