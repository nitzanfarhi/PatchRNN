commit 3e7a176759e8a8e66d65c779b47b5bba793dfd4e
Author: Justin Ruggles <justin.ruggles@gmail.com>
Date:   Wed Oct 12 23:23:18 2011 -0400

    truespeech: check to make sure channels == 1

diff --git a/libavcodec/truespeech.c b/libavcodec/truespeech.c
index 6f663f30c5..555ec87f00 100644
--- a/libavcodec/truespeech.c
+++ b/libavcodec/truespeech.c
@@ -56,6 +56,11 @@ static av_cold int truespeech_decode_init(AVCodecContext * avctx)
 {
 //    TSContext *c = avctx->priv_data;
 
+    if (avctx->channels != 1) {
+        av_log_ask_for_sample(avctx, "Unsupported channel count: %d\n", avctx->channels);
+        return AVERROR(EINVAL);
+    }
+
     avctx->sample_fmt = AV_SAMPLE_FMT_S16;
     return 0;
 }

