commit 5fc51524746430179c676297fd48aaab28e1b85f
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Tue Jan 11 10:33:40 2011 +0100

    ALSA: oxygen: fix CD/MIDI for X-Meridian (2G)
    
    Enable the X-Meridian's CD input and the X-Meridian 2G's potential
    MIDI ports.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

diff --git a/sound/pci/oxygen/oxygen.c b/sound/pci/oxygen/oxygen.c
index be264d33f9b5..db39cfc3b4f3 100644
--- a/sound/pci/oxygen/oxygen.c
+++ b/sound/pci/oxygen/oxygen.c
@@ -695,6 +695,8 @@ static int __devinit get_oxygen_model(struct oxygen *chip,
 					    PLAYBACK_1_TO_SPDIF |
 					    CAPTURE_0_FROM_I2S_2 |
 					    CAPTURE_1_FROM_SPDIF;
+		if (id->driver_data == MODEL_MERIDIAN)
+			chip->model.device_config |= AC97_CD_INPUT;
 		break;
 	case MODEL_CLARO:
 		chip->model.init = claro_init;
@@ -743,6 +745,7 @@ static int __devinit get_oxygen_model(struct oxygen *chip,
 		break;
 	}
 	if (id->driver_data == MODEL_MERIDIAN ||
+	    id->driver_data == MODEL_MERIDIAN_2G ||
 	    id->driver_data == MODEL_CLARO_HALO) {
 		chip->model.misc_flags = OXYGEN_MISC_MIDI;
 		chip->model.device_config |= MIDI_OUTPUT | MIDI_INPUT;

