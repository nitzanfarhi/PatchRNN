commit 13d7adf92a97c8252df6165ec84127798f3096d3
Author: Marcel Apfelbaum <marcel.a@redhat.com>
Date:   Mon May 26 15:40:57 2014 +0300

    vl.c: Do not set 'type' property in obj_set_property()
    
    Filter out also 'type' property when setting
    object's properties.
    
    Reviewed-by: Paolo Bonzini <pbonzini@redhat.com>
    Signed-off-by: Marcel Apfelbaum <marcel.a@redhat.com>
    Acked-by: Michael S. Tsirkin <mst@redhat.com>
    Acked-by: Michael Roth <mdroth@linux.vnet.ibm.com>
    Signed-off-by: Andreas FÃ¤rber <afaerber@suse.de>

diff --git a/vl.c b/vl.c
index e65d0b373d..8a4e58ce5c 100644
--- a/vl.c
+++ b/vl.c
@@ -2891,7 +2891,8 @@ static int object_set_property(const char *name, const char *value, void *opaque
     StringInputVisitor *siv;
     Error *local_err = NULL;
 
-    if (strcmp(name, "qom-type") == 0 || strcmp(name, "id") == 0) {
+    if (strcmp(name, "qom-type") == 0 || strcmp(name, "id") == 0 ||
+        strcmp(name, "type") == 0) {
         return 0;
     }
 

