commit 21f7d507f4b50e2743ab47954270f4c72d5a722a
Author: Behdad Esfahbod <behdad@gnome.org>
Date:   Wed Oct 15 03:45:29 2008 +0000

    Bug 528272 – "Error loading GPOS table 5503" when using katakana
    
    2008-10-14  Behdad Esfahbod  <behdad@gnome.org>
    
            Bug 528272 – "Error loading GPOS table 5503" when using katakana
            characters
    
            * pango/opentype/harfbuzz-gpos.c (Load_Mark2Array): Skip parsing
            null anchor tables.

diff --git a/src/harfbuzz-gpos.c b/src/harfbuzz-gpos.c
index 2a9cbf68..1e83711e 100644
--- a/src/harfbuzz-gpos.c
+++ b/src/harfbuzz-gpos.c
@@ -2799,6 +2799,13 @@ static HB_Error  Load_Mark2Array( HB_Mark2Array*  m2a,
 
       FORGET_Frame();
 
+      if (new_offset == base_offset) {
+        /* Anchor table not provided.  Skip loading.
+	 * Some versions of FreeSans hit this. */
+        m2an[n].PosFormat = 0;
+	continue;
+      }
+
       cur_offset = FILE_Pos();
       if ( FILE_Seek( new_offset ) ||
 	   ( error = Load_Anchor( &m2an[n], stream ) ) != HB_Err_Ok )

