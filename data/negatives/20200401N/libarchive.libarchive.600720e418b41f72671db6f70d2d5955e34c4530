commit 600720e418b41f72671db6f70d2d5955e34c4530
Author: Colin Percival <cperciva@daemonology.net>
Date:   Tue Aug 16 01:23:49 2011 -0400

    -C '' is meaningless; complain and die if we are given it.
    
    Via:    Tarsnap
    
    SVN-Revision: 3621

diff --git a/tar/bsdtar.c b/tar/bsdtar.c
index d508e775..6576b2f0 100644
--- a/tar/bsdtar.c
+++ b/tar/bsdtar.c
@@ -266,6 +266,10 @@ main(int argc, char **argv)
 			bsdtar->bytes_in_last_block = bsdtar->bytes_per_block;
 			break;
 		case 'C': /* GNU tar */
+			if (strlen(bsdtar->argument) == 0)
+				lafe_errc(1, 0,
+				    "Meaningless option: -C ''");
+
 			set_chdir(bsdtar, bsdtar->argument);
 			break;
 		case 'c': /* SUSv2 */

