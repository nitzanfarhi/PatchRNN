commit 64c03e2f895809fd7edde97ab5ef8a3829387f10
Author: rfelker <rfelker@b3059339-0415-0410-9bf9-f77b7e298cf2>
Date:   Sun May 1 05:11:02 2005 +0000

    at lest this fixes build.. there's no way muxer_lavf is working right yet tho with mencoder's broken timestamps
    
    
    git-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@15310 b3059339-0415-0410-9bf9-f77b7e298cf2

diff --git a/libmpdemux/muxer_lavf.c b/libmpdemux/muxer_lavf.c
index 8a669e0bf8..b55ae07124 100644
--- a/libmpdemux/muxer_lavf.c
+++ b/libmpdemux/muxer_lavf.c
@@ -180,8 +180,13 @@ static void fix_parameters(muxer_stream_t *stream)
 		ctx->width = stream->bih->biWidth;
 		ctx->height = stream->bih->biHeight;
 		ctx->bit_rate = 800000;
+#if (LIBAVFORMAT_BUILD >= 4624)
+		ctx->time_base.den = stream->h.dwRate;
+		ctx->time_base.num = stream->h.dwScale;
+#else
 		ctx->frame_rate = stream->h.dwRate;
 		ctx->frame_rate_base = stream->h.dwScale;
+#endif
 	}
 }
 

