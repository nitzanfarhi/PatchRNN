commit 09e0c96201bd525d1a00fe88cef8b1a8e678d6b7
Author: Patrick Jackson <PatrickSJackson@gmail.com>
Date:   Thu Sep 29 18:45:13 2016 -0700

    lint: Removing dead initializations #5410

diff --git a/src/nvim/api/private/helpers.c b/src/nvim/api/private/helpers.c
index fc114bae1..d80ee7dc6 100644
--- a/src/nvim/api/private/helpers.c
+++ b/src/nvim/api/private/helpers.c
@@ -368,11 +368,10 @@ static inline void typval_encode_list_start(EncodedData *const edata,
                                             const size_t len)
   FUNC_ATTR_ALWAYS_INLINE FUNC_ATTR_NONNULL_ALL
 {
-  const Object obj = OBJECT_INIT;
   kv_push(edata->stack, ARRAY_OBJ(((Array) {
     .capacity = len,
     .size = 0,
-    .items = xmalloc(len * sizeof(*obj.data.array.items)),
+    .items = xmalloc(len * sizeof(*((Object *)NULL)->data.array.items)),
   })));
 }
 
@@ -409,11 +408,10 @@ static inline void typval_encode_dict_start(EncodedData *const edata,
                                             const size_t len)
   FUNC_ATTR_ALWAYS_INLINE FUNC_ATTR_NONNULL_ALL
 {
-  const Object obj = OBJECT_INIT;
   kv_push(edata->stack, DICTIONARY_OBJ(((Dictionary) {
     .capacity = len,
     .size = 0,
-    .items = xmalloc(len * sizeof(*obj.data.dictionary.items)),
+    .items = xmalloc(len * sizeof(*((Object *)NULL)->data.dictionary.items)),
   })));
 }
 

