commit 79e518698e56cfb0267e034e9b925531f3309283
Author: Frederik Deweerdt <fdeweerdt@fastly.com>
Date:   Fri Nov 10 22:02:38 2017 -0800

    Follow existing h2o_find_header call checks

diff --git a/lib/handler/fastcgi.c b/lib/handler/fastcgi.c
index 96ad5a35..0040a420 100644
--- a/lib/handler/fastcgi.c
+++ b/lib/handler/fastcgi.c
@@ -549,7 +549,7 @@ static int fill_headers(h2o_req_t *req, struct phr_header *headers, size_t num_h
     }
 
     /* add date: if it's missing from the response */
-    if (h2o_find_header(&req->res.headers, H2O_TOKEN_DATE, 0) < 0)
+    if (h2o_find_header(&req->res.headers, H2O_TOKEN_DATE, 0) == -1)
         h2o_resp_add_date_header(req);
 
     return 0;

