commit 7c5a54fb869d980c2a3c0972fe1e22816dd5b7b2
Author: Marina Makienko <makienko@ispras.ru>
Date:   Tue Feb 26 11:41:18 2013 +0400

    NFC: pn533: Add missing usb_put_dev
    
    Add missing usb_put_dev on failure path in pn533_probe().
    
    Found by Linux Driver Verification project (linuxtesting.org).
    
    Signed-off-by: Marina Makienko <makienko@ispras.ru>
    Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>

diff --git a/drivers/nfc/pn533.c b/drivers/nfc/pn533.c
index 4d56ad4c8bfb..3569b9e621ea 100644
--- a/drivers/nfc/pn533.c
+++ b/drivers/nfc/pn533.c
@@ -2779,6 +2779,7 @@ destroy_wq:
 error:
 	usb_free_urb(dev->in_urb);
 	usb_free_urb(dev->out_urb);
+	usb_put_dev(dev->udev);
 	kfree(dev);
 	return rc;
 }

