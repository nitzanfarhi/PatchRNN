commit b8085f493a7066fe6990c15e8e30d8b20c736062
Author: Daniel Stenberg <daniel@haxx.se>
Date:   Mon Jun 5 14:56:13 2017 +0200

    typecheck-gcc: allow CURLOPT_STDERR to be NULL too

diff --git a/include/curl/typecheck-gcc.h b/include/curl/typecheck-gcc.h
index 0a08175f7..10b5de2ab 100644
--- a/include/curl/typecheck-gcc.h
+++ b/include/curl/typecheck-gcc.h
@@ -470,8 +470,9 @@ _CURL_WARNING(_curl_easy_getinfo_err_curl_socket,
 #endif
 
 /* evaluates to true if expr is of type FILE* */
-#define _curl_is_FILE(expr)                                                   \
-  (__builtin_types_compatible_p(__typeof__(expr), FILE *))
+#define _curl_is_FILE(expr)                                             \
+  (_curl_is_NULL(expr) ||                                              \
+   (__builtin_types_compatible_p(__typeof__(expr), FILE *)))
 
 /* evaluates to true if expr can be passed as POST data (void* or char*) */
 #define _curl_is_postfields(expr)                                             \

