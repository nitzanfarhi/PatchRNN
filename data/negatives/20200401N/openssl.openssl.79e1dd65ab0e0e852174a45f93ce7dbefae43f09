commit 79e1dd65ab0e0e852174a45f93ce7dbefae43f09
Author: Andy Polyakov <appro@openssl.org>
Date:   Thu Jun 9 20:52:24 2005 +0000

    Allow for dso load by explicit path on HP-UX.

diff --git a/crypto/dso/dso_dl.c b/crypto/dso/dso_dl.c
index 2de01b09e1..4d599246c8 100644
--- a/crypto/dso/dso_dl.c
+++ b/crypto/dso/dso_dl.c
@@ -130,7 +130,8 @@ static int dl_load(DSO *dso)
 		DSOerr(DSO_F_DL_LOAD,DSO_R_NO_FILENAME);
 		goto err;
 		}
-	ptr = shl_load(filename, BIND_IMMEDIATE|DYNAMIC_PATH, 0L);
+	ptr = shl_load(filename, BIND_IMMEDIATE |
+		(dso->flags&DSO_FLAG_NO_NAME_TRANSLATION?0:DYNAMIC_PATH), 0L);
 	if(ptr == NULL)
 		{
 		DSOerr(DSO_F_DL_LOAD,DSO_R_LOAD_FAILED);

