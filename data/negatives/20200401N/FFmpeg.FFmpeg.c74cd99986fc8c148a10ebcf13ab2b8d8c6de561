commit c74cd99986fc8c148a10ebcf13ab2b8d8c6de561
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Tue Nov 13 17:59:18 2012 +0100

    rv10: consider B frames in low delay streams invalid.
    
    Fix assertion failure
    
    Found-by: Mateusz "j00ru" Jurczyk and Gynvael Coldwind
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libavcodec/rv10.c b/libavcodec/rv10.c
index 21dec46c55..a5181b38a6 100644
--- a/libavcodec/rv10.c
+++ b/libavcodec/rv10.c
@@ -332,6 +332,10 @@ static int rv20_decode_picture_header(RVDecContext *rv)
         return -1;
     }
 
+    if(s->low_delay && s->pict_type==AV_PICTURE_TYPE_B){
+        av_log(s->avctx, AV_LOG_ERROR, "low delay B\n");
+        return -1;
+    }
     if(s->last_picture_ptr==NULL && s->pict_type==AV_PICTURE_TYPE_B){
         av_log(s->avctx, AV_LOG_ERROR, "early B pix\n");
         return -1;

