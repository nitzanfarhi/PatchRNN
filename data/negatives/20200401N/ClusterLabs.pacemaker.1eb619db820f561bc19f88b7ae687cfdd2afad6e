commit 1eb619db820f561bc19f88b7ae687cfdd2afad6e
Author: Andrew Beekhof <andrew@beekhof.net>
Date:   Mon Sep 3 12:23:45 2012 +1000

    Medium: fencing: Log the command-line of any (un)fence actions

diff --git a/fencing/admin.c b/fencing/admin.c
index 39f1269ea..8d83cd7e4 100644
--- a/fencing/admin.c
+++ b/fencing/admin.c
@@ -112,7 +112,7 @@ main(int argc, char ** argv)
     stonith_key_value_t *devices = NULL;
     stonith_key_value_t *dIter = NULL;
 
-    crm_log_init(NULL, LOG_NOTICE, FALSE, FALSE, argc, argv, FALSE);
+    crm_log_cli_init("stonith_admin");
     crm_set_options(NULL, "mode [options]", long_options,
         "Provides access to the stonith-ng API.\n"
         "\nAllows the administrator to add/remove/list devices, check device and host status and fence hosts\n");
@@ -161,6 +161,11 @@ main(int argc, char ** argv)
         case 'F':
         case 'U':
         case 'C':
+            /* Always log the input arguments */
+            crm_log_args(argc, argv);
+            target = optarg;
+            action = flag;
+            break;
         case 'H':
         case 'r':
         case 'd':

