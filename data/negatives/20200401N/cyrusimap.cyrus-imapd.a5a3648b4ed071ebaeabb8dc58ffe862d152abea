commit a5a3648b4ed071ebaeabb8dc58ffe862d152abea
Author: Bron Gondwana <brong@fastmail.fm>
Date:   Sat Nov 11 16:21:27 2017 +1100

    mboxlist: don't fail on subscribed but non-existent folder

diff --git a/imap/mboxlist.c b/imap/mboxlist.c
index e0edcf7b7..e57a9b323 100644
--- a/imap/mboxlist.c
+++ b/imap/mboxlist.c
@@ -3604,6 +3604,8 @@ static int usersubs_cb(void *rock, const char *key, size_t keylen,
         mboxname_userownsmailbox(mbrock->userid, mboxname)) return 0;
 
     r = mboxlist_lookup(mboxname, &mbrock->mbentry, NULL);
+    if (r == IMAP_MAILBOX_NONEXISTENT) return 0;
+
     if (r) {
         syslog(LOG_INFO, "mboxlist_lookup(%s) failed: %s",
                mboxname, error_message(r));

