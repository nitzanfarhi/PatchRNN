commit 51660e571549ce908bb9ba8fc3a82d4d5f56221e
Author: Andrei Pelinescu-Onciul <andrei@iptel.org>
Date:   Wed Sep 11 15:08:25 2002 +0000

    - rr fix (s/sock_info/bind_address/)

diff --git a/modules_s/rr/rr.c b/modules_s/rr/rr.c
index d60b98c2d..92cdfb7b3 100644
--- a/modules_s/rr/rr.c
+++ b/modules_s/rr/rr.c
@@ -267,21 +267,21 @@ int buildRRLine(struct sip_msg* _m, str* _l)
 		*(_l->s + _l->len++) = '@';
 	}
 
-	switch(sock_info->address.af) {
+	switch(bind_address->address.af) {
 	case AF_INET:
-		memcpy(_l->s + _l->len, sock_info->address_str.s, sock_info->address_str.len);
-		_l->len += sock_info->address_str.len;
+		memcpy(_l->s + _l->len, bind_address->address_str.s, bind_address->address_str.len);
+		_l->len += bind_address->address_str.len;
 		break;
 
 	case AF_INET6:
 		_l->s[_l->len++] = '[';
-		memcpy(_l->s + _l->len, sock_info->address_str.s, sock_info->address_str.len);
-		_l->len += sock_info->address_str.len;
+		memcpy(_l->s + _l->len, bind_address->address_str.s, bind_address->address_str.len);
+		_l->len += bind_address->address_str.len;
 		_l->s[_l->len++] = ']';
 		break;
 
 	default:
-		LOG(L_ERR, "buildRRLine(): Unsupported PF type: %d\n", sock_info->address.af);
+		LOG(L_ERR, "buildRRLine(): Unsupported PF type: %d\n", bind_address->address.af);
 		break;
 	}
 

