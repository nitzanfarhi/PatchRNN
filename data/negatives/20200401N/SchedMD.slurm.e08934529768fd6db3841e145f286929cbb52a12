commit e08934529768fd6db3841e145f286929cbb52a12
Author: Brian Christiansen <brian@schedmd.com>
Date:   Tue Aug 14 15:24:09 2018 -0600

    Handle new INFINITE positions in TRES nodes
    
    In 18.08, the stats are stored in TRES arrays and uses the
    slurmdb_find_tres_count_in_string() function to return the TRES value.
    If a value doesn't exist, the function returns INFINITE64. But < 18.08
    is expecting NO_VAL values.
    
    e.g.
    A TRES position of INFINTE caused a lappy0 node to be shown -- I don't
    have a lappy0.
    brian@lappy:~/slurm/master/lappy$ sacct -j 232809 -o MaxVMSizeNode
     MaxVMSizeNode
    --------------
    
            lappy0

diff --git a/src/common/node_conf.c b/src/common/node_conf.c
index 40b9b43ede..499582efb4 100644
--- a/src/common/node_conf.c
+++ b/src/common/node_conf.c
@@ -1085,7 +1085,7 @@ extern char *find_hostname(uint32_t pos, char *hosts)
 	hostlist_t hostlist = NULL;
 	char *temp = NULL, *host = NULL;
 
-	if (!hosts || (pos == NO_VAL))
+	if (!hosts || (pos == NO_VAL) || (pos == INFINITE))
 		return NULL;
 
 	hostlist = hostlist_create(hosts);

