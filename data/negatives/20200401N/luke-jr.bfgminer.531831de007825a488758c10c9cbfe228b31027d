commit 531831de007825a488758c10c9cbfe228b31027d
Author: Luke Dashjr <luke-jr+git@utopios.org>
Date:   Wed Nov 27 16:59:42 2013 +0000

    Bugfix: Pass newlines as ASCII (fixes lack of them in non-unicode builds)

diff --git a/miner.c b/miner.c
index fdccfdee..6c23d742 100644
--- a/miner.c
+++ b/miner.c
@@ -3353,7 +3353,7 @@ void bfg_waddstr(WINDOW *win, const char *s)
 	
 	while (true)
 	{
-		while (likely(p[0] >= 0x20 && p[0] < stop_ascii))
+		while (likely(p[0] == '\n' || (p[0] >= 0x20 && p[0] < stop_ascii)))
 		{
 			// Printable ASCII
 			++p;

