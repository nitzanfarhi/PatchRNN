commit 5f624805e71d3f160ed7de28b17ecad892827758
Author: Kamran Riaz Khan <krkhan@inspirated.com>
Date:   Tue Aug 9 03:17:21 2011 +0500

    Minor code readability fix.

diff --git a/src/or/control.c b/src/or/control.c
index f679493d3..3943aff96 100644
--- a/src/or/control.c
+++ b/src/or/control.c
@@ -4015,15 +4015,13 @@ control_event_conf_changed(smartlist_t *elements)
   for (i = 0; i < smartlist_len(elements); i += 2) {
     char *k = smartlist_get(elements, i);
     char *v = smartlist_get(elements, i+1);
+    char *tmp;
     if (v == NULL) {
-      char *tmp;
       tor_asprintf(&tmp, "650-%s", k);
-      smartlist_add(lines, tmp);
     } else {
-      char *tmp;
       tor_asprintf(&tmp, "650-%s=%s", k, v);
-      smartlist_add(lines, tmp);
     }
+    smartlist_add(lines, tmp);
   }
   result = smartlist_join_strings(lines, "\r\n", 0, NULL);
   send_control_event(EVENT_CONF_CHANGED, 0,

