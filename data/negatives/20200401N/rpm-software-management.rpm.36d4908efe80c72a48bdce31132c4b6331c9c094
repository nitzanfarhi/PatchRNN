commit 36d4908efe80c72a48bdce31132c4b6331c9c094
Author: Panu Matilainen <pmatilai@redhat.com>
Date:   Wed Nov 19 15:46:02 2008 +0200

    Use matching type for fsm->digest to avoid unnecessary cast

diff --git a/lib/fsm.c b/lib/fsm.c
index 2892c07e1..762ab2eb4 100644
--- a/lib/fsm.c
+++ b/lib/fsm.c
@@ -765,7 +765,7 @@ static int fsmMapAttrs(FSM_t fsm)
 	     */
 	    if (ts != NULL && !(rpmtsFlags(ts) & RPMTRANS_FLAG_NOMD5)) {
 		size_t diglen = rpmDigestLength(fsm->digestalgo);
-		fsm->digest = (char *)(fi->digests ? (fi->digests + (diglen * i)) : NULL);
+		fsm->digest = (fi->digests ? (fi->digests + (diglen * i)) : NULL);
 	    } else {
 		fsm->digest = NULL;
 	    }
diff --git a/lib/fsm.h b/lib/fsm.h
index 34fd86ddb..83a985ac7 100644
--- a/lib/fsm.h
+++ b/lib/fsm.h
@@ -152,7 +152,7 @@ struct fsm_s {
     cpioMapFlags mapFlags;	/*!< Bit(s) to control mapping. */
     const char * dirName;	/*!< File directory name. */
     const char * baseName;	/*!< File base name. */
-    const char * digest;	/*!< Binary checksum (NULL disables). */
+    const unsigned char * digest;	/*!< Binary checksum (NULL disables). */
     security_context_t fcontext;/*!< File security context (NULL disables). */
     cap_t fcaps;		/*!< File capabilities */
     pgpHashAlgo digestalgo;	/*!< File checksum algorithm */

