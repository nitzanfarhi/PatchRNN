commit 62b2706b9213667746ea80133bc49aebbc76d53a
Author: Hans Zandbelt <hzandbelt@pingidentity.com>
Date:   Sun Apr 3 20:37:01 2016 +0200

    fix test and 2.4 error description

diff --git a/src/mod_auth_openidc.c b/src/mod_auth_openidc.c
index 0595888..e332398 100644
--- a/src/mod_auth_openidc.c
+++ b/src/mod_auth_openidc.c
@@ -2651,7 +2651,7 @@ authz_status oidc_authz_checker(request_rec *r, const char *require_args, const
 	if ((rc == HTTP_UNAUTHORIZED) && ap_auth_type(r)
 			&& (apr_strnatcasecmp((const char *) ap_auth_type(r), "oauth20")
 					== 0))
-		oidc_oauth_return_www_authenticate(r, "insufficient_scope", NULL);
+		oidc_oauth_return_www_authenticate(r, "insufficient_scope", "Different scope(s) or other claims required");
 
 	return rc;
 }
diff --git a/test/stub.c b/test/stub.c
index 83ed4ea..b506947 100644
--- a/test/stub.c
+++ b/test/stub.c
@@ -29,6 +29,10 @@ AP_DECLARE(const char *) ap_auth_type(request_rec *r) {
 	return "openid-connect";
 }
 
+AP_DECLARE(const char *) ap_auth_name(request_rec *r) {
+	return NULL;
+}
+
 AP_DECLARE(long) ap_get_client_block(request_rec * r, char * buffer,
 		apr_size_t bufsiz) {
 	return 0;

