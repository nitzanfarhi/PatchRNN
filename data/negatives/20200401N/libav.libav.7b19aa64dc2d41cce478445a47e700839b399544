commit 7b19aa64dc2d41cce478445a47e700839b399544
Author: Alex Beregszaszi <alex@rtfs.hu>
Date:   Tue Mar 6 13:38:41 2007 +0000

    handle http error codes
    
    Originally committed as revision 8272 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavformat/http.c b/libavformat/http.c
index 092151f2b..46b18140f 100644
--- a/libavformat/http.c
+++ b/libavformat/http.c
@@ -169,6 +169,9 @@ static int process_line(URLContext *h, char *line, int line_count,
 #ifdef DEBUG
         printf("http_code=%d\n", s->http_code);
 #endif
+        /* error codes are 4xx and 5xx */
+        if (s->http_code >= 400 && s->http_code < 600)
+            return -1;
     } else {
         while (*p != '\0' && *p != ':')
             p++;

