commit e71e65ff1d7e4b70db34aa169556cf77ae25608a
Author: Stefano Sabatini <stefasab@gmail.com>
Date:   Wed Mar 21 14:39:24 2012 +0100

    lavfi/aspect: check for a negative code from av_parse_ratio()
    
    Check on < 0 rather than on != 0, this is more correct as a positive
    error code from av_parse_ratio() value doesn't mean an error.

diff --git a/libavfilter/vf_aspect.c b/libavfilter/vf_aspect.c
index 9e3b93b28d..8a56116471 100644
--- a/libavfilter/vf_aspect.c
+++ b/libavfilter/vf_aspect.c
@@ -37,7 +37,7 @@ static av_cold int init(AVFilterContext *ctx, const char *args, void *opaque)
     aspect->ratio = (AVRational) {0, 1};
 
     if (args) {
-        if (av_parse_ratio(&aspect->ratio, args, 100, 0, ctx) ||
+        if (av_parse_ratio(&aspect->ratio, args, 100, 0, ctx) < 0 ||
             aspect->ratio.num < 0 || aspect->ratio.den <= 0) {
             av_log(ctx, AV_LOG_ERROR,
                    "Invalid string '%s' for aspect ratio.\n", args);

