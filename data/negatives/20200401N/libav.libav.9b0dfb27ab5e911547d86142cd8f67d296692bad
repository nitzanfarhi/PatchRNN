commit 9b0dfb27ab5e911547d86142cd8f67d296692bad
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Mon Feb 12 14:25:48 2007 +0000

    slightly improve *_TIMER
    
    Originally committed as revision 7948 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavutil/common.h b/libavutil/common.h
index 4ca5353f5..1c81c32f1 100644
--- a/libavutil/common.h
+++ b/libavutil/common.h
@@ -314,7 +314,7 @@ tend= read_time();\
   static uint64_t tsum=0;\
   static int tcount=0;\
   static int tskip_count=0;\
-  if(tcount<2 || tend - tstart < 8*tsum/tcount){\
+  if(tcount<2 || tend - tstart < FFMAX(8*tsum/tcount, 2000)){\
       tsum+= tend - tstart;\
       tcount++;\
   }else\

