commit 0ac789e48c073bfbe0c964f4d84752458fcfc3c2
Author: James Booth <boothj5@gmail.com>
Date:   Tue Dec 16 21:18:32 2014 +0000

    Fixed window resize

diff --git a/src/ui/windows.c b/src/ui/windows.c
index 99c17252..4c5a7e1c 100644
--- a/src/ui/windows.c
+++ b/src/ui/windows.c
@@ -336,9 +336,13 @@ wins_resize_all(void)
         int subwin_cols = 0;
 
         if (window->layout->type == LAYOUT_SPLIT) {
-            ProfLayoutSplit *layout = (ProfLayoutSplit*)window;
+            ProfLayoutSplit *layout = (ProfLayoutSplit*)window->layout;
             if (layout->subwin) {
-                subwin_cols = win_roster_cols();
+                if (window->type == WIN_CONSOLE) {
+                    subwin_cols = win_roster_cols();
+                } else if (window->type == WIN_MUC) {
+                    subwin_cols = win_occpuants_cols();
+                }
                 wresize(layout->super.win, PAD_SIZE, cols - subwin_cols);
                 wresize(layout->subwin, PAD_SIZE, subwin_cols);
                 ui_roster();

