commit 261651b43b3e1a200fa3372d9119c3b34187a269
Author: Bernhard Miklautz <bernhard.miklautz@shacknet.at>
Date:   Mon Nov 18 20:29:00 2013 +0100

    core: don't use c99 style initialization
    
    fixes #1602

diff --git a/libfreerdp/core/input.c b/libfreerdp/core/input.c
index fc5b5f4ee..4e001ba03 100644
--- a/libfreerdp/core/input.c
+++ b/libfreerdp/core/input.c
@@ -494,7 +494,7 @@ static void input_free_queued_message(void *obj)
 
 rdpInput* input_new(rdpRdp* rdp)
 {
-	const wObject cb = { .fnObjectFree = input_free_queued_message };
+	const wObject cb = { NULL, NULL, NULL, input_free_queued_message , NULL };
 	rdpInput* input;
 
 	input = (rdpInput*) malloc(sizeof(rdpInput));
diff --git a/libfreerdp/core/update.c b/libfreerdp/core/update.c
index a4cebdf08..97e5fa789 100644
--- a/libfreerdp/core/update.c
+++ b/libfreerdp/core/update.c
@@ -1553,7 +1553,7 @@ static void update_free_queued_message(void *obj)
 
 rdpUpdate* update_new(rdpRdp* rdp)
 {
-	const wObject cb = { .fnObjectFree = update_free_queued_message };
+	const wObject cb = { NULL, NULL, NULL,  update_free_queued_message, NULL };
 	rdpUpdate* update;
 
 	update = (rdpUpdate*) malloc(sizeof(rdpUpdate));

