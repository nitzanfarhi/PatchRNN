commit 8eb10c9dbdf1497a5e154e3d32734f79f42e8213
Author: Wilmer van der Gaast <wilmer@gaast.net>
Date:   Tue Oct 10 14:10:20 2006 +0200

    Oops... When I say ignore, I really mean ignore!

diff --git a/protocols/jabber/presence.c b/protocols/jabber/presence.c
index 3a682e52..b10ce634 100644
--- a/protocols/jabber/presence.c
+++ b/protocols/jabber/presence.c
@@ -41,6 +41,7 @@ xt_status jabber_pkt_presence( struct xt_node *node, gpointer data )
 			char *s = xt_to_string( node );
 			serv_got_crap( gc, "WARNING: Ignoring presence tag with bare JID: %s\n", s );
 			g_free( s );
+			return XT_HANDLED;
 		}
 		
 		if( !( bud = jabber_buddy_by_jid( gc, from ) ) )
@@ -81,6 +82,7 @@ xt_status jabber_pkt_presence( struct xt_node *node, gpointer data )
 			char *s = xt_to_string( node );
 			serv_got_crap( gc, "WARNING: Ignoring presence tag with bare JID: %s\n", s );
 			g_free( s );
+			return XT_HANDLED;
 		}
 		
 		jabber_buddy_remove( gc, from );

