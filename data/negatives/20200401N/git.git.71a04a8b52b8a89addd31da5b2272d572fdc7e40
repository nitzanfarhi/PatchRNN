commit 71a04a8b52b8a89addd31da5b2272d572fdc7e40
Author: Jonathan Nieder <jrnieder@gmail.com>
Date:   Mon Nov 9 09:04:49 2009 -0600

    Show usage string for 'git fast-import -h'
    
    Let "git fast-import -h" (with no other arguments) print usage
    before exiting, even when run outside any repository.
    
    Cc: Shawn O. Pearce <spearce@spearce.org>
    Signed-off-by: Jonathan Nieder <jrnieder@gmail.com>
    Signed-off-by: Junio C Hamano <gitster@pobox.com>

diff --git a/fast-import.c b/fast-import.c
index 6faaaacb6..f4f1de6dd 100644
--- a/fast-import.c
+++ b/fast-import.c
@@ -2405,6 +2405,9 @@ int main(int argc, const char **argv)
 
 	git_extract_argv0_path(argv[0]);
 
+	if (argc == 2 && !strcmp(argv[1], "-h"))
+		usage(fast_import_usage);
+
 	setup_git_directory();
 	git_config(git_pack_config, NULL);
 	if (!pack_compression_seen && core_compression_seen)

