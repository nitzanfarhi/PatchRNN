commit 490c262b3e6287ad09e8ace179b98668dbea987e
Author: Fabio M. Di Nitto <fdinitto@redhat.com>
Date:   Mon Apr 27 11:37:59 2009 +0000

    Fix debug: on option for logging purposes
    
    
    git-svn-id: http://svn.fedorahosted.org/svn/corosync/trunk@2160 fd59a12c-fef9-0310-b244-a6a79926bd2f

diff --git a/exec/logsys.c b/exec/logsys.c
index 7fa89044..507d407d 100644
--- a/exec/logsys.c
+++ b/exec/logsys.c
@@ -1106,7 +1106,8 @@ void _logsys_log_vprintf (
 	}
 
 	if ((level > logsys_loggers[subsysid].syslog_priority) &&
-	    (level > logsys_loggers[subsysid].logfile_priority)) {
+	    (level > logsys_loggers[subsysid].logfile_priority) &&
+	    (logsys_loggers[subsysid].debug == 0)) {
 		return;
 	}
 
@@ -1161,7 +1162,8 @@ void _logsys_log_printf (
 	}
 
 	if ((level > logsys_loggers[subsysid].syslog_priority) &&
-	    (level > logsys_loggers[subsysid].logfile_priority)) {
+	    (level > logsys_loggers[subsysid].logfile_priority) &&
+	    (logsys_loggers[subsysid].debug == 0)) {
 		return;
 	}
 

