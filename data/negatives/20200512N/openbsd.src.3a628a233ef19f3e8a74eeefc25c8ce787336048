commit 3a628a233ef19f3e8a74eeefc25c8ce787336048
Author: deraadt <deraadt@openbsd.org>
Date:   Fri Jun 21 14:31:53 1996 +0000

    only deal with ffs filesystems; netbsd pr#2652, greywolf@starwolf.com
    (should we deal with mfs?)

diff --git a/sbin/dump/optr.c b/sbin/dump/optr.c
index 51470e2b565..ba1f0809405 100644
--- a/sbin/dump/optr.c
+++ b/sbin/dump/optr.c
@@ -440,6 +440,8 @@ getfstab()
 		return;
 	}
 	while ((fs = getfsent()) != NULL) {
+		if (strcmp(fs->fs_vfstype, "ffs"))
+			continue;
 		if (strcmp(fs->fs_type, FSTAB_RW) &&
 		    strcmp(fs->fs_type, FSTAB_RO) &&
 		    strcmp(fs->fs_type, FSTAB_RQ))

