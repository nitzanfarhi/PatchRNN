commit 049436b9804394e4d6caf7da5f3507bd8f4caa6e
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Mon May 23 20:38:52 2011 -0500

    rtlwifi: rtl8192se: Synchronize IRQ after disabling it
    
    As suggested by Mike McCormack <mikem@ring3k.org> for rtl8192ce, make sure any IRQ
    handlers running on other CPUs complete.
    
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

diff --git a/drivers/net/wireless/rtlwifi/rtl8192se/hw.c b/drivers/net/wireless/rtlwifi/rtl8192se/hw.c
index 6ff0caca9584..35dd12d0dcf3 100644
--- a/drivers/net/wireless/rtlwifi/rtl8192se/hw.c
+++ b/drivers/net/wireless/rtlwifi/rtl8192se/hw.c
@@ -1226,6 +1226,7 @@ void rtl92se_disable_interrupt(struct ieee80211_hw *hw)
 	rtl_write_dword(rtlpriv, INTA_MASK + 4, 0);
 
 	rtlpci->irq_enabled = false;
+	synchronize_irq(rtlpci->pdev->irq);
 }
 
 

