commit 292ef0fcf831293427972435fa9c749952c56549
Author: Fabrizio Furano <furano@cern.ch>
Date:   Tue Jun 26 10:49:08 2018 +0200

    Avoid a lookup to the staticpreload hash if there is no staticpreload. Fixes https://github.com/xrootd/xrootd/issues/753

diff --git a/src/XrdHttp/XrdHttpReq.cc b/src/XrdHttp/XrdHttpReq.cc
index 9c7069a5..a696f227 100644
--- a/src/XrdHttp/XrdHttpReq.cc
+++ b/src/XrdHttp/XrdHttpReq.cc
@@ -921,12 +921,15 @@ int XrdHttpReq::ProcessHTTPReq() {
                 } else {
 
                   // We lookup the requested path in a hash containing the preread files
-                  XrdHttpProtocol::StaticPreloadInfo *mydata = prot->staticpreload->Find(resource.c_str());
-                  if (mydata) {
+                  if (prot->staticpreload) {
+                    XrdHttpProtocol::StaticPreloadInfo *mydata = prot->staticpreload->Find(resource.c_str());
+                    if (mydata) {
                       prot->SendSimpleResp(200, NULL, NULL, (char *) mydata->data, mydata->len);
                       reset();
                       return 1;
                     }
+                  }
+                  
                 }
 
 

