commit 34383f0bd0cd5aed0f6bb8466de9c4573532d2ae
Author: Dmitry Stogov <dmitry@php.net>
Date:   Wed Jul 11 12:57:36 2007 +0000

    Made uniform error reporting for unicode/non-unicode modes

diff --git a/Zend/zend_API.c b/Zend/zend_API.c
index 8cc0819ea3..20839caeff 100644
--- a/Zend/zend_API.c
+++ b/Zend/zend_API.c
@@ -368,7 +368,7 @@ static char *zend_parse_arg_impl(int arg_num, zval **arg, va_list *va, char **sp
 							double d;
 							int type;
 
-							if ((type = is_numeric_unicode(Z_USTRVAL_PP(arg), Z_USTRLEN_PP(arg), p, &d, 0)) == 0) {
+							if ((type = is_numeric_unicode(Z_USTRVAL_PP(arg), Z_USTRLEN_PP(arg), p, &d, -1)) == 0) {
 								return "long";
 							} else if (type == IS_DOUBLE) {
 								*p = (long) d;

