commit dbcae1d87e3a78540ad6c36087a5f73364ea77d8
Author: Eric S. Raymond <esr@thyrsus.com>
Date:   Fri Feb 8 16:03:44 2008 +0000

    Address bug #11001.
    
    Turning the option off had been (a) suppressing death animations and
    (b) suppressing scrolling to an attacking unit.
    
    With this minor code tweak it will suppress attack animations
    entirely.  (It looks as though it was intended to do this all along
    but someone made a coding error.)

diff --git a/src/unit_display.cpp b/src/unit_display.cpp
index 7c0777820f..1f1ebca955 100644
--- a/src/unit_display.cpp
+++ b/src/unit_display.cpp
@@ -187,11 +187,10 @@ void unit_attack(
 		  int swing,std::string hit_text)
 {
 	game_display* disp = game_display::get_singleton();
-	if(!disp) return;
+	if(!disp || preferences::show_combat() == false) return;
 	unit_map& units = disp->get_units();
 	disp->select_hex(gamemap::location::null_location);
-	const bool hide = disp->video().update_locked() || disp->fogged(a) && disp->fogged(b)
-	                  || preferences::show_combat() == false;
+	const bool hide = disp->video().update_locked() || disp->fogged(a) && disp->fogged(b);
 
 	if(!hide) {
 		disp->scroll_to_tiles(a,b,game_display::ONSCREEN);
@@ -242,10 +241,6 @@ void unit_attack(
 		}
 	}
 
-
-
-
-
 	animator.start_animations();
 	animator.wait_for_end();
 

