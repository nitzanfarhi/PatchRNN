commit bd4510b6afe241bc1e92f690d0fcec415e64169d
Author: Lars Marowsky-Bree <lmb@suse.de>
Date:   Thu Jan 4 20:23:36 2007 +0100

    crmd: crm_str_ -> safe_str_
    
    Mercurial revision: 2a6a72bb7c161a25f72cb05efa8d6d35b22ceea3

diff --git a/crm/crmd/election.c b/crm/crmd/election.c
index 6d881d520..a332396dd 100644
--- a/crm/crmd/election.c
+++ b/crm/crmd/election.c
@@ -232,7 +232,7 @@ do_election_count_vote(long long action,
 	crm_debug("Election %d, owner: %s", election_id, election_owner);
 	
 	/* update the list of nodes that have voted */
-	if(crm_str_eq(fsa_our_uuid, election_owner)) {
+	if(safe_str_eq(fsa_our_uuid, election_owner)) {
 		if(election_id == current_election_id) {
 			char *uname_copy = NULL;
 			char *op_copy = crm_strdup(op);
@@ -248,15 +248,15 @@ do_election_count_vote(long long action,
 		}
 			
 	} else {
-		CRM_CHECK(crm_str_neq(op, CRM_OP_NOVOTE), return I_NULL);
+		CRM_CHECK(safe_str_neq(op, CRM_OP_NOVOTE), return I_NULL);
 	}
 	
-	if(vote_from == NULL || crm_str_eq(vote_from, fsa_our_uname)) {
+	if(vote_from == NULL || safe_str_eq(vote_from, fsa_our_uname)) {
 		/* don't count our own vote */
 		crm_info("Election ignore: our %s (%s)", op,crm_str(vote_from));
 		return I_NULL;
 
-	} else if(crm_str_eq(op, CRM_OP_NOVOTE)) {
+	} else if(safe_str_eq(op, CRM_OP_NOVOTE)) {
 		crm_info("Election ignore: no-vote from %s", vote_from);
 		return I_NULL;
 	}

