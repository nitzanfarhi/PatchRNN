commit 43cceff82cc20413cce58ba3375e19684e62cec4
Author: Darren Tucker <dtucker@zip.com.au>
Date:   Mon Sep 12 13:55:37 2016 +1000

    Move ssh-keygen -W handling code to match upstream

diff --git a/ssh-keygen.c b/ssh-keygen.c
index 07f78eef..bf7ade95 100644
--- a/ssh-keygen.c
+++ b/ssh-keygen.c
@@ -2448,13 +2448,6 @@ main(int argc, char **argv)
 			break;
 #ifdef WITH_OPENSSL
 		/* Moduli generation/screening */
-		case 'W':
-			generator_wanted = (u_int32_t)strtonum(optarg, 1,
-			    UINT_MAX, &errstr);
-			if (errstr)
-				fatal("Desired generator has bad value: %s (%s)",
-					optarg, errstr);
-			break;
 		case 'G':
 			do_gen_candidates = 1;
 			if (strlcpy(out_file, optarg, sizeof(out_file)) >=
@@ -2489,6 +2482,13 @@ main(int argc, char **argv)
 			    sizeof(out_file))
 				fatal("Output filename too long");
 			break;
+		case 'W':
+			generator_wanted = (u_int32_t)strtonum(optarg, 1,
+			    UINT_MAX, &errstr);
+			if (errstr)
+				fatal("Desired generator has bad value: %s (%s)",
+					optarg, errstr);
+			break;
 #endif /* WITH_OPENSSL */
 		case '?':
 		default:

