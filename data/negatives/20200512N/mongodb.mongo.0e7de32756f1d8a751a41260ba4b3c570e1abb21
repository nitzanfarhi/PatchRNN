commit 0e7de32756f1d8a751a41260ba4b3c570e1abb21
Author: Eliot Horowitz <eliot@10gen.com>
Date:   Fri Jul 16 01:09:05 2010 -0400

    remove 1 listDatabase method

diff --git a/s/commands_admin.cpp b/s/commands_admin.cpp
index 32b4c92bbf..15529b2636 100644
--- a/s/commands_admin.cpp
+++ b/s/commands_admin.cpp
@@ -184,30 +184,6 @@ namespace mongo {
 
         // ------------ database level commands -------------
 
-        class ListDatabaseCommand : public GridAdminCmd {
-        public:
-            ListDatabaseCommand() : GridAdminCmd("listDatabases") { }
-            bool run(const string& , BSONObj& cmdObj, string& errmsg, BSONObjBuilder& result, bool){
-                ScopedDbConnection conn( configServer.getPrimary() );
-
-                auto_ptr<DBClientCursor> cursor = conn->query( "config.databases" , BSONObj() );
-
-                BSONObjBuilder list;
-                int num = 0;
-                while ( cursor->more() ){
-                    string s = BSONObjBuilder::numStr( num++ );
-
-                    BSONObj o = cursor->next();
-                    list.append( s.c_str() , o["_id"].valuestrsafe() );
-                }
-
-                result.appendArray("databases" , list.obj() );
-                conn.done();
-
-                return true;
-            }
-        } gridListDatabase;
-
         class MoveDatabasePrimaryCommand : public GridAdminCmd {
         public:
             MoveDatabasePrimaryCommand() : GridAdminCmd("movePrimary") { }

