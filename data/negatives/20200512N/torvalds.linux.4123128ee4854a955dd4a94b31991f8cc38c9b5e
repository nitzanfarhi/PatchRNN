commit 4123128ee4854a955dd4a94b31991f8cc38c9b5e
Author: Liam Girdwood <lrg@ti.com>
Date:   Fri Jul 6 16:56:16 2012 +0100

    ASoC: dapm: Make sure all dapm contexts are updated
    
    Make sure we set the bias level for all DAPM contexts when
    changing level.
    
    Signed-off-by: Liam Girdwood <lrg@ti.com>
    Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>

diff --git a/sound/soc/soc-dapm.c b/sound/soc/soc-dapm.c
index 114f2af5f304..7c9cd276c2fc 100644
--- a/sound/soc/soc-dapm.c
+++ b/sound/soc/soc-dapm.c
@@ -288,9 +288,9 @@ static int snd_soc_dapm_set_bias_level(struct snd_soc_dapm_context *dapm,
 		if (dapm->codec->driver->set_bias_level)
 			ret = dapm->codec->driver->set_bias_level(dapm->codec,
 								  level);
-		else
-			dapm->bias_level = level;
-	}
+	} else
+		dapm->bias_level = level;
+
 	if (ret != 0)
 		goto out;
 

