commit 9e28d7e8c5422a47db886c4104221ea165595de0
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Dec 8 19:03:58 2008 +0000

    [ARM] dma: convert IOMD DMA to use sg_next()
    
    ... rather than incrementing the sg pointer.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

diff --git a/arch/arm/mach-rpc/dma.c b/arch/arm/mach-rpc/dma.c
index 0163592b2af0..a5987bbed60d 100644
--- a/arch/arm/mach-rpc/dma.c
+++ b/arch/arm/mach-rpc/dma.c
@@ -67,7 +67,7 @@ static void iomd_get_next_sg(struct scatterlist *sg, struct iomd_dma *idma)
 
 		if (idma->dma.sg->length == 0) {
 			if (idma->dma.sgcount > 1) {
-				idma->dma.sg++;
+				idma->dma.sg = sg_next(idma->dma.sg);
 				idma->dma.sgcount--;
 			} else {
 				idma->dma.sg = NULL;

