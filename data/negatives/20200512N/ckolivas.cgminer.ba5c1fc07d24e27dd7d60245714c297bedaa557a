commit ba5c1fc07d24e27dd7d60245714c297bedaa557a
Author: Con Kolivas <kernel@kolivas.org>
Date:   Thu Jul 5 00:22:42 2012 +1000

    Use BE when setting nonce in bitforce nonce range work.

diff --git a/driver-bitforce.c b/driver-bitforce.c
index 68fe2651..154a2e68 100644
--- a/driver-bitforce.c
+++ b/driver-bitforce.c
@@ -292,9 +292,10 @@ re_send:
 		uint32_t *nonce;
 
 		nonce = (uint32_t *)(ob + 8 + 32 + 12);
-		*nonce = work->blk.nonce;
+		*nonce = htobe32(work->blk.nonce);
 		nonce = (uint32_t *)(ob + 8 + 32 + 12 + 4);
-		bitforce->end_nonce = *nonce = work->blk.nonce + 0x40000000;
+		bitforce->end_nonce = work->blk.nonce + 0x40000000;
+		*nonce = htobe32(bitforce->end_nonce);
 		sprintf((char *)ob + 8 + 32 + 12 + 8, ">>>>>>>>");
 		BFwrite(fdDev, ob, 68);
 	}

