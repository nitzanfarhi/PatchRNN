commit e4ec49fe7651dc0ad93e91bfa570b1bed6fc7e4b
Author: Ken Gaillot <kgaillot@redhat.com>
Date:   Fri Apr 10 18:30:24 2015 -0400

    Log: cib: restore read-and-verify logging to 1.1.12 verbosity

diff --git a/cib/io.c b/cib/io.c
index b283b619a..e2873a896 100644
--- a/cib/io.c
+++ b/cib/io.c
@@ -78,6 +78,8 @@ retrieveCib(const char *filename, const char *sigfile)
 {
     xmlNode *root = NULL;
 
+    crm_info("Reading cluster configuration file %s (digest: %s)",
+             filename, sigfile);
     switch (cib_file_read_and_verify(filename, sigfile, &root)) {
         case -pcmk_err_cib_corrupt:
             crm_warn("Continuing but %s will NOT be used.", filename);
@@ -230,6 +232,8 @@ readCibXmlFile(const char *dir, const char *file, gboolean discard_status)
         filename = crm_strdup_printf("%s/%s", cib_root, namelist[lpc]->d_name);
         sigfile = crm_concat(filename, "sig", '.');
 
+        crm_info("Reading cluster configuration file %s (digest: %s)",
+                 filename, sigfile);
         if (cib_file_read_and_verify(filename, sigfile, &root) < 0) {
             crm_warn("Continuing but %s will NOT be used.", filename);
         } else {
diff --git a/lib/cib/cib_file.c b/lib/cib/cib_file.c
index d2da2a20f..5b8a64b4b 100644
--- a/lib/cib/cib_file.c
+++ b/lib/cib/cib_file.c
@@ -145,7 +145,6 @@ cib_file_read_and_verify(const char *filename, const char *sigfile, xmlNode **ro
     }
 
     /* Parse XML */
-    crm_info("Reading cluster configuration file %s", filename);
     local_root = filename2xml(filename);
     if (local_root == NULL) {
         crm_warn("Cluster configuration file %s is corrupt (unparseable as XML)", filename);
@@ -158,7 +157,6 @@ cib_file_read_and_verify(const char *filename, const char *sigfile, xmlNode **ro
     }
 
     /* Verify that digests match */
-    crm_debug("Verifying cluster configuration signature from %s", sigfile);
     if (cib_file_verify_digest(local_root, sigfile) == FALSE) {
         free(local_sigfile);
         free_xml(local_root);
@@ -369,6 +367,7 @@ cib_file_write_with_digest(xmlNode *cib_root, const char *cib_dirname,
                && (tmp_cib != NULL) && (tmp_digest != NULL));
 
     /* Ensure the admin didn't modify the existing CIB underneath us */
+    crm_trace("Reading cluster configuration file %s", cib_path);
     rc = cib_file_read_and_verify(cib_path, NULL, NULL);
     if ((rc != pcmk_ok) && (rc != -ENOENT)) {
         crm_err("%s was manually modified while the cluster was active!",
@@ -439,6 +438,8 @@ cib_file_write_with_digest(xmlNode *cib_root, const char *cib_dirname,
     crm_debug("Wrote digest %s to disk", digest);
 
     /* Verify that what we wrote is sane */
+    crm_info("Reading cluster configuration file %s (digest: %s)",
+             tmp_cib, tmp_digest);
     rc = cib_file_read_and_verify(tmp_cib, tmp_digest, NULL);
     CRM_ASSERT(rc == 0);
 

