commit 2b5c1efa1465d8646f8be525cace7a21404e40ad
Author: Vittorio Giovara <vittorio.giovara@gmail.com>
Date:   Wed Nov 12 11:13:04 2014 +0100

    g2meet: check ff_set_dimensions return value
    
    CC: libav-stable@libav.org
    Bug-Id: CID 1135739

diff --git a/libavcodec/g2meet.c b/libavcodec/g2meet.c
index c405f38e42..33934f1bf7 100644
--- a/libavcodec/g2meet.c
+++ b/libavcodec/g2meet.c
@@ -719,8 +719,11 @@ static int g2m_decode_frame(AVCodecContext *avctx, void *data,
                 ret = AVERROR_INVALIDDATA;
                 goto header_fail;
             }
-            if (c->width != avctx->width || c->height != avctx->height)
-                ff_set_dimensions(avctx, c->width, c->height);
+            if (c->width != avctx->width || c->height != avctx->height) {
+                ret = ff_set_dimensions(avctx, c->width, c->height);
+                if (ret < 0)
+                    return ret;
+            }
             c->compression = bytestream2_get_be32(&bc);
             if (c->compression != 2 && c->compression != 3) {
                 av_log(avctx, AV_LOG_ERROR,

