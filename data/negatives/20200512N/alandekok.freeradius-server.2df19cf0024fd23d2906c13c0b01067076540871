commit 2df19cf0024fd23d2906c13c0b01067076540871
Author: Alan T. DeKok <aland@freeradius.org>
Date:   Sun Nov 22 16:56:14 2009 +0100

    Print names for unsupported eap types

diff --git a/src/modules/rlm_eap/eap.c b/src/modules/rlm_eap/eap.c
index 271a1bd4e..3fdc5f71d 100644
--- a/src/modules/rlm_eap/eap.c
+++ b/src/modules/rlm_eap/eap.c
@@ -327,8 +327,16 @@ int eaptype_select(rlm_eap_t *inst, EAP_HANDLER *handler)
 
 			if ((eaptype->data[i] > PW_EAP_MAX_TYPES) ||
 			    !inst->types[eaptype->data[i]]) {
-				RDEBUG2("NAK asked for unsupported type %d",
-				       eaptype->data[i]);
+				DICT_VALUE *dv;
+
+				dv = dict_valbyattr(PW_EAP_TYPE, eaptype->data[i]);
+				if (dv) {
+					RDEBUG2("NAK asked for unsupported type %s",
+						dv->name);
+				} else {
+					RDEBUG2("NAK asked for unsupported type %d",
+						eaptype->data[i]);
+				}
 				continue;
 			}
 

