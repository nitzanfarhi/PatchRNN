commit 76208638e285132c874c3f7eb14fc01d9d19ca52
Author: alvarofe <alvaro.felipe91@gmail.com>
Date:   Sun Aug 27 02:50:36 2017 +0200

    Use RBinSection instead of RIOSection for virtual tables

diff --git a/libr/core/anal_vt.c b/libr/core/anal_vt.c
index b18908856..baafd5bbb 100644
--- a/libr/core/anal_vt.c
+++ b/libr/core/anal_vt.c
@@ -79,15 +79,16 @@ RList* search_virtual_tables(RCore *core){
 	}
 	ut64 startAddress;
 	ut64 endAddress;
-	SdbListIter * iter;
-	RIOSection *section;
+	RListIter * iter;
+	RBinSection *section;
+	RList *sections = r_bin_get_sections (core->bin);
 	RList *vtables = r_list_newf ((RListFree)free);
-	if (!vtables) {
+	if (!vtables || !sections) {
 		return NULL;
 	}
 	ut64 bits = r_config_get_i (core->config, "asm.bits");
 	int wordSize = bits / 8;
-	ls_foreach (core->io->sections, iter, section) {
+	r_list_foreach (sections, iter, section) {
 		if (!strcmp (section->name, ".rodata")) {
 			ut8 *segBuff = calloc (1, section->size);
 			r_io_read_at (core->io, section->vaddr, segBuff, section->vsize);

