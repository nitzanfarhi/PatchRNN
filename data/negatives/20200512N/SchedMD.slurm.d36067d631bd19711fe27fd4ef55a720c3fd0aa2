commit d36067d631bd19711fe27fd4ef55a720c3fd0aa2
Author: Danny Auble <da@schedmd.com>
Date:   Wed May 9 10:25:04 2012 -0700

    add slurm_set_launch_type

diff --git a/src/common/slurm_protocol_api.c b/src/common/slurm_protocol_api.c
index 74724585fd..c4be192771 100644
--- a/src/common/slurm_protocol_api.c
+++ b/src/common/slurm_protocol_api.c
@@ -1522,6 +1522,24 @@ char *slurm_get_launch_type(void)
 	return launch_type;
 }
 
+/* slurm_set_launch_type
+ * set launch_type in slurmctld_conf object
+ * RET 0 or error code
+ */
+int slurm_set_launch_type(char *launch_type)
+{
+	slurm_ctl_conf_t *conf;
+
+	if (slurmdbd_conf) {
+	} else {
+		conf = slurm_conf_lock();
+		xfree(conf->launch_type);
+		conf->launch_type = xstrdup(launch_type);
+		slurm_conf_unlock();
+	}
+	return 0;
+}
+
 
 /* slurm_get_preempt_type
  * get PreemptType from slurmctld_conf object
diff --git a/src/common/slurm_protocol_api.h b/src/common/slurm_protocol_api.h
index 9068c09bdd..9ef693184d 100644
--- a/src/common/slurm_protocol_api.h
+++ b/src/common/slurm_protocol_api.h
@@ -449,6 +449,12 @@ int slurm_set_accounting_storage_port(uint32_t storage_port);
  */
 char *slurm_get_launch_type(void);
 
+/* slurm_set_launch_type
+ * set launch_type in slurmctld_conf object
+ * RET 0 or error code
+ */
+int slurm_set_launch_type(char *launch_type);
+
 /* slurm_get_preempt_mode
  * returns the PreemptMode value from slurmctld_conf object
  * RET uint16_t   - PreemptMode value (See PREEMPT_MODE_* in slurm.h)

