commit ca00f3084dcb10fc92e256aec09056bb36e60dd4
Author: Christophe Dumez <chris@qbittorrent.org>
Date:   Mon Aug 24 07:57:56 2009 +0000

    - "add new Feed" when clicking on "Unread" item will not add the new feed as a child to "Unread" item

diff --git a/src/rss_imp.cpp b/src/rss_imp.cpp
index 68dd2f864..71e73c707 100644
--- a/src/rss_imp.cpp
+++ b/src/rss_imp.cpp
@@ -131,10 +131,14 @@ void RSSImp::displayOverwriteError(QString filename) {
 // add a stream by a button
 void RSSImp::on_newFeedButton_clicked() {
   // Determine parent folder for new feed
-  QTreeWidgetItem *parent_item =0;
+  QTreeWidgetItem *parent_item = 0;
   QList<QTreeWidgetItem *> selected_items = listStreams->selectedItems();
-  if(!selected_items.empty())
+  if(!selected_items.empty()) {
     parent_item = selected_items.first();
+    // Consider the case where the user clicked on Unread item
+    if(parent_item == listStreams->getUnreadItem())
+      parent_item = 0;
+  }
   RssFolder *rss_parent;
   if(parent_item) {
     RssFile* tmp = listStreams->getRSSItem(parent_item);

