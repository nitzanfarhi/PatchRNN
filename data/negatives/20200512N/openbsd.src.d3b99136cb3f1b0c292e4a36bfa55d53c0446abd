commit d3b99136cb3f1b0c292e4a36bfa55d53c0446abd
Author: nicm <nicm@openbsd.org>
Date:   Fri May 27 17:05:42 2016 +0000

    Use getprogname() instead of __progname to make portability easier.

diff --git a/usr.bin/tmux/tmux.c b/usr.bin/tmux/tmux.c
index fc6572de684..6602cf08734 100644
--- a/usr.bin/tmux/tmux.c
+++ b/usr.bin/tmux/tmux.c
@@ -1,4 +1,4 @@
-/* $OpenBSD: tmux.c,v 1.169 2016/05/04 21:29:47 nicm Exp $ */
+/* $OpenBSD: tmux.c,v 1.170 2016/05/27 17:05:42 nicm Exp $ */
 
 /*
  * Copyright (c) 2007 Nicholas Marriott <nicholas.marriott@gmail.com>
@@ -53,7 +53,7 @@ usage(void)
 	fprintf(stderr,
 	    "usage: %s [-2Cluv] [-c shell-command] [-f file] [-L socket-name]\n"
 	    "            [-S socket-path] [command [flags]]\n",
-	    __progname);
+	    getprogname());
 	exit(1);
 }
 
@@ -95,7 +95,7 @@ areshell(const char *shell)
 		ptr++;
 	else
 		ptr = shell;
-	progname = __progname;
+	progname = getprogname();
 	if (*progname == '-')
 		progname++;
 	if (strcmp(ptr, progname) == 0)
diff --git a/usr.bin/tmux/tmux.h b/usr.bin/tmux/tmux.h
index 5a24d0e03ab..233cb20f987 100644
--- a/usr.bin/tmux/tmux.h
+++ b/usr.bin/tmux/tmux.h
@@ -1,4 +1,4 @@
-/* $OpenBSD: tmux.h,v 1.630 2016/05/12 16:05:33 tim Exp $ */
+/* $OpenBSD: tmux.h,v 1.631 2016/05/27 17:05:42 nicm Exp $ */
 
 /*
  * Copyright (c) 2007 Nicholas Marriott <nicholas.marriott@gmail.com>
@@ -36,7 +36,6 @@
 
 #include "xmalloc.h"
 
-extern char    *__progname;
 extern char   **environ;
 
 struct client;

