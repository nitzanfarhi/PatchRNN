commit ab46d8b2a346ef9d2dc70d7e11aef5e752a090f8
Author: Tomi Valkeinen <tomi.valkeinen@ti.com>
Date:   Mon Apr 4 09:36:23 2011 +0300

    OMAP: DSS2: improve clock debugfs output
    
    OMAP4 has clocks set up in a bit interesting way, causing, for example,
    the DSS's "ick" to be called "dss_fck".
    
    This patch changes the debugfs output to show both the DSS's name for
    the clock (ie. basically the clock alias), and the real name from the
    clock struct.
    
    Signed-off-by: Tomi Valkeinen <tomi.valkeinen@ti.com>

diff --git a/drivers/video/omap2/dss/dss.c b/drivers/video/omap2/dss/dss.c
index 10ed2b2cc72b..ff61a08ff7b2 100644
--- a/drivers/video/omap2/dss/dss.c
+++ b/drivers/video/omap2/dss/dss.c
@@ -1026,6 +1026,14 @@ static void core_dump_clocks(struct seq_file *s)
 		dss.dss_video_fck
 	};
 
+	const char *names[5] = {
+		"ick",
+		"fck",
+		"sys_clk",
+		"tv_fck",
+		"video_fck"
+	};
+
 	seq_printf(s, "- CORE -\n");
 
 	seq_printf(s, "internal clk count\t\t%u\n", dss.num_clks_enabled);
@@ -1033,8 +1041,11 @@ static void core_dump_clocks(struct seq_file *s)
 	for (i = 0; i < 5; i++) {
 		if (!clocks[i])
 			continue;
-		seq_printf(s, "%-15s\t%lu\t%d\n",
+		seq_printf(s, "%s (%s)%*s\t%lu\t%d\n",
+				names[i],
 				clocks[i]->name,
+				24 - strlen(names[i]) - strlen(clocks[i]->name),
+				"",
 				clk_get_rate(clocks[i]),
 				clocks[i]->usecount);
 	}

