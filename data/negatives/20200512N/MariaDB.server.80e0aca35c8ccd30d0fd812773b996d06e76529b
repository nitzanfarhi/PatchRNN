commit 80e0aca35c8ccd30d0fd812773b996d06e76529b
Author: marko <Unknown>
Date:   Wed Apr 29 07:51:25 2009 +0000

    branches/zip: btr_cur_optimistic_insert(): Remove a redundant condition.
    The insert buffer tree is a clustered index.

diff --git a/btr/btr0cur.c b/btr/btr0cur.c
index e5d775bc7d5..0524692c9d6 100644
--- a/btr/btr0cur.c
+++ b/btr/btr0cur.c
@@ -1252,9 +1252,7 @@ btr_cur_optimistic_insert(
 		buf_block_get_page_no(block), max_size,
 		rec_size + PAGE_DIR_SLOT_SIZE, index->type);
 #endif
-	if (leaf
-	    && !dict_index_is_clust(index)
-	    && !dict_index_is_ibuf(index)) {
+	if (leaf && !dict_index_is_clust(index)) {
 		/* Update the free bits of the B-tree page in the
 		insert buffer bitmap. */
 

