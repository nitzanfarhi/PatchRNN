commit 094d9d30f4e4c33917ae93f346a5d6d4b20a9e7f
Author: knielson <knielson@adaptivecomputing.com>
Date:   Thu Sep 24 10:44:57 2015 -0600

    Made it so cores or threads can be allocated on
    a numanode even if they will not be put into a cpuset

diff --git a/src/lib/Libutils/numa_chip.cpp b/src/lib/Libutils/numa_chip.cpp
index 21159eff7..4651f1e9d 100644
--- a/src/lib/Libutils/numa_chip.cpp
+++ b/src/lib/Libutils/numa_chip.cpp
@@ -1425,6 +1425,14 @@ void Chip::calculateStepCounts(
   int &place_count_remaining)
 
   {
+   if (lprocs_per_task == 0)
+     {
+     step = 0;
+     step_remainder = processing_units_per_task;
+     place_count = 0;
+     return;
+     }
+
    if (lprocs_per_task == 1)
     {
     step = (processing_units_per_task/2) + 1;

