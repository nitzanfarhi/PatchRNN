commit a321e7dcdfe9393b186733d0c6939721e742bc1a
Author: Anders Brander <anders@brander.dk>
Date:   Tue Aug 7 13:54:04 2007 +0000

    Added some sanity checking in gui_drawingarea_motion_callback().

diff --git a/src/drawingarea.c b/src/drawingarea.c
index bfd17984..cb777ba4 100644
--- a/src/drawingarea.c
+++ b/src/drawingarea.c
@@ -85,6 +85,8 @@ gui_drawingarea_motion_callback(GtkWidget *widget, GdkEventMotion *event, RS_BLO
 	gint y = (gint) event->y;
 	gushort *pixel;
 
+	if (!rs->photo) return FALSE;
+
 	/* Draw RGB-values at bottom of screen */
 	gui_set_values(rs, x, y);
 

