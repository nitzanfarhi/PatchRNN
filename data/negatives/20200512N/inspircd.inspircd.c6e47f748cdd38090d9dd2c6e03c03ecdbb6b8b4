commit c6e47f748cdd38090d9dd2c6e03c03ecdbb6b8b4
Author: brain <brain@e03df62e-2008-0410-955e-edbf42e46eb7>
Date:   Tue Aug 29 21:41:30 2006 +0000

    Fix for correct display when removing snomask
    
    
    git-svn-id: http://svn.inspircd.org/repository/trunk/inspircd@5078 e03df62e-2008-0410-955e-edbf42e46eb7

diff --git a/src/users.cpp b/src/users.cpp
index cde35c862..b919ae759 100644
--- a/src/users.cpp
+++ b/src/users.cpp
@@ -117,7 +117,7 @@ std::string userrec::ProcessNoticeMasks(const char *sm)
 				{
 					if ((!IsNoticeMaskSet(*c) && adding) || (IsNoticeMaskSet(*c) && !adding))
 					{
-						if ((oldadding != adding) || (sm == c))
+						if ((oldadding != adding) || (sm == (c+1)))
 							output += (adding ? '+' : '-');
 
 						this->SetNoticeMask(*c, adding);

