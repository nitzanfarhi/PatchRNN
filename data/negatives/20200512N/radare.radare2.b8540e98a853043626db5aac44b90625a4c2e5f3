commit b8540e98a853043626db5aac44b90625a4c2e5f3
Author: pancake <pancake@nopcode.org>
Date:   Wed Feb 15 02:35:54 2017 +0100

    Fix r2 -H RHOMEDIR

diff --git a/binr/radare2/radare2.c b/binr/radare2/radare2.c
index 14dae6f28..ca090ebfe 100755
--- a/binr/radare2/radare2.c
+++ b/binr/radare2/radare2.c
@@ -208,6 +208,7 @@ static int main_help(int line) {
 
 static int main_print_var(const char *var_name) {
 	int i = 0;
+	char *homedir = r_str_home (R2_HOMEDIR);
 	struct radare2_var_t {
 		const char *name;
 		const char *value;
@@ -218,11 +219,12 @@ static int main_print_var(const char *var_name) {
 		{ "INCDIR", R2_INCDIR },
 		{ "LIBDIR", R2_LIBDIR },
 		{ "LIBEXT", R_LIB_EXT },
-		{ "RHOMEDIR", R2_HOMEDIR },
+		{ "RHOMEDIR", homedir },
 		{ "LIBR_PLUGINS", R2_PREFIX"/lib/radare2/"R2_VERSION },
 		{ "USER_PLUGINS", r_str_home (R2_HOMEDIR) },
 		{ NULL, NULL }
 	};
+	free (homedir);
 
 	if (var_name) {
 		while (r2_vars[i].name) {

