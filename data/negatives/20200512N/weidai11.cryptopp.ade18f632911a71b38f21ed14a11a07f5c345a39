commit ade18f632911a71b38f21ed14a11a07f5c345a39
Author: Jeffrey Walton <noloader@gmail.com>
Date:   Fri Jan 8 07:15:56 2016 -0500

    Removed unneeded test for 0-sized SecBlock. Removed temporary SecBlock

diff --git a/secblock.h b/secblock.h
index 3a63b0c2..715ee1f6 100644
--- a/secblock.h
+++ b/secblock.h
@@ -572,18 +572,16 @@ public:
 
 		if(t.m_size)
 		{
+			const size_type oldSize = m_size;
 			if(this != &t)  // s += t
 			{
-				const size_type oldSize = m_size;
 				Grow(m_size+t.m_size);
 				memcpy_s(m_ptr+oldSize, (m_size-oldSize)*sizeof(T), t.m_ptr, t.m_size*sizeof(T));
 			}
 			else            // t += t
 			{
-				SecBlock result(m_size+t.m_size);
-				if(m_size) {memcpy_s(result.m_ptr, result.m_size*sizeof(T), m_ptr, m_size*sizeof(T));}
-				memcpy_s(result.m_ptr+m_size, (result.m_size-m_size)*sizeof(T), t.m_ptr, t.m_size*sizeof(T));
-				swap(result);
+				Grow(m_size*2);
+				memcpy_s(m_ptr+oldSize, (m_size-oldSize)*sizeof(T), m_ptr, oldSize*sizeof(T));
 			}
 		}
 		return *this;

