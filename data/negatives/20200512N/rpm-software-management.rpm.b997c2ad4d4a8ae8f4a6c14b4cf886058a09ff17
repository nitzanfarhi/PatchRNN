commit b997c2ad4d4a8ae8f4a6c14b4cf886058a09ff17
Author: ewt <devnull@localhost>
Date:   Sun Feb 7 23:14:04 1999 +0000

    don't let hdrs[] be sparse
    
    CVS patchset: 2786
    CVS date: 1999/02/07 23:14:04

diff --git a/lib/transaction.c b/lib/transaction.c
index 14ce899d5..e50bf86af 100644
--- a/lib/transaction.c
+++ b/lib/transaction.c
@@ -146,6 +146,7 @@ int rpmRunTransactions(rpmTransactionSet ts, rpmCallbackFunction notify,
 				     (void *) NULL, &fi->fc)) {
 	    fi->fc = 0;
 	    fi->h = alp->h;
+	    hdrs[alp - al->list] = headerLink(fi->h);
 	    continue;
 	}
 

