commit 62549f9655c48f0ec061087fa33a96040ce01145
Author: Anton Khirnov <anton@khirnov.net>
Date:   Wed Apr 3 09:44:25 2013 +0200

    lavfi: error out when options are provided to a filter that does not take any

diff --git a/libavfilter/avfilter.c b/libavfilter/avfilter.c
index 2dbd68fff..1ba91d982 100644
--- a/libavfilter/avfilter.c
+++ b/libavfilter/avfilter.c
@@ -480,7 +480,13 @@ int avfilter_init_filter(AVFilterContext *filter, const char *args, void *opaque
     AVDictionaryEntry *e;
     int ret=0;
 
-    if (args && *args && filter->filter->priv_class) {
+    if (args && *args) {
+        if (!filter->filter->priv_class) {
+            av_log(filter, AV_LOG_ERROR, "This filter does not take any "
+                   "options, but options were provided: %s.\n", args);
+            return AVERROR(EINVAL);
+        }
+
 #if FF_API_OLD_FILTER_OPTS
         if (!strcmp(filter->filter->name, "scale") &&
             strchr(args, ':') < strchr(args, '=')) {

