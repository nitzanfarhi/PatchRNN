commit 84298db3a43838da9ca2c7289fbe34428604fec4
Author: Bram Moolenaar <Bram@vim.org>
Date:   Fri Apr 20 13:46:08 2012 +0200

    updated for version 7.3.498
    Problem:    The behavior of the "- register changes depending on value of
                the 'clipboard' option. (Szamotulski)
    Solution:   Also set the "- register when the register is "*" or "+".
                (Christian Brabandt)

diff --git a/src/ops.c b/src/ops.c
index 146c990c6..bccac7790 100644
--- a/src/ops.c
+++ b/src/ops.c
@@ -1720,9 +1720,14 @@ op_delete(oap)
 		did_yank = TRUE;
 	}
 
-	/* Yank into small delete register when no register specified and the
-	 * delete is within one line. */
-	if (oap->regname == 0 && oap->motion_type != MLINE
+	/* Yank into small delete register when no named register specified
+	 * and the delete is within one line. */
+	if ((
+#ifdef FEAT_CLIPBOARD
+            ((clip_unnamed & CLIP_UNNAMED) && oap->regname == '*') ||
+            ((clip_unnamed & CLIP_UNNAMED_PLUS) && oap->regname == '+') ||
+#endif
+	    oap->regname == 0) && oap->motion_type != MLINE
 						      && oap->line_count == 1)
 	{
 	    oap->regname = '-';
diff --git a/src/version.c b/src/version.c
index b2f26a9ba..ed92464a4 100644
--- a/src/version.c
+++ b/src/version.c
@@ -714,6 +714,8 @@ static char *(features[]) =
 
 static int included_patches[] =
 {   /* Add new patch number below this line */
+/**/
+    498,
 /**/
     497,
 /**/

