commit e9a9e0c21090d18089d212c39e9249f9a7ed559c
Author: Fabrice Bellard <fabrice@bellard.org>
Date:   Thu Jan 23 23:34:29 2003 +0000

    use av_strdup()
    
    Originally committed as revision 1507 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/ffmpeg.c b/ffmpeg.c
index 7f5aadd7f..8fb82e6e0 100644
--- a/ffmpeg.c
+++ b/ffmpeg.c
@@ -1870,7 +1870,7 @@ void opt_audio_channels(const char *arg)
 
 void opt_video_device(const char *arg)
 {
-    video_device = strdup(arg);
+    video_device = av_strdup(arg);
 }
 
 void opt_video_channel(const char *arg)
@@ -1880,7 +1880,7 @@ void opt_video_channel(const char *arg)
 
 void opt_audio_device(const char *arg)
 {
-    audio_device = strdup(arg);
+    audio_device = av_strdup(arg);
 }
 
 void opt_dv1394(const char *arg)
@@ -1916,7 +1916,7 @@ void add_frame_hooker(const char *arg)
     int argc = 0;
     char *argv[64];
     int i;
-    char *args = strdup(arg);
+    char *args = av_strdup(arg);
 
     argv[0] = strtok(args, " ");
     while (argc < 62 && (argv[++argc] = strtok(NULL, " "))) {
@@ -2812,7 +2812,7 @@ int main(int argc, char **argv)
             }
             if (po->flags & OPT_STRING) {
                 char *str;
-                str = strdup(arg);
+                str = av_strdup(arg);
                 *po->u.str_arg = str;
             } else if (po->flags & OPT_BOOL) {
                 *po->u.int_arg = 1;
diff --git a/libavformat/ffm.c b/libavformat/ffm.c
index 3df2d5e73..da761cbed 100644
--- a/libavformat/ffm.c
+++ b/libavformat/ffm.c
@@ -421,7 +421,7 @@ static int ffm_read_header(AVFormatContext *s, AVFormatParameters *ap)
             codec->qcompress = get_be16(pb) / 10000.0;
             codec->qblur = get_be16(pb) / 10000.0;
             codec->bit_rate_tolerance = get_be32(pb);
-            codec->rc_eq = strdup(get_strz(pb, rc_eq_buf, sizeof(rc_eq_buf)));
+            codec->rc_eq = av_strdup(get_strz(pb, rc_eq_buf, sizeof(rc_eq_buf)));
             codec->rc_max_rate = get_be32(pb);
             codec->rc_min_rate = get_be32(pb);
             codec->rc_buffer_size = get_be32(pb);
diff --git a/vhook/fish.c b/vhook/fish.c
index 2de265feb..1e75e9c65 100644
--- a/vhook/fish.c
+++ b/vhook/fish.c
@@ -134,7 +134,7 @@ int Configure(void **ctxp, int argc, char *argv[])
                 ci->debug++;
                 break;
             case 'D':
-                ci->dir = strdup(optarg);
+                ci->dir = av_strdup(optarg);
                 break;
             default:
                 fprintf(stderr, "Unrecognized argument '%s'\n", argv[optind]);
diff --git a/vhook/imlib2.c b/vhook/imlib2.c
index 7da3586fe..64b1bae68 100644
--- a/vhook/imlib2.c
+++ b/vhook/imlib2.c
@@ -112,10 +112,10 @@ int Configure(void **ctxp, int argc, char *argv[])
                 font = optarg;
                 break;
             case 't':
-                ci->text = strdup(optarg);
+                ci->text = av_strdup(optarg);
                 break;
             case 'f':
-                ci->file = strdup(optarg);
+                ci->file = av_strdup(optarg);
                 break;
             case 'x':
                 ci->x = atoi(optarg);

