commit 9eaf90b2d35b21c79e74b840169fabff6322abda
Author: Con Kolivas <kernel@kolivas.org>
Date:   Mon Feb 24 01:43:05 2014 +1100

    Do a clear readbuf on any hfa reset in case the device  has not yet cleanly shut down.

diff --git a/driver-hashfast.c b/driver-hashfast.c
index 5e40ca4d..0bd7f853 100644
--- a/driver-hashfast.c
+++ b/driver-hashfast.c
@@ -368,6 +368,9 @@ resend:
 	if (unlikely(hashfast->usbinfo.nodev))
 		return false;
 
+	if (!hfa_clear_readbuf(hashfast))
+		return false;
+
 	if (!hfa_send_packet(hashfast, (struct hf_header *)hu, HF_USB_CMD(OP_USB_INIT)))
 		return false;
 

