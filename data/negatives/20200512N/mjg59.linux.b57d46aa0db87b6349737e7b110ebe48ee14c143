commit b57d46aa0db87b6349737e7b110ebe48ee14c143
Author: Reinette Chatre <reinette.chatre@intel.com>
Date:   Fri Aug 28 09:44:49 2009 -0700

    iwlwifi: fix situation in which debug message is printed
    
    3945 does not have update_chain_flags defined and because if this we always
    see the debug message that does not apply to it. Add a check to be specific
    about what is actually happening.
    
    Signed-off-by: Reinette Chatre <reinette.chatre@intel.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

diff --git a/drivers/net/wireless/iwlwifi/iwl-power.c b/drivers/net/wireless/iwlwifi/iwl-power.c
index 081a7ea40c6c..4ec6a8307cc6 100644
--- a/drivers/net/wireless/iwlwifi/iwl-power.c
+++ b/drivers/net/wireless/iwlwifi/iwl-power.c
@@ -321,7 +321,7 @@ int iwl_power_update_mode(struct iwl_priv *priv, bool force)
 			if (priv->cfg->ops->lib->update_chain_flags &&
 			    update_chains)
 				priv->cfg->ops->lib->update_chain_flags(priv);
-			else
+			else if (priv->cfg->ops->lib->update_chain_flags)
 				IWL_DEBUG_POWER(priv,
 					"Cannot update the power, chain noise "
 					"calibration running: %d\n",

