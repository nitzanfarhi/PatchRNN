commit c0bab19cf5aeb2533e0995a44283088b95a5a531
Author: ZyX <kp-pav@yandex.ru>
Date:   Sat Nov 15 20:51:18 2014 +0300

    option: Allow zero-length options
    
    Code that expected NUL-terminated strings allowed them and this behaviour is
    actually used.

diff --git a/src/nvim/option.c b/src/nvim/option.c
index fe205f4e6..314ad0b03 100644
--- a/src/nvim/option.c
+++ b/src/nvim/option.c
@@ -4309,13 +4309,12 @@ int findoption_len(const char_u *const arg, const size_t len)
     }
   }
 
-  assert(len > 0);
-
   /*
    * Check for name starting with an illegal character.
    */
-  if (arg[0] < 'a' || arg[0] > 'z')
+  if (len == 0 || arg[0] < 'a' || arg[0] > 'z') {
     return -1;
+  }
 
   int opt_idx;
   is_term_opt = (len > 2 && arg[0] == 't' && arg[1] == '_');

