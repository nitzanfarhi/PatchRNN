commit 60fdac6384d8c602ef41ca78c36957d9f6d90d55
Author: Andrew Beekhof <andrew@beekhof.net>
Date:   Wed May 7 16:35:36 2008 +0200

    Low: PE: Use action id's that wont cause conflicts when we invert the ordering constraint
    
    Mercurial revision: 13b3d72c69fdf1185af9b165ade4a285706db9c9

diff --git a/pengine/constraints.c b/pengine/constraints.c
index 8c2af03e8..2ff9988e9 100644
--- a/pengine/constraints.c
+++ b/pengine/constraints.c
@@ -703,13 +703,16 @@ unpack_order_set(xmlNode *set, int score, action_t **begin, action_t **end, pe_w
     
     char *key = NULL;
     const char *id = ID(set);
-    const char *end_id = crm_concat(id, "done", '-');
     const char *action = crm_element_value(set, "action");
     const char *sequential_s = crm_element_value(set, "sequential");
     const char *score_s = crm_element_value(set, XML_RULE_ATTR_SCORE);
 
-    *begin = get_pseudo_op(id, data_set);
+    const char *pseudo_id = crm_concat(id, action, '-');
+    const char *end_id    = crm_concat(pseudo_id, "end", '-');
+    const char *begin_id  = crm_concat(pseudo_id, "begin", '-');
+
     *end = get_pseudo_op(end_id, data_set);
+    *begin = get_pseudo_op(begin_id, data_set);
     
     if(score_s) {
 	local_score = char2score(score_s);

