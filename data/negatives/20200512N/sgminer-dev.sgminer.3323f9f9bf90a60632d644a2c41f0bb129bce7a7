commit 3323f9f9bf90a60632d644a2c41f0bb129bce7a7
Author: Con Kolivas <kernel@kolivas.org>
Date:   Thu Jan 23 23:57:12 2014 +1100

    Generically increase the queue if we are mining on a pool without local work generation each time we run out of work.

diff --git a/sgminer.c b/sgminer.c
index 77d680f2..efc56882 100644
--- a/sgminer.c
+++ b/sgminer.c
@@ -8101,6 +8101,8 @@ begin_bench:
 			applog(LOG_WARNING, "%s not providing work fast enough", cp->poolname);
 			cp->getfail_occasions++;
 			total_go++;
+			if (!pool_localgen(cp))
+				applog(LOG_INFO, "Increasing queue to %d", ++opt_queue);
 		}
 		pool = select_pool(lagging);
 retry:

