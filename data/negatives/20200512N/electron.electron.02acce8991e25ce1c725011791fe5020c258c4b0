commit 02acce8991e25ce1c725011791fe5020c258c4b0
Author: Cheng Zhao <zcbenz@gmail.com>
Date:   Sun Jun 19 17:49:31 2016 +0900

    linux: Make modal dialog show more smoothly

diff --git a/atom/browser/native_window_views.cc b/atom/browser/native_window_views.cc
index 5cb005a92..0dcef4661 100644
--- a/atom/browser/native_window_views.cc
+++ b/atom/browser/native_window_views.cc
@@ -837,9 +837,10 @@ void NativeWindowViews::SetParentWindow(NativeWindow* parent) {
 
 void NativeWindowViews::SetModal(bool modal) {
 #if defined(USE_X11)
+  SetWindowType(GetAcceleratedWidget(), modal ? "dialog" : "normal");
+  Show();
   SetWMSpecState(GetAcceleratedWidget(), modal,
                  GetAtom("_NET_WM_STATE_MODAL"));
-  SetWindowType(GetAcceleratedWidget(), modal ? "dialog" : "normal");
 #endif
 }
 

