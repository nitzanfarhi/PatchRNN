commit 857cff5a694d7c697c2d8c0120614d5ff198681e
Author: unknown <jonas@perch.ndb.mysql.com>
Date:   Mon Jan 30 21:07:01 2006 +0100

    bug#10987 - rpl_ndb_bank -
      Allow GET_TABINFO during BACKUP
      (otherwise LCP gets corrupt)
    
    
    storage/ndb/src/kernel/blocks/dbdict/Dbdict.cpp:
      All GET_TABINFO during BACKUP

diff --git a/storage/ndb/src/kernel/blocks/dbdict/Dbdict.cpp b/storage/ndb/src/kernel/blocks/dbdict/Dbdict.cpp
index e5b29785ea6..71e6dfbfd7b 100644
--- a/storage/ndb/src/kernel/blocks/dbdict/Dbdict.cpp
+++ b/storage/ndb/src/kernel/blocks/dbdict/Dbdict.cpp
@@ -7186,7 +7186,8 @@ void Dbdict::execGET_TABINFOREQ(Signal* signal)
     jam();
     TableRecordPtr tabPtr;
     c_tableRecordPool.getPtr(tabPtr, obj_id);
-    if (tabPtr.p->tabState != TableRecord::DEFINED)
+    if (tabPtr.p->tabState != TableRecord::DEFINED &&
+	tabPtr.p->tabState != TableRecord::BACKUP_ONGOING)
     {
       jam();
       sendGET_TABINFOREF(signal, req, GetTabInfoRef::TableNotDefined, __LINE__);

