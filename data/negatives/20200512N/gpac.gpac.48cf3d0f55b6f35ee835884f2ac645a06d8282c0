commit 48cf3d0f55b6f35ee835884f2ac645a06d8282c0
Author: Romain Bouqueau <romain.bouqueau.pro@gmail.com>
Date:   Sun May 3 18:57:27 2015 +0200

    more random tmp file name (processmonitor showed that previous one leads to files tmp1, tmp2, tmp3, ... and that caused many file accesses)

diff --git a/src/utils/os_file.c b/src/utils/os_file.c
index cda0c08c2..6127447cf 100644
--- a/src/utils/os_file.c
+++ b/src/utils/os_file.c
@@ -285,7 +285,10 @@ FILE *gf_temp_file_new()
 
 		/*tmpfile() may fail under vista ...*/
 		if (GetEnvironmentVariable("TEMP",tmp,MAX_PATH)) {
-			char *t_file = tempnam(tmp, "gpac_");
+			char tmp2[MAX_PATH], *t_file;
+			gf_rand_init(GF_FALSE);
+			sprintf(tmp2, "gpac_%08x_", gf_rand());
+			t_file = tempnam(tmp, tmp2);
 			res = gf_fopen(t_file, "w+b");
 			free(t_file);
 		}

