commit 9e98edfe8f8503a3ea84da714bbb5ef37364199e
Author: Bram Moolenaar <Bram@vim.org>
Date:   Wed Mar 7 19:30:36 2012 +0100

    updated for version 7.3.466
    Problem:    Get ml_get error hen ":behave mswin" was used and selecting
                several lines.  (A. Sinan Unur)
    Solution:   Adjust the end of the operation. (Christian Brabandt)

diff --git a/src/ops.c b/src/ops.c
index e8362cd5f..1ddff2882 100644
--- a/src/ops.c
+++ b/src/ops.c
@@ -1957,6 +1957,9 @@ op_delete(oap)
 	    ++curwin->w_cursor.lnum;
 	    del_lines((long)(oap->line_count - 2), FALSE);
 
+	    if (delete_last_line)
+		oap->end.lnum = curbuf->b_ml.ml_line_count;
+
 	    n = (oap->end.col + 1 - !oap->inclusive);
 	    if (oap->inclusive && delete_last_line
 		    && n > (int)STRLEN(ml_get(oap->end.lnum)))
diff --git a/src/version.c b/src/version.c
index 6d6261fe2..fca10e994 100644
--- a/src/version.c
+++ b/src/version.c
@@ -714,6 +714,8 @@ static char *(features[]) =
 
 static int included_patches[] =
 {   /* Add new patch number below this line */
+/**/
+    466,
 /**/
     465,
 /**/

