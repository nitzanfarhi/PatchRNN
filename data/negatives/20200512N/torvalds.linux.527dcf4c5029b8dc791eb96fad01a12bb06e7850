commit 527dcf4c5029b8dc791eb96fad01a12bb06e7850
Author: Kulikov Vasiliy <segooon@gmail.com>
Date:   Tue Aug 10 18:02:47 2010 -0700

    drivers/video/igafb.c: introduce lost 'return'
    
    If iga_init() fails, code releases resources and continues to use it.  It
    seems that after releasing resources 'return' should be.
    
    Signed-off-by: Kulikov Vasiliy <segooon@gmail.com>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

diff --git a/drivers/video/igafb.c b/drivers/video/igafb.c
index 15d200109446..c4e6fc0301d4 100644
--- a/drivers/video/igafb.c
+++ b/drivers/video/igafb.c
@@ -531,6 +531,7 @@ int __init igafb_init(void)
 		iounmap(info->screen_base);
 		kfree(par->mmap_map);
 		kfree(info);
+		return -ENODEV;
         }
 
 #ifdef CONFIG_SPARC

