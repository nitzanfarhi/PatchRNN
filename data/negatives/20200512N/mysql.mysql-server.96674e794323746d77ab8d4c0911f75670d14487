commit 96674e794323746d77ab8d4c0911f75670d14487
Author: Magnus Bl√•udd <magnus.blaudd@oracle.com>
Date:   Thu Sep 28 09:41:29 2017 +0200

    WL#9185 MySQL Cluster support for new DD
    
     - problem whith schema dist participant who failed
       to open the table from NDB when committing an inplace alter
     - fix by setting the proper databasename before trying
       to open the table

diff --git a/sql/ha_ndbcluster_binlog.cc b/sql/ha_ndbcluster_binlog.cc
index d0cd6e7b97f..826f868d55f 100644
--- a/sql/ha_ndbcluster_binlog.cc
+++ b/sql/ha_ndbcluster_binlog.cc
@@ -3660,6 +3660,7 @@ class Ndb_schema_event_handler {
 
         Thd_ndb *thd_ndb= get_thd_ndb(m_thd);
         Ndb *ndb= thd_ndb->ndb;
+        ndb->setDatabaseName(schema->db);
         Ndb_table_guard ndbtab_g(ndb->getDictionary(), schema->name);
         const NDBTAB *ndbtab= ndbtab_g.get_table();
         if (ndbcluster_create_event_ops(m_thd, share, ndbtab,

