commit 6c56033e6ff7eacdeb75cbc844e35f7c761c9870
Author: Love Hörnquist Åstrand <lha@kth.se>
Date:   Thu Jul 16 18:28:12 2009 +0000

    improve msft compiler case
    
    git-svn-id: svn://svn.h5l.se/heimdal/trunk/heimdal@25335 ec53bebd-3082-4978-b11e-865c3cabbd6b

diff --git a/lib/krb5/krb5.h b/lib/krb5/krb5.h
index b54ada087..1f2e76972 100644
--- a/lib/krb5/krb5.h
+++ b/lib/krb5/krb5.h
@@ -54,7 +54,7 @@
 #ifndef KRB5_DEPRECATED
 #if defined(__GNUC__) && ((__GNUC__ > 3) || ((__GNUC__ == 3) && (__GNUC_MINOR__ >= 1 )))
 #define KRB5_DEPRECATED __attribute__((deprecated))
-#elif defined(_MSC_VER)
+#elif defined(_MSC_VER) && (_MSC_VER>1200) 
 #define KRB5_DEPRECATED __declspec(deprecated)
 #else
 #define KRB5_DEPRECATED

