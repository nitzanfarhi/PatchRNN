commit d7e18a9f2c506467ec7a9c066da45a0f60c6f5a6
Author: Michal Nazarewicz <m.nazarewicz@samsung.com>
Date:   Wed Feb 3 11:37:17 2010 +0100

    USB: g_mass_storage: min(...) warning fixed
    
    This patch fixes warning caused by calling min() macro
    with arguments of different types:
    
      drivers/usb/gadget/f_mass_storage.c:623: warning: \
      comparison of distinct pointer types lacks a cast
    
    Reported-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Michal Nazarewicz <m.nazarewicz@samsung.com>
    Cc: Marek Szyprowski <m.nazarewicz@samsung.com>
    Cc: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/drivers/usb/gadget/f_mass_storage.c b/drivers/usb/gadget/f_mass_storage.c
index 3c835503ffb1..0553d9a5536b 100644
--- a/drivers/usb/gadget/f_mass_storage.c
+++ b/drivers/usb/gadget/f_mass_storage.c
@@ -620,7 +620,7 @@ static int fsg_setup(struct usb_function *f,
 		*(u8 *) req->buf = fsg->common->nluns - 1;
 
 		/* Respond with data/status */
-		req->length = min(1, w_length);
+		req->length = min((u16)1, w_length);
 		fsg->common->ep0req_name =
 			ctrl->bRequestType & USB_DIR_IN ? "ep0-in" : "ep0-out";
 		return ep0_queue(fsg->common);

