commit 967bb62af3971f4869bc25065706b6eea622af55
Author: Jean Le Feuvre <jeanlf@users.sourceforge.net>
Date:   Tue Jun 14 12:57:32 2011 +0000

    Fixed priority loading of decoders
    
    
    git-svn-id: http://svn.code.sf.net/p/gpac/code/trunk/gpac@3289 63c20433-aa62-49bd-875c-5a186b69a8fb

diff --git a/src/terminal/decoder.c b/src/terminal/decoder.c
index e203f24fe..252234b5b 100644
--- a/src/terminal/decoder.c
+++ b/src/terminal/decoder.c
@@ -1098,7 +1098,7 @@ static GF_Err Codec_LoadModule(GF_Codec *codec, GF_ESD *esd, u32 PL)
 		if (ifce) {
 			if (ifce->CanHandleStream) {
 				u32 conf = ifce->CanHandleStream(ifce, esd->decoderConfig->streamType, esd, PL);
-				if (conf>=dec_confidence) {
+				if ((conf!=GF_CODEC_NOT_SUPPORTED) && (conf>=dec_confidence)) {
 					/*switch*/
 					if (dec_ifce) gf_modules_close_interface((GF_BaseInterface *) dec_ifce);
 					dec_confidence = conf;
@@ -1122,7 +1122,7 @@ static GF_Err Codec_LoadModule(GF_Codec *codec, GF_ESD *esd, u32 PL)
 		if (ifce->CanHandleStream) {
 			u32 conf = ifce->CanHandleStream(ifce, esd->decoderConfig->streamType, esd, PL);			
 
-			if (conf >=dec_confidence) {
+			if ((conf!=GF_CODEC_NOT_SUPPORTED) && (conf>=dec_confidence)) {
 				/*switch*/
 				if (dec_ifce) gf_modules_close_interface((GF_BaseInterface *) dec_ifce);
 				dec_confidence = conf;

