commit d6a5d14e9bde5679335a9368ab3f64edbd378cbe
Author: Johan Danielsson <joda@pdc.kth.se>
Date:   Fri Aug 22 09:28:37 1997 +0000

    some logging
    
    
    git-svn-id: svn://svn.h5l.se/heimdal/trunk/heimdal@3084 ec53bebd-3082-4978-b11e-865c3cabbd6b

diff --git a/kdc/kerberos4.c b/kdc/kerberos4.c
index e66b08251..96ecad051 100644
--- a/kdc/kerberos4.c
+++ b/kdc/kerberos4.c
@@ -75,9 +75,17 @@ make_err_reply(krb5_data *reply, int code, const char *msg)
 static krb5_boolean
 valid_princ(krb5_context context, krb5_principal princ)
 {
-    hdb_entry *ent = db_fetch(princ);
-    if(ent == NULL)
+    char *s;
+    hdb_entry *ent;
+    krb5_unparse_name(context, princ, &s);
+    ent = db_fetch(princ);
+    if(ent == NULL){
+	kdc_log(7, "Lookup %s failed", s);
+	free(s);
 	return 0;
+    }
+    kdc_log(7, "Lookup %s succeeded", s);
+    free(s);
     hdb_free_entry(context, ent);
     free(ent);
     return 1;

