commit e81324407269b7708a0678a5c40710d2a75e9bf0
Author: Eric W. Biederman <ebiederm@xmission.com>
Date:   Thu Jul 31 03:22:30 2014 -0700

    proc: Point /proc/net at /proc/thread-self/net instead of /proc/self/net
    
    In oddball cases where the thread has a different network namespace
    than the primary thread group leader or more likely in cases where
    the thread remains and the thread group leader has exited this
    ensures that /proc/net continues to work.
    
    This should not cause any problems but if it does this patch can just
    be reverted.
    
    Signed-off-by: "Eric W. Biederman" <ebiederm@xmission.com>

diff --git a/fs/proc/proc_net.c b/fs/proc/proc_net.c
index a63af3e0a612..39481028ec08 100644
--- a/fs/proc/proc_net.c
+++ b/fs/proc/proc_net.c
@@ -226,7 +226,7 @@ static struct pernet_operations __net_initdata proc_net_ns_ops = {
 
 int __init proc_net_init(void)
 {
-	proc_symlink("net", NULL, "self/net");
+	proc_symlink("net", NULL, "thread-self/net");
 
 	return register_pernet_subsys(&proc_net_ns_ops);
 }

