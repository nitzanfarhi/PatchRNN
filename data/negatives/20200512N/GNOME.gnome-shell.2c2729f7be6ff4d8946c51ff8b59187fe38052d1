commit 2c2729f7be6ff4d8946c51ff8b59187fe38052d1
Author: Jasper St. Pierre <jstpierre@mecheye.net>
Date:   Thu Nov 10 22:35:41 2011 -0500

    browser-plugin: Set that we need XEmbed
    
    This makes the plugin work under WebKit-based browsers such as Chromium and
    Epiphany. See http://code.google.com/p/chromium/issues/detail?id=38229 and
    WindowedCreatePlugin() in
    http://src.chromium.org/viewvc/chrome/trunk/src/webkit/plugins/npapi/webplugin_delegate_impl_gtk.cc?revision=86823&content-type=text%2Fplain
    for more information.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=663823

diff --git a/browser-plugin/browser-plugin.c b/browser-plugin/browser-plugin.c
index 0ab2d7835..2daa0ddcd 100644
--- a/browser-plugin/browser-plugin.c
+++ b/browser-plugin/browser-plugin.c
@@ -816,6 +816,11 @@ NPP_GetValue(NPP          instance,
 
     *(NPObject**)value = funcs.createobject (instance, &plugin_class);
     break;
+
+  case NPPVpluginNeedsXEmbed:
+    *(bool *)value = TRUE;
+    break;
+
   default:
     ;
   }

