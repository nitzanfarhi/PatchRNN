commit 9a4e9958f4646569d5ac5b071e6e48f0de69ad43
Author: Andrew Beekhof <andrew@beekhof.net>
Date:   Thu Oct 4 14:06:56 2012 +1000

    Low: Core: Obtain more information when someone tries to parse an empty string as xml

diff --git a/lib/common/xml.c b/lib/common/xml.c
index 3e20ddf60..f88fc8773 100644
--- a/lib/common/xml.c
+++ b/lib/common/xml.c
@@ -590,7 +590,10 @@ string2xml(const char *input)
 		 last_error->domain, last_error->level,
 		 last_error->code, last_error->message);
 
-	if(last_error->code != XML_ERR_DOCUMENT_END) {
+        if(last_error->code == XML_ERR_DOCUMENT_EMPTY) {
+	    crm_abort(__FILE__,__PRETTY_FUNCTION__,__LINE__, "Cannot parse an empty string", TRUE, TRUE);
+
+        } else if(last_error->code != XML_ERR_DOCUMENT_END) {
 	    crm_err("Couldn't%s parse %d chars: %s", xml?" fully":"", (int)strlen(input), input);
 	    if(xml != NULL) {
 		crm_log_xml_err(xml, "Partial");

