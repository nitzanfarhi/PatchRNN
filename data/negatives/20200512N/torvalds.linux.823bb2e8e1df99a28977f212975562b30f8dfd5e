commit 823bb2e8e1df99a28977f212975562b30f8dfd5e
Author: Mark Einon <mark.einon@gmail.com>
Date:   Fri Nov 16 10:47:39 2012 +0000

    staging: et131x: Reduce indenting in et131x_rx_dma_memory_free()
    
    This change negates an 'if' statement, allowing a large block of code
    to be un-indented, making the code more readable.
    
    Signed-off-by: Mark Einon <mark.einon@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/staging/et131x/et131x.c b/drivers/staging/et131x/et131x.c
index c411d13baa26..9ccd9b7f2fbe 100644
--- a/drivers/staging/et131x/et131x.c
+++ b/drivers/staging/et131x/et131x.c
@@ -2443,33 +2443,33 @@ static void et131x_rx_dma_memory_free(struct et131x_adapter *adapter)
 
 	/* Free Free Buffer Rings */
 	for (id = 0; id < NUM_FBRS; id++) {
-		if (rx_ring->fbr[id]->ring_virtaddr) {
-			/* First the packet memory */
-			for (index = 0; index <
-				(rx_ring->fbr[id]->num_entries / FBR_CHUNKS);
-			     index++) {
-				if (rx_ring->fbr[id]->mem_virtaddrs[index]) {
+		if (!rx_ring->fbr[id]->ring_virtaddr)
+			continue;
 
-					bufsize = (rx_ring->fbr[id]->buffsize * FBR_CHUNKS);
+		/* First the packet memory */
+		for (index = 0;
+		     index < (rx_ring->fbr[id]->num_entries / FBR_CHUNKS);
+		     index++) {
+			if (rx_ring->fbr[id]->mem_virtaddrs[index]) {
+				bufsize = rx_ring->fbr[id]->buffsize * FBR_CHUNKS;
 
-					dma_free_coherent(&adapter->pdev->dev,
-						bufsize,
-						rx_ring->fbr[id]->mem_virtaddrs[index],
-						rx_ring->fbr[id]->mem_physaddrs[index]);
+				dma_free_coherent(&adapter->pdev->dev,
+					bufsize,
+					rx_ring->fbr[id]->mem_virtaddrs[index],
+					rx_ring->fbr[id]->mem_physaddrs[index]);
 
-					rx_ring->fbr[id]->mem_virtaddrs[index] = NULL;
-				}
+				rx_ring->fbr[id]->mem_virtaddrs[index] = NULL;
 			}
+		}
 
-			bufsize =
-			    sizeof(struct fbr_desc) * rx_ring->fbr[id]->num_entries;
+		bufsize =
+		    sizeof(struct fbr_desc) * rx_ring->fbr[id]->num_entries;
 
-			dma_free_coherent(&adapter->pdev->dev, bufsize,
-					    rx_ring->fbr[id]->ring_virtaddr,
-					    rx_ring->fbr[id]->ring_physaddr);
+		dma_free_coherent(&adapter->pdev->dev, bufsize,
+				    rx_ring->fbr[id]->ring_virtaddr,
+				    rx_ring->fbr[id]->ring_physaddr);
 
-			rx_ring->fbr[id]->ring_virtaddr = NULL;
-		}
+		rx_ring->fbr[id]->ring_virtaddr = NULL;
 	}
 
 	/* Free Packet Status Ring */

