commit 56968658ff8564e9f264b4bcb4f2ab98f70146a2
Author: Laxman Dewangan <ldewangan@nvidia.com>
Date:   Fri Nov 23 14:07:42 2012 +0530

    regulator: max8973: provide enable/disable if external control disabled
    
    If external control is enabled then do not provide regulator
    enable/disable apis.
    
    Signed-off-by: Laxman Dewangan <ldewangan@nvidia.com>
    Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>

diff --git a/drivers/regulator/max8973-regulator.c b/drivers/regulator/max8973-regulator.c
index 140ff9d137ec..3ee26387b121 100644
--- a/drivers/regulator/max8973-regulator.c
+++ b/drivers/regulator/max8973-regulator.c
@@ -398,7 +398,7 @@ static int __devinit max8973_probe(struct i2c_client *client,
 	max->desc.uV_step = MAX8973_VOLATGE_STEP;
 	max->desc.n_voltages = MAX8973_BUCK_N_VOLTAGE;
 
-	if (pdata->enable_ext_control) {
+	if (!pdata->enable_ext_control) {
 		max->desc.enable_reg = MAX8973_VOUT;
 		max->desc.enable_mask = MAX8973_VOUT_ENABLE;
 		max8973_dcdc_ops.enable = regulator_enable_regmap;

