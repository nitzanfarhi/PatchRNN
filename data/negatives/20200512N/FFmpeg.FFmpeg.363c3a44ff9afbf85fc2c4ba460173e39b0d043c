commit 363c3a44ff9afbf85fc2c4ba460173e39b0d043c
Author: Mashiat Sarker Shakkhar <mashiat.sarker@gmail.com>
Date:   Thu May 3 10:14:47 2012 -0700

    WMAL: Restore removed code in mclms_predict()
    
    Based on observations made by Jakub Stachowski <qbast@go2.pl>
    
    Signed-off-by: Kostya Shishkov <kostya.shishkov@gmail.com>

diff --git a/libavcodec/wmalosslessdec.c b/libavcodec/wmalosslessdec.c
index ff6308343e..7510b12ef9 100644
--- a/libavcodec/wmalosslessdec.c
+++ b/libavcodec/wmalosslessdec.c
@@ -655,6 +655,8 @@ static void mclms_predict(WmallDecodeCtx *s, int icoef, int *pred)
 
     for (ich = 0; ich < num_channels; ich++) {
         pred[ich] = 0;
+        if (!s->is_channel_coded[ich])
+            continue;
         for (i = 0; i < order * num_channels; i++)
             pred[ich] += s->mclms_prevvalues[i + s->mclms_recent] *
                          s->mclms_coeffs[i + order * num_channels * ich];

