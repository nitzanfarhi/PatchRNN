commit 825d0a97f3b9031235b1ee77b1e22fec15c758ba
Author: Prarit Bhargava <prarit@redhat.com>
Date:   Tue May 8 00:37:10 2007 -0700

    change rivafb_remove to __devexit
    
    Change rivafb_remove to __deviexit to fix MODPOST warnings:
    
    WARNING: drivers/video/riva/rivafb.o - Section mismatch: reference to
    .exit.text:rivafb_remove from .data.rel.local after 'rivafb_driver' (at offset 0x28)
    
    Signed-off-by: Prarit Bhargava <prarit@redhat.com>
    Acked-by: James Simmons <jsimmons@infradead.org>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

diff --git a/drivers/video/riva/fbdev.c b/drivers/video/riva/fbdev.c
index d7ece8d17a2c..a37189a227ac 100644
--- a/drivers/video/riva/fbdev.c
+++ b/drivers/video/riva/fbdev.c
@@ -2104,7 +2104,7 @@ static int __devinit rivafb_probe(struct pci_dev *pd,
 	return ret;
 }
 
-static void __exit rivafb_remove(struct pci_dev *pd)
+static void __devexit rivafb_remove(struct pci_dev *pd)
 {
 	struct fb_info *info = pci_get_drvdata(pd);
 	struct riva_par *par = info->par;
@@ -2185,7 +2185,7 @@ static struct pci_driver rivafb_driver = {
 	.name		= "rivafb",
 	.id_table	= rivafb_pci_tbl,
 	.probe		= rivafb_probe,
-	.remove		= __exit_p(rivafb_remove),
+	.remove		= __devexit_p(rivafb_remove),
 };
 
 

