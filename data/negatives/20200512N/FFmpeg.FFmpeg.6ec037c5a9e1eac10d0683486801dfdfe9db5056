commit 6ec037c5a9e1eac10d0683486801dfdfe9db5056
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Thu Mar 21 15:46:16 2013 +0100

    sonicdec: fix frame size
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libavcodec/sonic.c b/libavcodec/sonic.c
index ae7ca4c2b9..a7e0a00b7c 100644
--- a/libavcodec/sonic.c
+++ b/libavcodec/sonic.c
@@ -880,7 +880,7 @@ static int sonic_decode_frame(AVCodecContext *avctx,
 
     if (buf_size == 0) return 0;
 
-    s->frame.nb_samples = s->frame_size;
+    s->frame.nb_samples = s->frame_size / avctx->channels;
     if ((ret = ff_get_buffer(avctx, &s->frame, 0)) < 0)
         return ret;
     samples = (int16_t *)s->frame.data[0];

