commit 0ab7368f8dad561b6164b3e942cab00f9565bd37
Author: Matt Fleming <matt@console-pimps.org>
Date:   Sat Aug 28 16:46:19 2010 +0100

    perf record: Remove newline character from perror() argument
    
    If we include a newline character in the string argument to perror()
    then the output will be split across two lines like so,
    
        Unable to read perf file descriptor
        : No space left on device
    
    Deleting the newline character prints a much more readable error,
    
        Unable to read perf file descriptor: No space left on device
    
    Cc: Peter Zijlstra <peterz@infradead.org>
    Cc: Paul Mackerras <paulus@samba.org>
    Cc: Ingo Molnar <mingo@elte.hu>
    Cc: Frederic Weisbecker <fweisbec@gmail.com>
    Cc: Tom Zanussi <tzanussi@gmail.com>
    LKML-Reference: <89e77b54659bc3798b23a5596c2debb7f6f4cf27.1283010281.git.matt@console-pimps.org>
    Signed-off-by: Matt Fleming <matt@console-pimps.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@felicio.ghostprotocols.net>

diff --git a/tools/perf/builtin-record.c b/tools/perf/builtin-record.c
index ff77b805de71..b530beefd9ad 100644
--- a/tools/perf/builtin-record.c
+++ b/tools/perf/builtin-record.c
@@ -353,7 +353,7 @@ static void create_counter(int counter, int cpu)
 		}
 
 		if (read(fd[nr_cpu][counter][thread_index], &read_data, sizeof(read_data)) == -1) {
-			perror("Unable to read perf file descriptor\n");
+			perror("Unable to read perf file descriptor");
 			exit(-1);
 		}
 
@@ -626,7 +626,7 @@ static int __cmd_record(int argc, const char **argv)
 
 	nr_cpus = read_cpu_map(cpu_list);
 	if (nr_cpus < 1) {
-		perror("failed to collect number of CPUs\n");
+		perror("failed to collect number of CPUs");
 		return -1;
 	}
 

