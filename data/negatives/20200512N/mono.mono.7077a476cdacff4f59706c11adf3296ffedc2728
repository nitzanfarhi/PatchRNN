commit 7077a476cdacff4f59706c11adf3296ffedc2728
Author: Zoltan Varga <vargaz@gmail.com>
Date:   Fri Aug 3 17:43:31 2007 +0000

    2007-08-03  Zoltan Varga  <vargaz@gmail.com>
    
            * class.c (mono_class_is_assignable_from): Handle the case when klass is a
            generic parameter.
    
    svn path=/trunk/mono/; revision=83423

diff --git a/mono/metadata/class.c b/mono/metadata/class.c
index 85ea5d98127..5951daa6b6c 100644
--- a/mono/metadata/class.c
+++ b/mono/metadata/class.c
@@ -4435,6 +4435,9 @@ mono_class_is_assignable_from (MonoClass *klass, MonoClass *oklass)
 	if (!oklass->inited)
 		mono_class_init (oklass);
 
+	if ((klass->byval_arg.type == MONO_TYPE_VAR) || (klass->byval_arg.type == MONO_TYPE_MVAR))
+		return klass == oklass;
+
 	if (MONO_CLASS_IS_INTERFACE (klass)) {
 		if ((oklass->byval_arg.type == MONO_TYPE_VAR) || (oklass->byval_arg.type == MONO_TYPE_MVAR))
 			return FALSE;

