commit 77cd2c87a47c49aa9063fbaa4d9077f4a381cab1
Author: Michal Sekletar <msekleta@redhat.com>
Date:   Thu Jun 25 16:06:40 2015 +0200

    install: explicitly return 0 on success
    
    Maybe there is some left-over value stored in r from previous function
    call. Let's make sure we always return consistent error code when we reach end of
    the function body.
    
    Fixes following crash of test-install,
    
    Assertion 'r == 0' failed at src/test/test-install.c:52, function main(). Aborting.
    [1]    11703 abort (core dumped)  ./test-install

diff --git a/src/shared/install.c b/src/shared/install.c
index 559fda211..c37cf1948 100644
--- a/src/shared/install.c
+++ b/src/shared/install.c
@@ -2263,7 +2263,7 @@ int unit_file_get_list(
                 }
         }
 
-        return r;
+        return 0;
 }
 
 static const char* const unit_file_state_table[_UNIT_FILE_STATE_MAX] = {

