commit 9b6b59c9df797275fb5d2912e0af4e5169d252b0
Author: millert <millert@openbsd.org>
Date:   Tue Mar 11 22:43:23 2003 +0000

    Hack to match new FreeBSD ELF binaries (such as opera).  A proper
    version of this will go in after 3.3 is out and the tree unlocks.
    deraadt@ OK

diff --git a/sys/compat/freebsd/freebsd_exec.c b/sys/compat/freebsd/freebsd_exec.c
index 27897a0ca09..f51f6c6330f 100644
--- a/sys/compat/freebsd/freebsd_exec.c
+++ b/sys/compat/freebsd/freebsd_exec.c
@@ -1,4 +1,4 @@
-/*	$OpenBSD: freebsd_exec.c,v 1.12 2001/11/06 19:53:17 miod Exp $	*/
+/*	$OpenBSD: freebsd_exec.c,v 1.13 2003/03/11 22:43:23 millert Exp $	*/
 /*	$NetBSD: freebsd_exec.c,v 1.2 1996/05/18 16:02:08 christos Exp $	*/
 
 /*
@@ -158,7 +158,7 @@ freebsd_elf_probe(p, epp, itp, pos, os)
 	size_t len;
 
 	brand = elf32_check_brand(eh);
-	if (brand == NULL || strcmp(brand, "FreeBSD"))
+	if ((brand == NULL || strcmp(brand, "FreeBSD")) && eh->e_ident[EI_PAD] != 9)
 		return (EINVAL);
 	if (itp[0]) {
 		if ((error = emul_find(p, NULL, freebsd_emul_path, itp, &bp, 0)))

