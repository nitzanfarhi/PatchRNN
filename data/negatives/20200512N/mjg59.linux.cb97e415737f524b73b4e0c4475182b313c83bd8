commit cb97e415737f524b73b4e0c4475182b313c83bd8
Author: Emmanuel Grumbach <emmanuel.grumbach@intel.com>
Date:   Sat May 16 22:47:56 2015 +0300

    iwlwifi: mvm: BT Coex - fix shared antenna check with new API
    
    The commit below fixed this for the old firmware API only.
    Since the new firmware API hasn't been released yet, this
    doesn't fix anything on currently existing firmwares.
    This completes:
    
    commit afcee962b09842d0f4191beb4a2d08251b4c7705
    Author: Eyal Shapira <eyal@wizery.com>
    Date:   Mon Feb 9 15:18:17 2015 +0200
    
        iwlwifi: mvm: fix BT coex shared antenna activity check
    
    type=bugfix
    bug=not-tracked
    fixes=unknown
    
    Reviewed-by: Eyal Shapira <eyal@wizery.com>
    Signed-off-by: Emmanuel Grumbach <emmanuel.grumbach@intel.com>

diff --git a/drivers/net/wireless/iwlwifi/mvm/coex.c b/drivers/net/wireless/iwlwifi/mvm/coex.c
index a9908865b660..662fa9c09624 100644
--- a/drivers/net/wireless/iwlwifi/mvm/coex.c
+++ b/drivers/net/wireless/iwlwifi/mvm/coex.c
@@ -886,7 +886,7 @@ bool iwl_mvm_bt_coex_is_shared_ant_avail(struct iwl_mvm *mvm)
 	if (!(mvm->fw->ucode_capa.api[0] & IWL_UCODE_TLV_API_BT_COEX_SPLIT))
 		return iwl_mvm_bt_coex_is_shared_ant_avail_old(mvm);
 
-	return le32_to_cpu(mvm->last_bt_notif.bt_activity_grading) == BT_OFF;
+	return le32_to_cpu(mvm->last_bt_notif.bt_activity_grading) < BT_HIGH_TRAFFIC;
 }
 
 bool iwl_mvm_bt_coex_is_tpc_allowed(struct iwl_mvm *mvm,

