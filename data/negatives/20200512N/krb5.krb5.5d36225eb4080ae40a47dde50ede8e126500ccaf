commit 5d36225eb4080ae40a47dde50ede8e126500ccaf
Author: John Carr <jfc@mit.edu>
Date:   Tue Jun 9 18:38:03 1992 +0000

    krb5_princ_realm -> krb5_princ_set_realm
    
    git-svn-id: svn://anonsvn.mit.edu/krb5/trunk@2289 dc483132-0cff-0310-8789-dd5450dbe970

diff --git a/src/kdc/main.c b/src/kdc/main.c
index 43be88668..7ee0684bc 100644
--- a/src/kdc/main.c
+++ b/src/kdc/main.c
@@ -309,9 +309,9 @@ krb5_keyblock *masterkeyblock;
     /* the master key name here is from the master_princ global,
        so we can safely share its substructure */
 
-    tgs_server[0] = krb5_princ_realm(masterkeyname);
+    krb5_princ_set_realm(tgs_server, krb5_princ_realm(masterkeyname));
     /* tgs_server[1] is init data */
-    tgs_server[2] = krb5_princ_realm(masterkeyname);
+    *krb5_princ_component(tgs_server, 2) = *krb5_princ_realm(masterkeyname);
     /* tgs_server[3] is init data (0) */
 
     nprincs = 1;

