commit fef88bb0134dfd47b4bd17e668bbb860588dcb39
Author: Junio C Hamano <junkio@cox.net>
Date:   Fri Jul 7 05:27:24 2006 -0700

    diff.c: --no-color to defeat diff.color configuration.
    
    Signed-off-by: Junio C Hamano <junkio@cox.net>

diff --git a/diff.c b/diff.c
index 4bea3066a..1bf1ed096 100644
--- a/diff.c
+++ b/diff.c
@@ -1625,6 +1625,8 @@ int diff_opt_parse(struct diff_options *options, const char **av, int ac)
 	}
 	else if (!strcmp(arg, "--color"))
 		options->color_diff = 1;
+	else if (!strcmp(arg, "--no-color"))
+		options->color_diff = 0;
 	else if (!strcmp(arg, "-w") || !strcmp(arg, "--ignore-all-space"))
 		options->xdl_opts |= XDF_IGNORE_WHITESPACE;
 	else if (!strcmp(arg, "-b") || !strcmp(arg, "--ignore-space-change"))

