commit e2166da629c9f97443f6c63739b5c166fcff9d84
Author: arpi <arpi@b3059339-0415-0410-9bf9-f77b7e298cf2>
Date:   Mon Mar 18 01:48:22 2002 +0000

    decore version check for divx3 and divx5
    
    
    git-svn-id: svn://svn.mplayerhq.hu/mplayer/trunk@5174 b3059339-0415-0410-9bf9-f77b7e298cf2

diff --git a/libmpcodecs/vd_odivx.c b/libmpcodecs/vd_odivx.c
index 5e4ea0ce50..1a23f46631 100644
--- a/libmpcodecs/vd_odivx.c
+++ b/libmpcodecs/vd_odivx.c
@@ -99,6 +99,20 @@ static int control(sh_video_t *sh,int cmd,void* arg,...){
 static int init(sh_video_t *sh){
     DEC_PARAM dec_param;
     DEC_SET dec_set;
+
+#ifndef NEW_DECORE
+    if(sh->format==mmioFOURCC('D','I','V','3')){
+	mp_msg(MSGT_DECVIDEO,MSGL_INFO,"DivX 3.x not supported by opendivx decore - it requires divx4linux\n");
+	return 0; // not supported
+    }
+#endif
+#ifndef DECORE_DIVX5
+    if(sh->format==mmioFOURCC('D','X','5','0')){
+	mp_msg(MSGT_DECVIDEO,MSGL_INFO,"DivX 5.00 not supported by divx4linux decore - it requires divx5linux\n");
+	return 0; // not supported
+    }
+#endif
+
     memset(&dec_param,0,sizeof(dec_param));
 #ifdef NEW_DECORE
     dec_param.output_format=DEC_USER;

