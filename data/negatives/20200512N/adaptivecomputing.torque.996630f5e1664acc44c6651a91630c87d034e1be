commit 996630f5e1664acc44c6651a91630c87d034e1be
Author: David Beer <dbeer@adaptivecomputing.com>
Date:   Wed Oct 8 12:20:51 2014 -0600

    AC-7999. Continue refining the syntax.

diff --git a/src/lib/Libattr/req.cpp b/src/lib/Libattr/req.cpp
index 134584f88..cda8002ec 100644
--- a/src/lib/Libattr/req.cpp
+++ b/src/lib/Libattr/req.cpp
@@ -422,6 +422,12 @@ bool are_conflicting_params_present(
       // Two of the conflicting values were found 
       if (first_found.size() != 0)
         {
+        // reseterr may be used in conjunction with exclusive_process and exclusive_thread
+        if ((conflicting_params[i] == "reseterr") &&
+            ((first_found == "exclusive_process") ||
+             (first_found == "exclusive_thread")))
+          continue;
+
         error = "The parameter ";
         error += first_found;
         error += " should not be specified with the parameter ";
diff --git a/src/lib/Libattr/test/req/test_req.c b/src/lib/Libattr/test/req/test_req.c
index 6a9570ba9..4b074b683 100644
--- a/src/lib/Libattr/test/req/test_req.c
+++ b/src/lib/Libattr/test/req/test_req.c
@@ -96,6 +96,7 @@ START_TEST(test_constructors)
   fail_unless(str_set.set_from_submission_string(strdup("-1:lprocs=4"), error) != PBSE_NONE);
   fail_unless(str_set.set_from_submission_string(strdup("1:lprocs=-4"), error) != PBSE_NONE);
   fail_unless(str_set.set_from_submission_string(strdup("1:lprocs=4:memory=0"), error) != PBSE_NONE);
+  fail_unless(str_set.set_from_submission_string(strdup("3:gpus=2:reseterr:exclusive_thread:opsys=cent6"), error) == PBSE_NONE);
   }
 END_TEST
 

