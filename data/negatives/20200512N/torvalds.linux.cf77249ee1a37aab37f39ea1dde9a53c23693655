commit cf77249ee1a37aab37f39ea1dde9a53c23693655
Author: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>
Date:   Fri Jan 25 22:17:15 2008 +0100

    ide-disk: fix __ide_do_rw_disk() to use ->OUTBSYNC
    
    Fix __ide_do_rw_disk() to use ->OUTBSYNC instead of ->OUTB
    (needed for pmac and scc_pata host drivers).
    
    Acked-by: Sergei Shtylyov <sshtylyov@ru.mvista.com>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

diff --git a/drivers/ide/ide-disk.c b/drivers/ide/ide-disk.c
index d9a4fe27685d..7b4f677f7f7f 100644
--- a/drivers/ide/ide-disk.c
+++ b/drivers/ide/ide-disk.c
@@ -247,8 +247,7 @@ static ide_startstop_t __ide_do_rw_disk(ide_drive_t *drive, struct request *rq,
 			command = lba48 ? WIN_WRITE_EXT : WIN_WRITE;
 		}
 
-		/* FIXME: ->OUTBSYNC ? */
-		hwif->OUTB(command, IDE_COMMAND_REG);
+		hwif->OUTBSYNC(drive, command, IDE_COMMAND_REG);
 
 		return pre_task_out_intr(drive, rq);
 	}

