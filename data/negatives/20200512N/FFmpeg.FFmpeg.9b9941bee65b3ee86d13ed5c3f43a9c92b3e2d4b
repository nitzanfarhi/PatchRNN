commit 9b9941bee65b3ee86d13ed5c3f43a9c92b3e2d4b
Author: Oded Shimon <ods15@ods15.dyndns.org>
Date:   Mon Oct 2 06:08:53 2006 +0000

    Original Commit: r88 | ods15 | 2006-09-29 21:10:36 +0300 (Fri, 29 Sep 2006) | 2 lines
    
    slight similification
    
    Originally committed as revision 6493 to svn://svn.ffmpeg.org/ffmpeg/trunk

diff --git a/libavcodec/vorbis_enc.c b/libavcodec/vorbis_enc.c
index a64b7473a9..4e45c7e628 100644
--- a/libavcodec/vorbis_enc.c
+++ b/libavcodec/vorbis_enc.c
@@ -985,12 +985,12 @@ static void residue_encode(venc_context_t * venc, residue_t * rc, PutBitContext
                         }
                     } else {
                         for (k = 0; k < psize; k += book->ndimentions) {
-                            int dim = book->ndimentions, s = rc->begin + p * psize, l;
+                            int dim = book->ndimentions, s = rc->begin + p * psize + k, l;
                             float vec[dim], * a = vec;
-                            for (l = s + k; l < s + k + dim; l++)
+                            for (l = s; l < s + dim; l++)
                                 *a++ = coeffs[(l % real_ch) * samples + l / real_ch];
                             a = put_vector(book, pb, vec);
-                            for (l = s + k; l < s + k + dim; l++)
+                            for (l = s; l < s + dim; l++)
                                 coeffs[(l % real_ch) * samples + l / real_ch] -= *a++;
                         }
                     }

