commit 7c34eb897362a51133222ef4229628469333f4d9
Author: Hannes Eder <hannes@hanneseder.net>
Date:   Sat Feb 14 11:12:48 2009 +0000

    drivers/net/niu.c: fix sparse warning: symbol shadows an earlier one
    
    Impact: Move variable declaration to a more inner scope.
    
    Fix this sparse warning:
      drivers/net/niu.c:2399:21: warning: symbol 'err' shadows an earlier one
      drivers/net/niu.c:2287:13: originally declared here
    
    Signed-off-by: Hannes Eder <hannes@hanneseder.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/drivers/net/niu.c b/drivers/net/niu.c
index c26325ded20e..32374a1c123b 100644
--- a/drivers/net/niu.c
+++ b/drivers/net/niu.c
@@ -2284,7 +2284,6 @@ static int serdes_init_10g_serdes(struct niu *np)
 	struct niu_link_config *lp = &np->link_config;
 	unsigned long ctrl_reg, test_cfg_reg, pll_cfg, i;
 	u64 ctrl_val, test_cfg_val, sig, mask, val;
-	int err;
 	u64 reset_val;
 
 	switch (np->port) {
@@ -2337,6 +2336,7 @@ static int serdes_init_10g_serdes(struct niu *np)
 	/* Initialize all 4 lanes of the SERDES.  */
 	for (i = 0; i < 4; i++) {
 		u32 rxtx_ctrl, glue0;
+		int err;
 
 		err = esr_read_rxtx_ctrl(np, i, &rxtx_ctrl);
 		if (err)

