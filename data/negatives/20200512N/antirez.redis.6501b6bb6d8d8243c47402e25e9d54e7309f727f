commit 6501b6bb6d8d8243c47402e25e9d54e7309f727f
Author: dejun.xdj <dejun.xdj@alibaba-inc.com>
Date:   Tue Jul 17 18:19:10 2018 +0800

    Streams: return an error message if using xreadgroup with '$' ID.
    
    Redis will always return an empty result when '$' ID is specified
    with xreadgroup command, it's meaningless.

diff --git a/src/t_stream.c b/src/t_stream.c
index 44251586..8540cfc6 100644
--- a/src/t_stream.c
+++ b/src/t_stream.c
@@ -1351,6 +1351,11 @@ void xreadCommand(client *c) {
         }
 
         if (strcmp(c->argv[i]->ptr,"$") == 0) {
+            if (xreadgroup) {
+                addReplyError(c,"The $ ID can be specified only when calling "
+                              "XREAD without GROUP option.");
+                goto cleanup;
+            }
             if (o) {
                 stream *s = o->ptr;
                 ids[id_idx] = s->last_id;

