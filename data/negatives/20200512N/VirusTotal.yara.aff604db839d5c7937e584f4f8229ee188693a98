commit aff604db839d5c7937e584f4f8229ee188693a98
Author: Victor M. Alvarez <plusvic@gmail.com>
Date:   Thu Nov 20 18:42:04 2014 +0100

    Fix issues when using dmalloc

diff --git a/libyara/include/yara/mem.h b/libyara/include/yara/mem.h
index 540131b..d794f44 100644
--- a/libyara/include/yara/mem.h
+++ b/libyara/include/yara/mem.h
@@ -24,6 +24,7 @@ limitations under the License.
 #ifdef DMALLOC
 
 #define yr_malloc malloc
+#define yr_calloc calloc
 #define yr_realloc realloc
 #define yr_free free
 #define yr_strdup strdup
diff --git a/libyara/libyara.c b/libyara/libyara.c
index 82aa447..6d20ad0 100644
--- a/libyara/libyara.c
+++ b/libyara/libyara.c
@@ -19,10 +19,9 @@ limitations under the License.
 #include <ctype.h>
 
 #include <yara/error.h>
-#include <yara/mem.h>
 #include <yara/re.h>
 #include <yara/modules.h>
-
+#include <yara/mem.h>
 
 #ifdef _WIN32
 #define snprintf _snprintf

