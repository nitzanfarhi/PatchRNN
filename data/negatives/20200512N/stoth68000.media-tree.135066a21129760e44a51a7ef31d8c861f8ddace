commit 135066a21129760e44a51a7ef31d8c861f8ddace
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Thu Feb 16 00:42:21 2006 -0800

    [SPARC64] sunhv: Support SYSRQ properly.
    
    By calling uart_handle_break().  We'll still do the
    "sun_do_break()" handling if the user gives two
    breaks in a row.
    
    We should probably do this in the other Sparc serial
    drivers too.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/drivers/serial/sunhv.c b/drivers/serial/sunhv.c
index 7f73907db7b6..378a1784ce9a 100644
--- a/drivers/serial/sunhv.c
+++ b/drivers/serial/sunhv.c
@@ -91,6 +91,8 @@ static struct tty_struct *receive_chars(struct uart_port *port, struct pt_regs *
 			break;
 
 		if (c == CON_BREAK) {
+			if (uart_handle_break(port))
+				continue;
 			saw_console_brk = 1;
 			c = 0;
 		}

