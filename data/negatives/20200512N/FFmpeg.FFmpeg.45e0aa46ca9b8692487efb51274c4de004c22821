commit 45e0aa46ca9b8692487efb51274c4de004c22821
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Sun Feb 22 03:09:47 2015 +0100

    postproc/postprocess: use av_mallocz()
    
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libpostproc/postprocess.c b/libpostproc/postprocess.c
index c11debcd70..b8492ee5f6 100644
--- a/libpostproc/postprocess.c
+++ b/libpostproc/postprocess.c
@@ -913,11 +913,10 @@ static const char * context_to_name(void * ptr) {
 static const AVClass av_codec_context_class = { "Postproc", context_to_name, NULL };
 
 pp_context *pp_get_context(int width, int height, int cpuCaps){
-    PPContext *c= av_malloc(sizeof(PPContext));
+    PPContext *c= av_mallocz(sizeof(PPContext));
     int stride= FFALIGN(width, 16);  //assumed / will realloc if needed
     int qpStride= (width+15)/16 + 2; //assumed / will realloc if needed
 
-    memset(c, 0, sizeof(PPContext));
     c->av_class = &av_codec_context_class;
     if(cpuCaps&PP_FORMAT){
         c->hChromaSubSample= cpuCaps&0x3;

