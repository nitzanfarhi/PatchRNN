commit 79f12832b4461622a7c92497e7d14bd0dfcb87af
Author: Zoltan Varga <vargaz@gmail.com>
Date:   Thu Feb 9 01:46:53 2012 +0100

    Invalidate the context as well at the end of ss_start (). Fixes #3272.

diff --git a/mono/mini/debugger-agent.c b/mono/mini/debugger-agent.c
index 009a79301dc..c208fd9f6f1 100644
--- a/mono/mini/debugger-agent.c
+++ b/mono/mini/debugger-agent.c
@@ -4774,8 +4774,10 @@ ss_start (SingleStepReq *ss_req, MonoMethod *method, SeqPoint *sp, MonoSeqPointI
 		}
 
 		/*
-		 * The frame info will become invalid when we continue.
+		 * The ctx/frame info computed above will become invalid when we continue.
 		 */
+		tls->context.valid = FALSE;
+		tls->async_state.valid = FALSE;
 		invalidate_frames (tls);
 	}
 

