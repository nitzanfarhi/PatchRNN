commit 50e72c3839b25d81fcd567765237a80e8dae041b
Author: Bin Su <bin.x.su@oracle.com>
Date:   Tue Dec 27 19:18:47 2016 +0800

    Follow-up fix for last push.

diff --git a/storage/innobase/btr/btr0sea.cc b/storage/innobase/btr/btr0sea.cc
index 87fa9f76ca4..80e5c56bdc3 100644
--- a/storage/innobase/btr/btr0sea.cc
+++ b/storage/innobase/btr/btr0sea.cc
@@ -1463,10 +1463,10 @@ btr_search_drop(dict_index_t* index)
 					continue;
 				}
 
-				const dict_index_t* index =
+				const dict_index_t* found_index =
 					reinterpret_cast<const buf_block_t*>(
 						bpage)->index;
-				if (index != NULL) {
+				if (found_index == index) {
 					drop[n_drop].copy_from(bpage->id);
 					if (++n_drop == DROP_BATCH) {
 						break;

