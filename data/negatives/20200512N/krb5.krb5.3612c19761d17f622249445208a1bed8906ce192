commit 3612c19761d17f622249445208a1bed8906ce192
Author: Paul Park <pjpark@mit.edu>
Date:   Thu Aug 17 14:43:41 1995 +0000

    Change fopen() to open() to yield an fd
    
    git-svn-id: svn://anonsvn.mit.edu/krb5/trunk@6541 dc483132-0cff-0310-8789-dd5450dbe970

diff --git a/src/slave/kpropd.c b/src/slave/kpropd.c
index 73d5dd4b5..7258d7c89 100644
--- a/src/slave/kpropd.c
+++ b/src/slave/kpropd.c
@@ -279,7 +279,7 @@ void doit(fd)
 		exit(1);
 	}
 	omask = umask(077);
-	lock_fd = fopen(temp_file_name, O_RDONLY);
+	lock_fd = open(temp_file_name, O_RDONLY, 0600);
 	(void) umask(omask);
 	retval = krb5_lock_file(kpropd_context, lock_fd, 
 				KRB5_LOCKMODE_EXCLUSIVE|KRB5_LOCKMODE_DONTBLOCK);

