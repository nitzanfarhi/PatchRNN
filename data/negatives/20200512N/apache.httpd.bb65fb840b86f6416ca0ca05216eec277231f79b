commit bb65fb840b86f6416ca0ca05216eec277231f79b
Author: Daniel Earl Poirier <poirier@apache.org>
Date:   Tue Feb 16 22:00:13 2010 +0000

    More correct fix for compile warning about discarding constness
    of fname.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/httpd/httpd/trunk@910717 13f79535-47bb-0310-9956-ffa450edef68

diff --git a/server/config.c b/server/config.c
index 9290fb31d7..1406127499 100644
--- a/server/config.c
+++ b/server/config.c
@@ -1661,7 +1661,7 @@ static const char *process_resource_config_fnmatch(server_rec *s,
                                                    apr_pool_t *ptemp,
                                                    unsigned depth)
 {
-    char *rest;
+    const char *rest;
     apr_status_t rv;
     apr_dir_t *dirp;
     apr_finfo_t dirent;
@@ -1670,7 +1670,7 @@ static const char *process_resource_config_fnmatch(server_rec *s,
     int current;
 
     /* find the first part of the filename */
-    rest = ap_strchr((char*)fname, '/');
+    rest = ap_strchr_c(fname, '/');
     if (rest) {
         fname = apr_pstrndup(ptemp, fname, rest - fname);
         rest++;

