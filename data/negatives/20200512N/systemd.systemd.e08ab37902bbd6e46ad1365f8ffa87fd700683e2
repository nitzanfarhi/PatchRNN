commit e08ab37902bbd6e46ad1365f8ffa87fd700683e2
Author: Lennart Poettering <lennart@poettering.net>
Date:   Fri Jul 22 17:39:21 2016 +0200

    systemctl: never check inhibitors if -H or -M are used (#3781)
    
    Don't check inhibitors when operating remotely. The interactivity inhibitors
    imply can#t be provided anyway, and the current code checks for local sessions
    directly, via various sd_session_xyz() APIs, hence bypass it entirely if we
    operate on remote systems.
    
    Fixes: #3476

diff --git a/src/systemctl/systemctl.c b/src/systemctl/systemctl.c
index d3f437411..1dbe35997 100644
--- a/src/systemctl/systemctl.c
+++ b/src/systemctl/systemctl.c
@@ -3033,6 +3033,9 @@ static int logind_check_inhibitors(enum action a) {
         if (!on_tty())
                 return 0;
 
+        if (arg_transport != BUS_TRANSPORT_LOCAL)
+                return 0;
+
         r = acquire_bus(BUS_FULL, &bus);
         if (r < 0)
                 return r;

