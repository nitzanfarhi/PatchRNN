commit fb0174723e578f9023f1237143fb81e75f470f60
Author: Kim Phillips <kim.phillips@freescale.com>
Date:   Fri Jan 11 12:18:21 2013 +0000

    gianfar: use more portable i/o accessors
    
    in/out_be32 accessors are Power arch centric whereas
    ioread/writebe32 are available in other arches.  Also, unlike
    in/out_be32, ioread/writebe32 expect non-volatile address arguments.
    
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/drivers/net/ethernet/freescale/gianfar.h b/drivers/net/ethernet/freescale/gianfar.h
index 1b6a67cf8bf6..91bb2de9ba8d 100644
--- a/drivers/net/ethernet/freescale/gianfar.h
+++ b/drivers/net/ethernet/freescale/gianfar.h
@@ -1136,16 +1136,16 @@ static inline int gfar_has_errata(struct gfar_private *priv,
 	return priv->errata & err;
 }
 
-static inline u32 gfar_read(volatile unsigned __iomem *addr)
+static inline u32 gfar_read(unsigned __iomem *addr)
 {
 	u32 val;
-	val = in_be32(addr);
+	val = ioread32be(addr);
 	return val;
 }
 
-static inline void gfar_write(volatile unsigned __iomem *addr, u32 val)
+static inline void gfar_write(unsigned __iomem *addr, u32 val)
 {
-	out_be32(addr, val);
+	iowrite32be(val, addr);
 }
 
 static inline void gfar_write_filer(struct gfar_private *priv,

