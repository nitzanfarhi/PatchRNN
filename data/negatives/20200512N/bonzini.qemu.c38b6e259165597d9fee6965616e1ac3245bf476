commit c38b6e259165597d9fee6965616e1ac3245bf476
Author: balrog <balrog@c046a42c-6fe2-441c-8c8c-71466251a162>
Date:   Sat Apr 26 13:33:29 2008 +0000

    Fill in touchscreen calibration values from a Palm T|E.
    
    
    git-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4256 c046a42c-6fe2-441c-8c8c-71466251a162

diff --git a/hw/palm.c b/hw/palm.c
index ac6ff803e4..9969c711dc 100644
--- a/hw/palm.c
+++ b/hw/palm.c
@@ -85,6 +85,12 @@ static CPUWriteMemoryFunc *static_writefn[] = {
 #define PALMTE_MMC2_GPIO	7
 #define PALMTE_MMC3_GPIO	11
 
+static struct mouse_transform_info_s palmte_pointercal = {
+    .x = 320,
+    .y = 320,
+    .a = { -5909, 8, 22465308, 104, 7644, -1219972, 65536 },
+};
+
 static void palmte_microwire_setup(struct omap_mpu_state_s *cpu)
 {
     struct uwire_slave_s *tsc;
@@ -99,6 +105,8 @@ static void palmte_microwire_setup(struct omap_mpu_state_s *cpu)
 
     omap_uwire_attach(cpu->microwire, tsc, 0);
     omap_mcbsp_i2s_attach(cpu->mcbsp1, tsc210x_codec(tsc));
+
+    tsc210x_set_transform(tsc, &palmte_pointercal);
 }
 
 static struct {

