commit 481253140d2f5aa45de40e4d1a6f1cb797f24b08
Author: craig.p.drummond <craig.p.drummond@b1e49159-3266-923f-9c3e-04f16369770a>
Date:   Mon Mar 11 19:52:19 2013 +0000

    When os thumb moves, use actual slider size when getting value from position

diff --git a/support/gtkproxystyle.cpp b/support/gtkproxystyle.cpp
index ce610ba8..186938af 100644
--- a/support/gtkproxystyle.cpp
+++ b/support/gtkproxystyle.cpp
@@ -502,11 +502,14 @@ void GtkProxyStyle::sbarThumbMoved(const QPoint &point)
         }
         QPoint global=sbarThumbTarget->mapToGlobal(QPoint(0, 0))-QPoint(1, 1);
         int value=sbarThumbTarget->value();
+        QRect sliderThumbRect=sbarGetSliderRect();
         if (v) {
-            sbarThumbTarget->setValue(sliderValueFromPosition(sbarThumbTarget->minimum(), sbarThumbTarget->maximum(), point.y() - (global.y()+sbarOffset), sbarThumbTarget->height() - sbarThumb->height()));
+            sbarThumbTarget->setValue(sliderValueFromPosition(sbarThumbTarget->minimum(), sbarThumbTarget->maximum(), point.y() - (global.y()+sbarOffset),
+                                                              sbarThumbTarget->height() - sliderThumbRect.height()));
             sbarLastPos=point.y();
         } else {
-            sbarThumbTarget->setValue(sliderValueFromPosition(sbarThumbTarget->minimum(), sbarThumbTarget->maximum(), point.x() - global.x(), sbarThumbTarget->width() - sbarThumb->width()));
+            sbarThumbTarget->setValue(sliderValueFromPosition(sbarThumbTarget->minimum(), sbarThumbTarget->maximum(), point.x() - global.x(),
+                                                              sbarThumbTarget->width() - sliderThumbRect.width()));
             sbarLastPos=point.x();
         }
         if (value==sbarThumbTarget->value()) {

