commit a90f6b406926dfbf29bb76a327d2a0cf209076f3
Author: Martin Mathieson <martin.r.mathieson@googlemail.com>
Date:   Sat Aug 11 14:06:17 2012 +0000

    Also place a limit on how far we can zoom in horizonally (no point in
    making on subframe (1ms) be really big).
    
    svn path=/trunk/; revision=44442

diff --git a/ui/gtk/rlc_lte_graph.c b/ui/gtk/rlc_lte_graph.c
index 0f5d8929d7..569db30755 100644
--- a/ui/gtk/rlc_lte_graph.c
+++ b/ui/gtk/rlc_lte_graph.c
@@ -60,7 +60,8 @@
 #define MOUSE_BUTTON_MIDDLE	2
 #define MOUSE_BUTTON_RIGHT	3
 
-#define MAX_PIXELS_PER_SN   90
+#define MAX_PIXELS_PER_SN       90
+#define MAX_PIXELS_PER_SECOND   50000
 
 extern int proto_rlc_lte;
 
@@ -1902,7 +1903,7 @@ static void do_zoom_common(struct graph *g, GdkEventButton *event,
         }
     } else {
         /* Zoom in */
-        if (lock_horizontal) {
+        if ((lock_horizontal) || (g->geom.width >= (g->bounds.width * MAX_PIXELS_PER_SECOND))) {
             factor.x = 1.0;
         }
         else {
@@ -1910,7 +1911,7 @@ static void do_zoom_common(struct graph *g, GdkEventButton *event,
         }
 
         /* Don't zoom in too far vertically */
-        if ((g->geom.height >= (g->bounds.height * MAX_PIXELS_PER_SN)) || lock_vertical) {
+        if (lock_vertical || (g->geom.height >= (g->bounds.height * MAX_PIXELS_PER_SN))) {
             factor.y = 1.0;
         }
         else {

