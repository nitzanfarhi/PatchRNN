commit f7e8466a045c690002c1926e695ae312dd73bb4a
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Mon Apr 28 16:33:59 2008 -0600

    PNPACPI: pnpacpi_encode_ext_irq() wrongly set "irq" instead of "extended_irq"
    
    pnpacpi_encode_ext_irq() should set resource->data.extended_irq, not
    resource->data.irq.
    
    This has been wrong since at least 2.6.12.  I haven't seen any bug
    reports, but it's clearly incorrect.
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

diff --git a/drivers/pnp/pnpacpi/rsparser.c b/drivers/pnp/pnpacpi/rsparser.c
index 98cbc9f18eed..4ce754ab14fd 100644
--- a/drivers/pnp/pnpacpi/rsparser.c
+++ b/drivers/pnp/pnpacpi/rsparser.c
@@ -820,9 +820,9 @@ static void pnpacpi_encode_ext_irq(struct acpi_resource *resource,
 	resource->data.extended_irq.triggering = triggering;
 	resource->data.extended_irq.polarity = polarity;
 	if (triggering == ACPI_EDGE_SENSITIVE)
-		resource->data.irq.sharable = ACPI_EXCLUSIVE;
+		resource->data.extended_irq.sharable = ACPI_EXCLUSIVE;
 	else
-		resource->data.irq.sharable = ACPI_SHARED;
+		resource->data.extended_irq.sharable = ACPI_SHARED;
 	resource->data.extended_irq.interrupt_count = 1;
 	resource->data.extended_irq.interrupts[0] = p->start;
 }

