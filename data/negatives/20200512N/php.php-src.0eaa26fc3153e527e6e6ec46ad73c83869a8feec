commit 0eaa26fc3153e527e6e6ec46ad73c83869a8feec
Author: Marcus Boerger <helly@php.net>
Date:   Sun Aug 29 19:15:08 2004 +0000

    String offset starts with 0, fix isset($str[$len])

diff --git a/Zend/zend_execute.c b/Zend/zend_execute.c
index dd6739728c..228c2d355d 100644
--- a/Zend/zend_execute.c
+++ b/Zend/zend_execute.c
@@ -4410,12 +4410,12 @@ static int zend_isset_isempty_dim_prop_obj_handler(int prop_dim, ZEND_OPCODE_HAN
 		} else if ((*container)->type == IS_STRING) { /* string offsets */
 			switch (opline->extended_value) {
 				case ZEND_ISSET:
-					if (offset->value.lval <= Z_STRLEN_PP(container)) {
+					if (offset->value.lval < Z_STRLEN_PP(container)) {
 						result = 1;
 					}
 					break;
 				case ZEND_ISEMPTY:
-					if (offset->value.lval <= Z_STRLEN_PP(container) && Z_STRVAL_PP(container)[offset->value.lval] != '0') {
+					if (offset->value.lval < Z_STRLEN_PP(container) && Z_STRVAL_PP(container)[offset->value.lval] != '0') {
 						result = 1;
 					}
 					break;

