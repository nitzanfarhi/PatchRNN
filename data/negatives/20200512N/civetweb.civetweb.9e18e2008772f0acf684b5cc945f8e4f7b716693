commit 9e18e2008772f0acf684b5cc945f8e4f7b716693
Author: Maarten Fremouw <maarten@fremouw.nl>
Date:   Tue Apr 7 14:07:13 2015 +0200

    gettime fix for mac os.

diff --git a/src/civetweb.c b/src/civetweb.c
index b498a7c3..284034a7 100644
--- a/src/civetweb.c
+++ b/src/civetweb.c
@@ -82,6 +82,23 @@
 #include <fcntl.h>
 #endif /* !_WIN32_WCE */
 
+#ifdef __MACH__
+
+#define CLOCK_REALTIME 0
+#define CLOCK_MONOTONIC 0
+
+#include <sys/time.h>
+//clock_gettime is not implemented on OSX
+int clock_gettime(int clk_id, struct timespec* t) {
+    struct timeval now;
+    int rv = gettimeofday(&now, NULL);
+    if (rv) return rv;
+    t->tv_sec  = now.tv_sec;
+    t->tv_nsec = now.tv_usec * 1000;
+    return 0;
+}
+#endif
+
 #include <time.h>
 #include <stdlib.h>
 #include <stdarg.h>

