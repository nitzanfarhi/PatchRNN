commit 429d796c8862055fc2c7fbe18202e241b1ed7056
Author: Kenton Varda <kenton@cloudflare.com>
Date:   Fri Apr 7 10:57:59 2017 +0100

    Fix compile failure with -DCAPNP_DEBUG_TYPES -- no idea how this ever worked?

diff --git a/c++/src/capnp/layout.h b/c++/src/capnp/layout.h
index 12609fff..d0615da3 100644
--- a/c++/src/capnp/layout.h
+++ b/c++/src/capnp/layout.h
@@ -104,7 +104,9 @@ inline KJ_CONSTEXPR() BitsPerElementTableType dataBitsPerElement(ElementSize siz
 }
 
 inline constexpr PointersPerElementN<1> pointersPerElement(ElementSize size) {
-  return size == ElementSize::POINTER ? ONE * POINTERS / ELEMENTS : ZERO * POINTERS / ELEMENTS;
+  return size == ElementSize::POINTER
+      ? PointersPerElementN<1>(ONE * POINTERS / ELEMENTS)
+      : PointersPerElementN<1>(ZERO * POINTERS / ELEMENTS);
 }
 
 static constexpr BitsPerElementTableType BITS_PER_ELEMENT_INCLUDING_PONITERS_TABLE[8] = {

