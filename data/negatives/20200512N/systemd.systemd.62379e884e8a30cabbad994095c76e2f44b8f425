commit 62379e884e8a30cabbad994095c76e2f44b8f425
Author: Tom Gundersen <teg@jklm.no>
Date:   Mon Nov 16 16:47:18 2015 +0100

    networkd: ndisc - always configure dhcp6 client
    
    The ndisc client may trigger the dhcpv6 client to be started (this is the common case),
    so we should allocate the dhcpv6 client whenever we allocate the ndisc one.

diff --git a/src/network/networkd-dhcp6.c b/src/network/networkd-dhcp6.c
index f83ff5436..e67e51f7e 100644
--- a/src/network/networkd-dhcp6.c
+++ b/src/network/networkd-dhcp6.c
@@ -211,6 +211,9 @@ int dhcp6_configure(Link *link) {
 
         assert(link);
 
+        if (link->dhcp6_client)
+                return 0;
+
         r = sd_dhcp6_client_new(&client);
         if (r < 0)
                 return r;
diff --git a/src/network/networkd-link.c b/src/network/networkd-link.c
index f97600e2b..ba64473cd 100644
--- a/src/network/networkd-link.c
+++ b/src/network/networkd-link.c
@@ -2089,7 +2089,8 @@ static int link_configure(Link *link) {
                         return r;
         }
 
-        if (link_dhcp6_enabled(link)) {
+        if (link_dhcp6_enabled(link) ||
+            link_ipv6_accept_ra_enabled(link)) {
                 r = dhcp6_configure(link);
                 if (r < 0)
                         return r;

