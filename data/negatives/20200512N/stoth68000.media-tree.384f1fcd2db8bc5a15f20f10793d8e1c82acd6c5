commit 384f1fcd2db8bc5a15f20f10793d8e1c82acd6c5
Author: Jens Axboe <axboe@suse.de>
Date:   Wed May 25 17:00:15 2005 +0200

    [PATCH] relax ide-cd dma restrictions
    
    This has been sitting for a while, and is causing lots of grief for
    people burning CDs.  It relaxes the dma restriction for ide-cd,
    requiring only the length to be 32-byte aligned, address should be fine
    at normal double word alignment.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

diff --git a/drivers/ide/ide-cd.c b/drivers/ide/ide-cd.c
index 33a020faeabd..4f7ce7056228 100644
--- a/drivers/ide/ide-cd.c
+++ b/drivers/ide/ide-cd.c
@@ -1933,7 +1933,7 @@ static ide_startstop_t cdrom_do_block_pc(ide_drive_t *drive, struct request *rq)
 		/*
 		 * check if dma is safe
 		 */
-		if ((rq->data_len & mask) || (addr & mask))
+		if ((rq->data_len & 3) || (addr & mask))
 			info->dma = 0;
 	}
 

