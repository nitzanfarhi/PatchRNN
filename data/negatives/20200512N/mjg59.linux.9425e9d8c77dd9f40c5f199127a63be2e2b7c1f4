commit 9425e9d8c77dd9f40c5f199127a63be2e2b7c1f4
Author: Axel Lin <axel.lin@ingics.com>
Date:   Thu Jul 23 23:13:36 2015 +0800

    ASoC: tas5086: Improve the logic for de-emphasis sampling rate selection
    
    Slightly improve the logic for de-emphasis sampling rate selection by break
    out the loop if the rate is matched.
    
    Signed-off-by: Axel Lin <axel.lin@ingics.com>
    Acked-by: Daniel Mack <daniel@zonque.org>
    Signed-off-by: Mark Brown <broonie@kernel.org>

diff --git a/sound/soc/codecs/tas5086.c b/sound/soc/codecs/tas5086.c
index 32942bed34b1..16a6c6443aa8 100644
--- a/sound/soc/codecs/tas5086.c
+++ b/sound/soc/codecs/tas5086.c
@@ -266,10 +266,14 @@ static int tas5086_set_deemph(struct snd_soc_codec *codec)
 	struct tas5086_private *priv = snd_soc_codec_get_drvdata(codec);
 	int i, val = 0;
 
-	if (priv->deemph)
-		for (i = 0; i < ARRAY_SIZE(tas5086_deemph); i++)
-			if (tas5086_deemph[i] == priv->rate)
+	if (priv->deemph) {
+		for (i = 0; i < ARRAY_SIZE(tas5086_deemph); i++) {
+			if (tas5086_deemph[i] == priv->rate) {
 				val = i;
+				break;
+			}
+		}
+	}
 
 	return regmap_update_bits(priv->regmap, TAS5086_SYS_CONTROL_1,
 				  TAS5086_DEEMPH_MASK, val);

