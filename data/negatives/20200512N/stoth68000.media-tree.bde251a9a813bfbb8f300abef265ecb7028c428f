commit bde251a9a813bfbb8f300abef265ecb7028c428f
Author: Nishanth Menon <nm@ti.com>
Date:   Fri Sep 27 08:25:13 2013 -0500

    regulator: ti-abb: skip optional parameter for ldo-address
    
    On platforms like OMAP4460, LDO override is never used. Even though
    efuse determines the ABB bias mode to operate at, ABB voltage is
    preconfigured in internal efuse registers without the need for
    LDO override for bias voltage. So skip optional parameter if
    property is not present.
    
    Signed-off-by: Nishanth Menon <nm@ti.com>
    Signed-off-by: Mark Brown <broonie@linaro.org>

diff --git a/drivers/regulator/ti-abb-regulator.c b/drivers/regulator/ti-abb-regulator.c
index d8e3e1262bc2..1e0280536e72 100644
--- a/drivers/regulator/ti-abb-regulator.c
+++ b/drivers/regulator/ti-abb-regulator.c
@@ -765,6 +765,11 @@ static int ti_abb_probe(struct platform_device *pdev)
 
 	pname = "ldo-address";
 	res = platform_get_resource_byname(pdev, IORESOURCE_MEM, pname);
+	if (!res) {
+		dev_dbg(dev, "Missing '%s' IO resource\n", pname);
+		ret = -ENODEV;
+		goto skip_opt;
+	}
 	abb->ldo_base = devm_ioremap_resource(dev, res);
 	if (IS_ERR(abb->ldo_base)) {
 		ret = PTR_ERR(abb->ldo_base);

