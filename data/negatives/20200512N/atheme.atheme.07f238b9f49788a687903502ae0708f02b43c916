commit 07f238b9f49788a687903502ae0708f02b43c916
Author: Jilles Tjoelker <jilles@stack.nl>
Date:   Sun Jan 13 19:13:49 2008 +0100

    Allow -<nick> in op and voice to deop and devoice. Deliberately undocumented.

diff --git a/modules/chanserv/op.c b/modules/chanserv/op.c
index 7a5669065..446a8366f 100644
--- a/modules/chanserv/op.c
+++ b/modules/chanserv/op.c
@@ -63,6 +63,13 @@ static void cs_cmd_op(sourceinfo_t *si, int parc, char *parv[])
 		return;
 	}
 
+	if (nick && *nick == '-')
+	{
+		parv[1]++;
+		cs_cmd_deop(si, parc, parv);
+		return;
+	}
+
 	mc = mychan_find(chan);
 	if (!mc)
 	{
diff --git a/modules/chanserv/voice.c b/modules/chanserv/voice.c
index cc332ae33..a5286f3d0 100644
--- a/modules/chanserv/voice.c
+++ b/modules/chanserv/voice.c
@@ -63,6 +63,13 @@ static void cs_cmd_voice(sourceinfo_t *si, int parc, char *parv[])
 		return;
 	}
 
+	if (nick && *nick == '-')
+	{
+		parv[1]++;
+		cs_cmd_devoice(si, parc, parv);
+		return;
+	}
+
 	mc = mychan_find(chan);
 	if (!mc)
 	{

