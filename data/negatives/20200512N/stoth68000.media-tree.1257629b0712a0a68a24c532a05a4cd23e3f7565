commit 1257629b0712a0a68a24c532a05a4cd23e3f7565
Author: Philipp Zabel <philipp.zabel@gmail.com>
Date:   Tue May 26 22:03:32 2009 +0200

    [ARM] pxa: fix pxa27x_udc default pullup GPIO
    
    Currently, pxa27x_udc tries to use GPIO 0 as D+ pullup if not
    explicitly configured. Default to an invalid GPIO (-1) instead.
    
    Signed-off-by: Philipp Zabel <philipp.zabel@gmail.com>
    Acked-by: Robert Jarzmik <robert.jarzmik@free.fr>
    Signed-off-by: Eric Miao <eric.miao@marvell.com>

diff --git a/arch/arm/mach-pxa/devices.c b/arch/arm/mach-pxa/devices.c
index d245e59c51b1..29970f703f3c 100644
--- a/arch/arm/mach-pxa/devices.c
+++ b/arch/arm/mach-pxa/devices.c
@@ -72,7 +72,10 @@ void __init pxa_set_mci_info(struct pxamci_platform_data *info)
 }
 
 
-static struct pxa2xx_udc_mach_info pxa_udc_info;
+static struct pxa2xx_udc_mach_info pxa_udc_info = {
+	.gpio_pullup = -1,
+	.gpio_vbus   = -1,
+};
 
 void __init pxa_set_udc_info(struct pxa2xx_udc_mach_info *info)
 {

