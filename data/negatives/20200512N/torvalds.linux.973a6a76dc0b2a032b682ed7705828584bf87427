commit 973a6a76dc0b2a032b682ed7705828584bf87427
Author: Fabio Estevam <fabio.estevam@freescale.com>
Date:   Tue Oct 9 16:25:13 2012 -0300

    ARM: mxc: platform-mxc-mmc: Fix register region size
    
    Do not hardcode the register region to SZ_4K as this is not correct for mx31.
    
    Use data->iosize instead which works for both mx27 and mx31 cases.
    
    Signed-off-by: Fabio Estevam <fabio.estevam@freescale.com>
    Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>

diff --git a/arch/arm/plat-mxc/devices/platform-mxc-mmc.c b/arch/arm/plat-mxc/devices/platform-mxc-mmc.c
index 540d3a7d92df..e7b920b58675 100644
--- a/arch/arm/plat-mxc/devices/platform-mxc-mmc.c
+++ b/arch/arm/plat-mxc/devices/platform-mxc-mmc.c
@@ -55,7 +55,7 @@ struct platform_device *__init imx_add_mxc_mmc(
 	struct resource res[] = {
 		{
 			.start = data->iobase,
-			.end = data->iobase + SZ_4K - 1,
+			.end = data->iobase + data->iosize - 1,
 			.flags = IORESOURCE_MEM,
 		}, {
 			.start = data->irq,

