commit 74b3fb8d0daf150eeb66665897601fb10c024687
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Sun Jan 11 15:18:20 2015 -0800

    Bluetooth: Add BUILD_BUG_ON for size of struct sockaddr_rc
    
    This adds an extra check for ensuring that the size of sockaddr_rc
    does not grow larger than sockaddr.
    
    Signed-off-by: Marcel Holtmann <marcel@holtmann.org>
    Signed-off-by: Johan Hedberg <johan.hedberg@intel.com>

diff --git a/net/bluetooth/rfcomm/sock.c b/net/bluetooth/rfcomm/sock.c
index 2348176401a0..d8a95755a8a8 100644
--- a/net/bluetooth/rfcomm/sock.c
+++ b/net/bluetooth/rfcomm/sock.c
@@ -1058,6 +1058,8 @@ int __init rfcomm_init_sockets(void)
 {
 	int err;
 
+	BUILD_BUG_ON(sizeof(struct sockaddr_rc) > sizeof(struct sockaddr));
+
 	err = proto_register(&rfcomm_proto, 0);
 	if (err < 0)
 		return err;

