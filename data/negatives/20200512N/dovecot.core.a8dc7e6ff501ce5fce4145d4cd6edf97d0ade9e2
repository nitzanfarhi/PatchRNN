commit a8dc7e6ff501ce5fce4145d4cd6edf97d0ade9e2
Author: Timo Sirainen <tss@iki.fi>
Date:   Tue Feb 25 00:39:44 2003 +0200

    placeholder -> noselect change broke LIST "" "foo/%" not showing foo/.
    
    --HG--
    branch : HEAD

diff --git a/src/imap/cmd-list.c b/src/imap/cmd-list.c
index 66471bd7e..64efeac25 100644
--- a/src/imap/cmd-list.c
+++ b/src/imap/cmd-list.c
@@ -130,7 +130,8 @@ static void list_send(struct list_send_context *ctx, struct list_node *node,
 			name = node->name;
 		send_name = name;
 
-		if (node->flags != MAILBOX_PLACEHOLDER)
+		if (node->flags != MAILBOX_PLACEHOLDER &&
+		    node->flags != MAILBOX_NOSELECT)
 			match = IMAP_MATCH_YES;
 		else {
 			/* make sure the placeholder matches. */

