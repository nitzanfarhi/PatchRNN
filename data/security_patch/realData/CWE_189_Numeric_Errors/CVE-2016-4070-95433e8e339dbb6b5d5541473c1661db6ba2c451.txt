From 95433e8e339dbb6b5d5541473c1661db6ba2c451 Mon Sep 17 00:00:00 2001
From: Stanislav Malyshev <stas@php.net>
Date: Sun, 27 Mar 2016 14:22:19 -0700
Subject: [PATCH] Fix bug #71798 - Integer Overflow in php_raw_url_encode

---
 ext/standard/url.c | 2 +-
 main/php_version.h | 6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/ext/standard/url.c b/ext/standard/url.c
index 2f56d31..27a216a 100644
--- a/ext/standard/url.c
+++ b/ext/standard/url.c
@@ -599,7 +599,7 @@ PHPAPI int php_url_decode(char *str, int len)
  */
 PHPAPI char *php_raw_url_encode(char const *s, int len, int *new_length)
 {
-	register int x, y;
+	register size_t x, y;
 	unsigned char *str;
 
 	str = (unsigned char *) safe_emalloc(3, len, 1);
diff --git a/main/php_version.h b/main/php_version.h
index 25446e3..4ebff7f 100644
--- a/main/php_version.h
+++ b/main/php_version.h
@@ -2,7 +2,7 @@
 /* edit configure.in to change version number */
 #define PHP_MAJOR_VERSION 5
 #define PHP_MINOR_VERSION 5
-#define PHP_RELEASE_VERSION 34
+#define PHP_RELEASE_VERSION 27
 #define PHP_EXTRA_VERSION "-dev"
-#define PHP_VERSION "5.5.34-dev"
-#define PHP_VERSION_ID 50534
+#define PHP_VERSION "5.5.27-dev"
+#define PHP_VERSION_ID 50527
-- 
2.1.4

