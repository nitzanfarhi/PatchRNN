From 1737ac82b335e53376382c07b9a500d73dd2aa11 Mon Sep 17 00:00:00 2001
From: Cristy <urban-warrior@imagemagick.org>
Date: Sun, 9 Jul 2017 09:06:26 -0400
Subject: [PATCH] Zero pixel buffer

---
 coders/jpeg.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/coders/jpeg.c b/coders/jpeg.c
index 9b94e7252c..3c093c1173 100644
--- a/coders/jpeg.c
+++ b/coders/jpeg.c
@@ -1293,6 +1293,8 @@ static Image *ReadJPEGImage(const ImageInfo *image_info,
       ThrowReaderException(ResourceLimitError,"MemoryAllocationFailed");
     }
   jpeg_pixels=(JSAMPLE *) GetVirtualMemoryBlob(memory_info);
+  (void) ResetMagickMemory(jpeg_pixels,0,image->columns* 
+    jpeg_info.output_components*sizeof(*jpeg_pixels));
   /*
     Convert JPEG pixels to pixel packets.
   */
